function rO(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var tZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var n1={exports:{}},xp={},r1={exports:{}},pn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yb;function iO(){if(Yb)return pn;Yb=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function m(ne){return ne===null||typeof ne!="object"?null:(ne=h&&ne[h]||ne["@@iterator"],typeof ne=="function"?ne:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function x(ne,z,J){this.props=ne,this.context=z,this.refs=_,this.updater=J||g}x.prototype.isReactComponent={},x.prototype.setState=function(ne,z){if(typeof ne!="object"&&typeof ne!="function"&&ne!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ne,z,"setState")},x.prototype.forceUpdate=function(ne){this.updater.enqueueForceUpdate(this,ne,"forceUpdate")};function C(){}C.prototype=x.prototype;function L(ne,z,J){this.props=ne,this.context=z,this.refs=_,this.updater=J||g}var j=L.prototype=new C;j.constructor=L,w(j,x.prototype),j.isPureReactComponent=!0;var D=Array.isArray,$=Object.prototype.hasOwnProperty,H={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function I(ne,z,J){var se,Z={},pe=null,ye=null;if(z!=null)for(se in z.ref!==void 0&&(ye=z.ref),z.key!==void 0&&(pe=""+z.key),z)$.call(z,se)&&!R.hasOwnProperty(se)&&(Z[se]=z[se]);var ve=arguments.length-2;if(ve===1)Z.children=J;else if(1<ve){for(var we=Array(ve),Ie=0;Ie<ve;Ie++)we[Ie]=arguments[Ie+2];Z.children=we}if(ne&&ne.defaultProps)for(se in ve=ne.defaultProps,ve)Z[se]===void 0&&(Z[se]=ve[se]);return{$$typeof:n,type:ne,key:pe,ref:ye,props:Z,_owner:H.current}}function N(ne,z){return{$$typeof:n,type:ne.type,key:z,ref:ne.ref,props:ne.props,_owner:ne._owner}}function W(ne){return typeof ne=="object"&&ne!==null&&ne.$$typeof===n}function O(ne){var z={"=":"=0",":":"=2"};return"$"+ne.replace(/[=:]/g,function(J){return z[J]})}var P=/\/+/g;function B(ne,z){return typeof ne=="object"&&ne!==null&&ne.key!=null?O(""+ne.key):z.toString(36)}function Y(ne,z,J,se,Z){var pe=typeof ne;(pe==="undefined"||pe==="boolean")&&(ne=null);var ye=!1;if(ne===null)ye=!0;else switch(pe){case"string":case"number":ye=!0;break;case"object":switch(ne.$$typeof){case n:case e:ye=!0}}if(ye)return ye=ne,Z=Z(ye),ne=se===""?"."+B(ye,0):se,D(Z)?(J="",ne!=null&&(J=ne.replace(P,"$&/")+"/"),Y(Z,z,J,"",function(Ie){return Ie})):Z!=null&&(W(Z)&&(Z=N(Z,J+(!Z.key||ye&&ye.key===Z.key?"":(""+Z.key).replace(P,"$&/")+"/")+ne)),z.push(Z)),1;if(ye=0,se=se===""?".":se+":",D(ne))for(var ve=0;ve<ne.length;ve++){pe=ne[ve];var we=se+B(pe,ve);ye+=Y(pe,z,J,we,Z)}else if(we=m(ne),typeof we=="function")for(ne=we.call(ne),ve=0;!(pe=ne.next()).done;)pe=pe.value,we=se+B(pe,ve++),ye+=Y(pe,z,J,we,Z);else if(pe==="object")throw z=String(ne),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(ne).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return ye}function ue(ne,z,J){if(ne==null)return ne;var se=[],Z=0;return Y(ne,se,"","",function(pe){return z.call(J,pe,Z++)}),se}function ae(ne){if(ne._status===-1){var z=ne._result;z=z(),z.then(function(J){(ne._status===0||ne._status===-1)&&(ne._status=1,ne._result=J)},function(J){(ne._status===0||ne._status===-1)&&(ne._status=2,ne._result=J)}),ne._status===-1&&(ne._status=0,ne._result=z)}if(ne._status===1)return ne._result.default;throw ne._result}var le={current:null},te={transition:null},ce={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:te,ReactCurrentOwner:H};function fe(){throw Error("act(...) is not supported in production builds of React.")}return pn.Children={map:ue,forEach:function(ne,z,J){ue(ne,function(){z.apply(this,arguments)},J)},count:function(ne){var z=0;return ue(ne,function(){z++}),z},toArray:function(ne){return ue(ne,function(z){return z})||[]},only:function(ne){if(!W(ne))throw Error("React.Children.only expected to receive a single React element child.");return ne}},pn.Component=x,pn.Fragment=t,pn.Profiler=i,pn.PureComponent=L,pn.StrictMode=r,pn.Suspense=u,pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,pn.act=fe,pn.cloneElement=function(ne,z,J){if(ne==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ne+".");var se=w({},ne.props),Z=ne.key,pe=ne.ref,ye=ne._owner;if(z!=null){if(z.ref!==void 0&&(pe=z.ref,ye=H.current),z.key!==void 0&&(Z=""+z.key),ne.type&&ne.type.defaultProps)var ve=ne.type.defaultProps;for(we in z)$.call(z,we)&&!R.hasOwnProperty(we)&&(se[we]=z[we]===void 0&&ve!==void 0?ve[we]:z[we])}var we=arguments.length-2;if(we===1)se.children=J;else if(1<we){ve=Array(we);for(var Ie=0;Ie<we;Ie++)ve[Ie]=arguments[Ie+2];se.children=ve}return{$$typeof:n,type:ne.type,key:Z,ref:pe,props:se,_owner:ye}},pn.createContext=function(ne){return ne={$$typeof:o,_currentValue:ne,_currentValue2:ne,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ne.Provider={$$typeof:s,_context:ne},ne.Consumer=ne},pn.createElement=I,pn.createFactory=function(ne){var z=I.bind(null,ne);return z.type=ne,z},pn.createRef=function(){return{current:null}},pn.forwardRef=function(ne){return{$$typeof:a,render:ne}},pn.isValidElement=W,pn.lazy=function(ne){return{$$typeof:d,_payload:{_status:-1,_result:ne},_init:ae}},pn.memo=function(ne,z){return{$$typeof:f,type:ne,compare:z===void 0?null:z}},pn.startTransition=function(ne){var z=te.transition;te.transition={};try{ne()}finally{te.transition=z}},pn.unstable_act=fe,pn.useCallback=function(ne,z){return le.current.useCallback(ne,z)},pn.useContext=function(ne){return le.current.useContext(ne)},pn.useDebugValue=function(){},pn.useDeferredValue=function(ne){return le.current.useDeferredValue(ne)},pn.useEffect=function(ne,z){return le.current.useEffect(ne,z)},pn.useId=function(){return le.current.useId()},pn.useImperativeHandle=function(ne,z,J){return le.current.useImperativeHandle(ne,z,J)},pn.useInsertionEffect=function(ne,z){return le.current.useInsertionEffect(ne,z)},pn.useLayoutEffect=function(ne,z){return le.current.useLayoutEffect(ne,z)},pn.useMemo=function(ne,z){return le.current.useMemo(ne,z)},pn.useReducer=function(ne,z,J){return le.current.useReducer(ne,z,J)},pn.useRef=function(ne){return le.current.useRef(ne)},pn.useState=function(ne){return le.current.useState(ne)},pn.useSyncExternalStore=function(ne,z,J){return le.current.useSyncExternalStore(ne,z,J)},pn.useTransition=function(){return le.current.useTransition()},pn.version="18.3.1",pn}var Jb;function Nm(){return Jb||(Jb=1,r1.exports=iO()),r1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xb;function sO(){if(Xb)return xp;Xb=1;var n=Nm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,u,f){var d,h={},m=null,g=null;f!==void 0&&(m=""+f),u.key!==void 0&&(m=""+u.key),u.ref!==void 0&&(g=u.ref);for(d in u)r.call(u,d)&&!s.hasOwnProperty(d)&&(h[d]=u[d]);if(a&&a.defaultProps)for(d in u=a.defaultProps,u)h[d]===void 0&&(h[d]=u[d]);return{$$typeof:e,type:a,key:m,ref:g,props:h,_owner:i.current}}return xp.Fragment=t,xp.jsx=o,xp.jsxs=o,xp}var Qb;function oO(){return Qb||(Qb=1,n1.exports=sO()),n1.exports}var F=oO(),S=Nm();const Yi=yd(S),fL=rO({__proto__:null,default:Yi},[S]);var m2=function(n,e){return m2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},m2(n,e)};function aO(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");m2(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Ii=function(){return Ii=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ii.apply(this,arguments)};function lO(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Qd(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{f(r.next(d))}catch(h){o(h)}}function u(d){try{f(r.throw(d))}catch(h){o(h)}}function f(d){d.done?s(d.value):i(d.value).then(a,u)}f((r=r.apply(n,[])).next())})}function Zd(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(f){return function(d){return u([f,d])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(t=0)),t;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,i=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){t.label=f[1];break}if(f[0]===6&&t.label<s[1]){t.label=s[1],s=f;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(f);break}s[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(n,t)}catch(d){f=[6,d],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function Il(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}var zf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function $w(n,e){return n(e={exports:{}},e.exports),e.exports}var Ff=$w(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function r(){var i=this;this.locked=new Map,this.addToLocked=function(s,o){var a=i.locked.get(s);a===void 0?o===void 0?i.locked.set(s,[]):i.locked.set(s,[o]):o!==void 0&&(a.unshift(o),i.locked.set(s,a))},this.isLocked=function(s){return i.locked.has(s)},this.lock=function(s){return new Promise(function(o,a){i.isLocked(s)?i.addToLocked(s,o):(i.addToLocked(s),o())})},this.unlock=function(s){var o=i.locked.get(s);if(o!==void 0&&o.length!==0){var a=o.pop();i.locked.set(s,o),a!==void 0&&setTimeout(a,0)}else i.locked.delete(s)}}return r.getInstance=function(){return r.instance===void 0&&(r.instance=new r),r.instance},r}();e.default=function(){return t.getInstance()}});zw(Ff);var uO=zw($w(function(n,e){var t=zf&&zf.__awaiter||function(d,h,m,g){return new(m||(m=Promise))(function(w,_){function x(j){try{L(g.next(j))}catch(D){_(D)}}function C(j){try{L(g.throw(j))}catch(D){_(D)}}function L(j){j.done?w(j.value):new m(function(D){D(j.value)}).then(x,C)}L((g=g.apply(d,h||[])).next())})},r=zf&&zf.__generator||function(d,h){var m,g,w,_,x={label:0,sent:function(){if(1&w[0])throw w[1];return w[1]},trys:[],ops:[]};return _={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function C(L){return function(j){return function(D){if(m)throw new TypeError("Generator is already executing.");for(;x;)try{if(m=1,g&&(w=2&D[0]?g.return:D[0]?g.throw||((w=g.return)&&w.call(g),0):g.next)&&!(w=w.call(g,D[1])).done)return w;switch(g=0,w&&(D=[2&D[0],w.value]),D[0]){case 0:case 1:w=D;break;case 4:return x.label++,{value:D[1],done:!1};case 5:x.label++,g=D[1],D=[0];continue;case 7:D=x.ops.pop(),x.trys.pop();continue;default:if(w=x.trys,!((w=w.length>0&&w[w.length-1])||D[0]!==6&&D[0]!==2)){x=0;continue}if(D[0]===3&&(!w||D[1]>w[0]&&D[1]<w[3])){x.label=D[1];break}if(D[0]===6&&x.label<w[1]){x.label=w[1],w=D;break}if(w&&x.label<w[2]){x.label=w[2],x.ops.push(D);break}w[2]&&x.ops.pop(),x.trys.pop();continue}D=h.call(d,x)}catch($){D=[6,$],g=0}finally{m=w=0}if(5&D[0])throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}([L,j])}}},i=zf;Object.defineProperty(e,"__esModule",{value:!0});var s="browser-tabs-lock-key",o={key:function(d){return t(i,void 0,void 0,function(){return r(this,function(h){throw new Error("Unsupported")})})},getItem:function(d){return t(i,void 0,void 0,function(){return r(this,function(h){throw new Error("Unsupported")})})},clear:function(){return t(i,void 0,void 0,function(){return r(this,function(d){return[2,window.localStorage.clear()]})})},removeItem:function(d){return t(i,void 0,void 0,function(){return r(this,function(h){throw new Error("Unsupported")})})},setItem:function(d,h){return t(i,void 0,void 0,function(){return r(this,function(m){throw new Error("Unsupported")})})},keySync:function(d){return window.localStorage.key(d)},getItemSync:function(d){return window.localStorage.getItem(d)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(d){return window.localStorage.removeItem(d)},setItemSync:function(d,h){return window.localStorage.setItem(d,h)}};function a(d){return new Promise(function(h){return setTimeout(h,d)})}function u(d){for(var h="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",m="",g=0;g<d;g++)m+=h[Math.floor(Math.random()*h.length)];return m}var f=function(){function d(h){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+u(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=h,d.waiters===void 0&&(d.waiters=[])}return d.prototype.acquireLock=function(h,m){return m===void 0&&(m=5e3),t(this,void 0,void 0,function(){var g,w,_,x,C,L,j;return r(this,function(D){switch(D.label){case 0:g=Date.now()+u(4),w=Date.now()+m,_=s+"-"+h,x=this.storageHandler===void 0?o:this.storageHandler,D.label=1;case 1:return Date.now()<w?[4,a(30)]:[3,8];case 2:return D.sent(),x.getItemSync(_)!==null?[3,5]:(C=this.id+"-"+h+"-"+g,[4,a(Math.floor(25*Math.random()))]);case 3:return D.sent(),x.setItemSync(_,JSON.stringify({id:this.id,iat:g,timeoutKey:C,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,a(30)];case 4:return D.sent(),(L=x.getItemSync(_))!==null&&(j=JSON.parse(L)).id===this.id&&j.iat===g?(this.acquiredIatSet.add(g),this.refreshLockWhileAcquired(_,g),[2,!0]):[3,7];case 5:return d.lockCorrector(this.storageHandler===void 0?o:this.storageHandler),[4,this.waitForSomethingToChange(w)];case 6:D.sent(),D.label=7;case 7:return g=Date.now()+u(4),[3,1];case 8:return[2,!1]}})})},d.prototype.refreshLockWhileAcquired=function(h,m){return t(this,void 0,void 0,function(){var g=this;return r(this,function(w){return setTimeout(function(){return t(g,void 0,void 0,function(){var _,x,C;return r(this,function(L){switch(L.label){case 0:return[4,Ff.default().lock(m)];case 1:return L.sent(),this.acquiredIatSet.has(m)?(_=this.storageHandler===void 0?o:this.storageHandler,(x=_.getItemSync(h))===null?(Ff.default().unlock(m),[2]):((C=JSON.parse(x)).timeRefreshed=Date.now(),_.setItemSync(h,JSON.stringify(C)),Ff.default().unlock(m),this.refreshLockWhileAcquired(h,m),[2])):(Ff.default().unlock(m),[2])}})})},1e3),[2]})})},d.prototype.waitForSomethingToChange=function(h){return t(this,void 0,void 0,function(){return r(this,function(m){switch(m.label){case 0:return[4,new Promise(function(g){var w=!1,_=Date.now(),x=!1;function C(){if(x||(window.removeEventListener("storage",C),d.removeFromWaiting(C),clearTimeout(L),x=!0),!w){w=!0;var j=50-(Date.now()-_);j>0?setTimeout(g,j):g(null)}}window.addEventListener("storage",C),d.addToWaiting(C);var L=setTimeout(C,Math.max(0,h-Date.now()))})];case 1:return m.sent(),[2]}})})},d.addToWaiting=function(h){this.removeFromWaiting(h),d.waiters!==void 0&&d.waiters.push(h)},d.removeFromWaiting=function(h){d.waiters!==void 0&&(d.waiters=d.waiters.filter(function(m){return m!==h}))},d.notifyWaiters=function(){d.waiters!==void 0&&d.waiters.slice().forEach(function(h){return h()})},d.prototype.releaseLock=function(h){return t(this,void 0,void 0,function(){return r(this,function(m){switch(m.label){case 0:return[4,this.releaseLock__private__(h)];case 1:return[2,m.sent()]}})})},d.prototype.releaseLock__private__=function(h){return t(this,void 0,void 0,function(){var m,g,w,_;return r(this,function(x){switch(x.label){case 0:return m=this.storageHandler===void 0?o:this.storageHandler,g=s+"-"+h,(w=m.getItemSync(g))===null?[2]:(_=JSON.parse(w)).id!==this.id?[3,2]:[4,Ff.default().lock(_.iat)];case 1:x.sent(),this.acquiredIatSet.delete(_.iat),m.removeItemSync(g),Ff.default().unlock(_.iat),d.notifyWaiters(),x.label=2;case 2:return[2]}})})},d.lockCorrector=function(h){for(var m=Date.now()-5e3,g=h,w=[],_=0;;){var x=g.keySync(_);if(x===null)break;w.push(x),_++}for(var C=!1,L=0;L<w.length;L++){var j=w[L];if(j.includes(s)){var D=g.getItemSync(j);if(D!==null){var $=JSON.parse(D);($.timeRefreshed===void 0&&$.timeAcquired<m||$.timeRefreshed!==void 0&&$.timeRefreshed<m)&&(g.removeItemSync(j),C=!0)}}}C&&d.notifyWaiters()},d.waiters=void 0,d}();e.default=f}));const cO={timeoutInSeconds:60},dL={name:"auth0-spa-js",version:"2.1.3"},hL=()=>Date.now();let Mo=class g2 extends Error{constructor(e,t){super(t),this.error=e,this.error_description=t,Object.setPrototypeOf(this,g2.prototype)}static fromPayload({error:e,error_description:t}){return new g2(e,t)}},fO=class pL extends Mo{constructor(e,t,r,i=null){super(e,t),this.state=r,this.appState=i,Object.setPrototypeOf(this,pL.prototype)}},v2=class mL extends Mo{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,mL.prototype)}},dO=class gL extends v2{constructor(e){super(),this.popup=e,Object.setPrototypeOf(this,gL.prototype)}},hO=class vL extends Mo{constructor(e){super("cancelled","Popup closed"),this.popup=e,Object.setPrototypeOf(this,vL.prototype)}},pO=class yL extends Mo{constructor(e,t,r){super(e,t),this.mfa_token=r,Object.setPrototypeOf(this,yL.prototype)}},wL=class _L extends Mo{constructor(e,t){super("missing_refresh_token",`Missing Refresh Token (audience: '${Zb(e,["default"])}', scope: '${Zb(t)}')`),this.audience=e,this.scope=t,Object.setPrototypeOf(this,_L.prototype)}};function Zb(n,e=[]){return n&&!e.includes(n)?n:""}const nv=()=>window.crypto,i1=()=>{const n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.";let e="";return Array.from(nv().getRandomValues(new Uint8Array(43))).forEach(t=>e+=n[t%n.length]),e},ex=n=>btoa(n),y2=n=>{var{clientId:e}=n,t=Il(n,["clientId"]);return new URLSearchParams((r=>Object.keys(r).filter(i=>r[i]!==void 0).reduce((i,s)=>Object.assign(Object.assign({},i),{[s]:r[s]}),{}))(Object.assign({client_id:e},t))).toString()},tx=n=>(e=>decodeURIComponent(atob(e).split("").map(t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)).join("")))(n.replace(/_/g,"/").replace(/-/g,"+")),mO=async(n,e)=>{const t=await fetch(n,e);return{ok:t.ok,json:await t.json()}},gO=async(n,e,t)=>{const r=new AbortController;let i;return e.signal=r.signal,Promise.race([mO(n,e),new Promise((s,o)=>{i=setTimeout(()=>{r.abort(),o(new Error("Timeout when executing 'fetch'"))},t)})]).finally(()=>{clearTimeout(i)})},vO=async(n,e,t,r,i,s,o)=>{return a={auth:{audience:e,scope:t},timeout:i,fetchUrl:n,fetchOptions:r,useFormData:o},u=s,new Promise(function(f,d){const h=new MessageChannel;h.port1.onmessage=function(m){m.data.error?d(new Error(m.data.error)):f(m.data),h.port1.close()},u.postMessage(a,[h.port2])});var a,u},yO=async(n,e,t,r,i,s,o=1e4)=>i?vO(n,e,t,r,o,i,s):gO(n,r,o);async function wO(n,e){var{baseUrl:t,timeout:r,audience:i,scope:s,auth0Client:o,useFormData:a}=n,u=Il(n,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);const f=a?y2(u):JSON.stringify(u);return await async function(d,h,m,g,w,_,x){let C,L=null;for(let I=0;I<3;I++)try{C=await yO(d,m,g,w,_,x,h),L=null;break}catch(N){L=N}if(L)throw L;const j=C.json,{error:D,error_description:$}=j,H=Il(j,["error","error_description"]),{ok:R}=C;if(!R){const I=$||`HTTP error. Unable to fetch ${d}`;throw D==="mfa_required"?new pO(D,I,H.mfa_token):D==="missing_refresh_token"?new wL(m,g):new Mo(D||"request_error",I)}return H}(`${t}/oauth/token`,r,i||"default",s,{method:"POST",body:f,headers:{"Content-Type":a?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(o||dL))}},e,a)}const Tg=(...n)=>{return(e=n.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(e))).join(" ");var e};let qf=class w2{constructor(e,t="@@auth0spajs@@",r){this.prefix=t,this.suffix=r,this.clientId=e.clientId,this.scope=e.scope,this.audience=e.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(e){const[t,r,i,s]=e.split("::");return new w2({clientId:r,scope:s,audience:i},t)}static fromCacheEntry(e){const{scope:t,audience:r,client_id:i}=e;return new w2({scope:t,audience:r,clientId:i})}},_O=class{set(e,t){localStorage.setItem(e,JSON.stringify(t))}get(e){const t=window.localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch{return}}remove(e){localStorage.removeItem(e)}allKeys(){return Object.keys(window.localStorage).filter(e=>e.startsWith("@@auth0spajs@@"))}},bL=class{constructor(){this.enclosedCache=function(){let e={};return{set(t,r){e[t]=r},get(t){const r=e[t];if(r)return r},remove(t){delete e[t]},allKeys:()=>Object.keys(e)}}()}},bO=class{constructor(e,t,r){this.cache=e,this.keyManifest=t,this.nowProvider=r||hL}async setIdToken(e,t,r){var i;const s=this.getIdTokenCacheKey(e);await this.cache.set(s,{id_token:t,decodedToken:r}),await((i=this.keyManifest)===null||i===void 0?void 0:i.add(s))}async getIdToken(e){const t=await this.cache.get(this.getIdTokenCacheKey(e.clientId));if(!t&&e.scope&&e.audience){const r=await this.get(e);return!r||!r.id_token||!r.decodedToken?void 0:{id_token:r.id_token,decodedToken:r.decodedToken}}if(t)return{id_token:t.id_token,decodedToken:t.decodedToken}}async get(e,t=0){var r;let i=await this.cache.get(e.toKey());if(!i){const a=await this.getCacheKeys();if(!a)return;const u=this.matchExistingCacheKey(e,a);u&&(i=await this.cache.get(u))}if(!i)return;const s=await this.nowProvider(),o=Math.floor(s/1e3);return i.expiresAt-t<o?i.body.refresh_token?(i.body={refresh_token:i.body.refresh_token},await this.cache.set(e.toKey(),i),i.body):(await this.cache.remove(e.toKey()),void await((r=this.keyManifest)===null||r===void 0?void 0:r.remove(e.toKey()))):i.body}async set(e){var t;const r=new qf({clientId:e.client_id,scope:e.scope,audience:e.audience}),i=await this.wrapCacheEntry(e);await this.cache.set(r.toKey(),i),await((t=this.keyManifest)===null||t===void 0?void 0:t.add(r.toKey()))}async clear(e){var t;const r=await this.getCacheKeys();r&&(await r.filter(i=>!e||i.includes(e)).reduce(async(i,s)=>{await i,await this.cache.remove(s)},Promise.resolve()),await((t=this.keyManifest)===null||t===void 0?void 0:t.clear()))}async wrapCacheEntry(e){const t=await this.nowProvider();return{body:e,expiresAt:Math.floor(t/1e3)+e.expires_in}}async getCacheKeys(){var e;return this.keyManifest?(e=await this.keyManifest.get())===null||e===void 0?void 0:e.keys:this.cache.allKeys?this.cache.allKeys():void 0}getIdTokenCacheKey(e){return new qf({clientId:e},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(e,t){return t.filter(r=>{var i;const s=qf.fromKey(r),o=new Set(s.scope&&s.scope.split(" ")),a=((i=e.scope)===null||i===void 0?void 0:i.split(" "))||[],u=s.scope&&a.reduce((f,d)=>f&&o.has(d),!0);return s.prefix==="@@auth0spajs@@"&&s.clientId===e.clientId&&s.audience===e.audience&&u})[0]}},xO=class{constructor(e,t,r){this.storage=e,this.clientId=t,this.cookieDomain=r,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(e){this.storage.save(this.storageKey,e,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}};const Sp=n=>typeof n=="number",SO=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],EO=n=>{if(!n.id_token)throw new Error("ID token is required but missing");const e=(s=>{const o=s.split("."),[a,u,f]=o;if(o.length!==3||!a||!u||!f)throw new Error("ID token could not be decoded");const d=JSON.parse(tx(u)),h={__raw:s},m={};return Object.keys(d).forEach(g=>{h[g]=d[g],SO.includes(g)||(m[g]=d[g])}),{encoded:{header:a,payload:u,signature:f},header:JSON.parse(tx(a)),claims:h,user:m}})(n.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==n.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${n.iss}", found "${e.claims.iss}"`);if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(e.header.alg!=="RS256")throw new Error(`Signature algorithm of "${e.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!e.claims.aud||typeof e.claims.aud!="string"&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(n.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${n.aud}" but was not one of "${e.claims.aud.join(", ")}"`);if(e.claims.aud.length>1){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==n.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${n.aud}", found "${e.claims.azp}"`)}}else if(e.claims.aud!==n.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${n.aud}" but found "${e.claims.aud}"`);if(n.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==n.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${n.nonce}", found "${e.claims.nonce}"`)}if(n.max_age&&!Sp(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(e.claims.exp==null||!Sp(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!Sp(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");const t=n.leeway||60,r=new Date(n.now||Date.now()),i=new Date(0);if(i.setUTCSeconds(e.claims.exp+t),r>i)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${r}) is after expiration time (${i})`);if(e.claims.nbf!=null&&Sp(e.claims.nbf)){const s=new Date(0);if(s.setUTCSeconds(e.claims.nbf-t),r<s)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${r}) is before ${s}`)}if(e.claims.auth_time!=null&&Sp(e.claims.auth_time)){const s=new Date(0);if(s.setUTCSeconds(parseInt(e.claims.auth_time)+n.max_age+t),r>s)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${r}) is after last auth at ${s}`)}if(n.organization){const s=n.organization.trim();if(s.startsWith("org_")){const o=s;if(!e.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(o!==e.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${o}", found "${e.claims.org_id}"`)}else{const o=s.toLowerCase();if(!e.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(o!==e.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected "${o}", found "${e.claims.org_name}"`)}}return e};var Wf=$w(function(n,e){var t=zf&&zf.__assign||function(){return t=Object.assign||function(u){for(var f,d=1,h=arguments.length;d<h;d++)for(var m in f=arguments[d])Object.prototype.hasOwnProperty.call(f,m)&&(u[m]=f[m]);return u},t.apply(this,arguments)};function r(u,f){if(!f)return"";var d="; "+u;return f===!0?d:d+"="+f}function i(u,f,d){return encodeURIComponent(u).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(f).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(h){if(typeof h.expires=="number"){var m=new Date;m.setMilliseconds(m.getMilliseconds()+864e5*h.expires),h.expires=m}return r("Expires",h.expires?h.expires.toUTCString():"")+r("Domain",h.domain)+r("Path",h.path)+r("Secure",h.secure)+r("SameSite",h.sameSite)}(d)}function s(u){for(var f={},d=u?u.split("; "):[],h=/(%[\dA-F]{2})+/gi,m=0;m<d.length;m++){var g=d[m].split("="),w=g.slice(1).join("=");w.charAt(0)==='"'&&(w=w.slice(1,-1));try{f[g[0].replace(h,decodeURIComponent)]=w.replace(h,decodeURIComponent)}catch{}}return f}function o(){return s(document.cookie)}function a(u,f,d){document.cookie=i(u,f,t({path:"/"},d))}e.__esModule=!0,e.encode=i,e.parse=s,e.getAll=o,e.get=function(u){return o()[u]},e.set=a,e.remove=function(u,f){a(u,"",t(t({},f),{expires:-1}))}});zw(Wf),Wf.encode,Wf.parse,Wf.getAll;var CO=Wf.get,xL=Wf.set,SL=Wf.remove;const lh={get(n){const e=CO(n);if(e!==void 0)return JSON.parse(e)},save(n,e,t){let r={};window.location.protocol==="https:"&&(r={secure:!0,sameSite:"none"}),t!=null&&t.daysUntilExpire&&(r.expires=t.daysUntilExpire),t!=null&&t.cookieDomain&&(r.domain=t.cookieDomain),xL(n,JSON.stringify(e),r)},remove(n,e){let t={};e!=null&&e.cookieDomain&&(t.domain=e.cookieDomain),SL(n,t)}},AO={get(n){return lh.get(n)||lh.get(`_legacy_${n}`)},save(n,e,t){let r={};window.location.protocol==="https:"&&(r={secure:!0}),t!=null&&t.daysUntilExpire&&(r.expires=t.daysUntilExpire),t!=null&&t.cookieDomain&&(r.domain=t.cookieDomain),xL(`_legacy_${n}`,JSON.stringify(e),r),lh.save(n,e,t)},remove(n,e){let t={};e!=null&&e.cookieDomain&&(t.domain=e.cookieDomain),SL(n,t),lh.remove(n,e),lh.remove(`_legacy_${n}`,e)}},LO={get(n){if(typeof sessionStorage>"u")return;const e=sessionStorage.getItem(n);return e!=null?JSON.parse(e):void 0},save(n,e){sessionStorage.setItem(n,JSON.stringify(e))},remove(n){sessionStorage.removeItem(n)}};function kO(n,e,t){var r=e===void 0?null:e,i=function(u,f){var d=atob(u);if(f){for(var h=new Uint8Array(d.length),m=0,g=d.length;m<g;++m)h[m]=d.charCodeAt(m);return String.fromCharCode.apply(null,new Uint16Array(h.buffer))}return d}(n,t!==void 0&&t),s=i.indexOf(`
`,10)+1,o=i.substring(s)+(r?"//# sourceMappingURL="+r:""),a=new Blob([o],{type:"application/javascript"});return URL.createObjectURL(a)}var nx,rx,ix,s1,PO=(nx="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YX0scG9ydHM6W3BdfSk9PntsZXQgZjtjb25zdHthdWRpZW5jZTp1LHNjb3BlOmx9PXJ8fHt9O3RyeXtjb25zdCByPWE/KGU9Pntjb25zdCB0PW5ldyBVUkxTZWFyY2hQYXJhbXMoZSkscj17fTtyZXR1cm4gdC5mb3JFYWNoKCgoZSx0KT0+e3JbdF09ZX0pKSxyfSkoYy5ib2R5KTpKU09OLnBhcnNlKGMuYm9keSk7aWYoIXIucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09ci5ncmFudF90eXBlKXtjb25zdCBlPSgoZSx0KT0+b1tuKGUsdCldKSh1LGwpO2lmKCFlKXRocm93IG5ldyB0KHUsbCk7Yy5ib2R5PWE/cyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKTpKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKX1sZXQgaCxnOyJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJihoPW5ldyBBYm9ydENvbnRyb2xsZXIsYy5zaWduYWw9aC5zaWduYWwpO3RyeXtnPWF3YWl0IFByb21pc2UucmFjZShbKGQ9ZSxuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLGQpKSkpLGZldGNoKGksT2JqZWN0LmFzc2lnbih7fSxjKSldKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjplLm1lc3NhZ2V9KX1pZighZylyZXR1cm4gaCYmaC5hYm9ydCgpLHZvaWQgcC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KTtmPWF3YWl0IGcuanNvbigpLGYucmVmcmVzaF90b2tlbj8oKChlLHQscik9PntvW24odCxyKV09ZX0pKGYucmVmcmVzaF90b2tlbix1LGwpLGRlbGV0ZSBmLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KSh1LGwpLHAucG9zdE1lc3NhZ2Uoe29rOmcub2ssanNvbjpmfSl9Y2F0Y2goZSl7cC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3I6ZS5lcnJvcixlcnJvcl9kZXNjcmlwdGlvbjplLm1lc3NhZ2V9fSl9dmFyIGR9KSl9KCk7Cgo=",rx=null,ix=!1,function(n){return s1=s1||kO(nx,rx,ix),new Worker(s1,n)});const o1={};let TO=class{constructor(e,t){this.cache=e,this.clientId=t,this.manifestKey=this.createManifestKeyFrom(this.clientId)}async add(e){var t;const r=new Set(((t=await this.cache.get(this.manifestKey))===null||t===void 0?void 0:t.keys)||[]);r.add(e),await this.cache.set(this.manifestKey,{keys:[...r]})}async remove(e){const t=await this.cache.get(this.manifestKey);if(t){const r=new Set(t.keys);return r.delete(e),r.size>0?await this.cache.set(this.manifestKey,{keys:[...r]}):await this.cache.remove(this.manifestKey)}}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(e){return`@@auth0spajs@@::${e}`}};const IO={memory:()=>new bL().enclosedCache,localstorage:()=>new _O},sx=n=>IO[n],ox=n=>{const{openUrl:e,onRedirect:t}=n,r=Il(n,["openUrl","onRedirect"]);return Object.assign(Object.assign({},r),{openUrl:e===!1||e?e:t})},a1=new uO;let NO=class{constructor(e){let t,r;if(this.userCache=new bL().enclosedCache,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=async()=>{await a1.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)},this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),e),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),e.authorizationParams)}),typeof window<"u"&&(()=>{if(!nv())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(nv().subtle===void 0)throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `)})(),e.cache&&e.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),e.cache)r=e.cache;else{if(t=e.cacheLocation||"memory",!sx(t))throw new Error(`Invalid cache location "${t}"`);r=sx(t)()}this.httpTimeoutMs=e.httpTimeoutInSeconds?1e3*e.httpTimeoutInSeconds:1e4,this.cookieStorage=e.legacySameSiteCookie===!1?lh:AO,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(o=>`auth0.${o}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;const i=e.useCookiesForTransactions?this.cookieStorage:LO;var s;this.scope=Tg("openid",this.options.authorizationParams.scope,this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new xO(i,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||hL,this.cacheManager=new bO(r,r.allKeys?void 0:new TO(r,this.options.clientId),this.nowProvider),this.domainUrl=(s=this.options.domain,/^https?:\/\//.test(s)?s:`https://${s}`),this.tokenIssuer=((o,a)=>o?o.startsWith("https://")?o:`https://${o}/`:`${a}/`)(this.options.issuer,this.domainUrl),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&t==="memory"&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new PO)}_url(e){const t=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||dL)));return`${this.domainUrl}${e}&auth0Client=${t}`}_authorizeUrl(e){return this._url(`/authorize?${y2(e)}`)}async _verifyIdToken(e,t,r){const i=await this.nowProvider();return EO({iss:this.tokenIssuer,aud:this.options.clientId,id_token:e,nonce:t,organization:r,leeway:this.options.leeway,max_age:(s=this.options.authorizationParams.max_age,typeof s!="string"?s:parseInt(s,10)||void 0),now:i});var s}_processOrgHint(e){e?this.cookieStorage.save(this.orgHintCookieName,e,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}async _prepareAuthorizeUrl(e,t,r){const i=ex(i1()),s=ex(i1()),o=i1(),a=(d=>{const h=new Uint8Array(d);return(m=>{const g={"+":"-","/":"_","=":""};return m.replace(/[+/=]/g,w=>g[w])})(window.btoa(String.fromCharCode(...Array.from(h))))})(await(async d=>await nv().subtle.digest({name:"SHA-256"},new TextEncoder().encode(d)))(o)),u=((d,h,m,g,w,_,x,C)=>Object.assign(Object.assign(Object.assign({client_id:d.clientId},d.authorizationParams),m),{scope:Tg(h,m.scope),response_type:"code",response_mode:C||"query",state:g,nonce:w,redirect_uri:x||d.authorizationParams.redirect_uri,code_challenge:_,code_challenge_method:"S256"}))(this.options,this.scope,e,i,s,a,e.redirect_uri||this.options.authorizationParams.redirect_uri||r,t==null?void 0:t.response_mode),f=this._authorizeUrl(u);return{nonce:s,code_verifier:o,scope:u.scope,audience:u.audience||"default",redirect_uri:u.redirect_uri,state:i,url:f}}async loginWithPopup(e,t){var r;if(e=e||{},!(t=t||{}).popup&&(t.popup=(a=>{const u=window.screenX+(window.innerWidth-400)/2,f=window.screenY+(window.innerHeight-600)/2;return window.open(a,"auth0:authorize:popup",`left=${u},top=${f},width=400,height=600,resizable,scrollbars=yes,status=1`)})(""),!t.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");const i=await this._prepareAuthorizeUrl(e.authorizationParams||{},{response_mode:"web_message"},window.location.origin);t.popup.location.href=i.url;const s=await(a=>new Promise((u,f)=>{let d;const h=setInterval(()=>{a.popup&&a.popup.closed&&(clearInterval(h),clearTimeout(m),window.removeEventListener("message",d,!1),f(new hO(a.popup)))},1e3),m=setTimeout(()=>{clearInterval(h),f(new dO(a.popup)),window.removeEventListener("message",d,!1)},1e3*(a.timeoutInSeconds||60));d=function(g){if(g.data&&g.data.type==="authorization_response"){if(clearTimeout(m),clearInterval(h),window.removeEventListener("message",d,!1),a.popup.close(),g.data.response.error)return f(Mo.fromPayload(g.data.response));u(g.data.response)}},window.addEventListener("message",d)}))(Object.assign(Object.assign({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(i.state!==s.state)throw new Mo("state_mismatch","Invalid state");const o=((r=e.authorizationParams)===null||r===void 0?void 0:r.organization)||this.options.authorizationParams.organization;await this._requestToken({audience:i.audience,scope:i.scope,code_verifier:i.code_verifier,grant_type:"authorization_code",code:s.code,redirect_uri:i.redirect_uri},{nonceIn:i.nonce,organization:o})}async getUser(){var e;const t=await this._getIdTokenFromCache();return(e=t==null?void 0:t.decodedToken)===null||e===void 0?void 0:e.user}async getIdTokenClaims(){var e;const t=await this._getIdTokenFromCache();return(e=t==null?void 0:t.decodedToken)===null||e===void 0?void 0:e.claims}async loginWithRedirect(e={}){var t;const r=ox(e),{openUrl:i,fragment:s,appState:o}=r,a=Il(r,["openUrl","fragment","appState"]),u=((t=a.authorizationParams)===null||t===void 0?void 0:t.organization)||this.options.authorizationParams.organization,f=await this._prepareAuthorizeUrl(a.authorizationParams||{}),{url:d}=f,h=Il(f,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},h),{appState:o}),u&&{organization:u}));const m=s?`${d}#${s}`:d;i?await i(m):window.location.assign(m)}async handleRedirectCallback(e=window.location.href){const t=e.split("?").slice(1);if(t.length===0)throw new Error("There are no query params available for parsing.");const{state:r,code:i,error:s,error_description:o}=(h=>{h.indexOf("#")>-1&&(h=h.substring(0,h.indexOf("#")));const m=new URLSearchParams(h);return{state:m.get("state"),code:m.get("code")||void 0,error:m.get("error")||void 0,error_description:m.get("error_description")||void 0}})(t.join("")),a=this.transactionManager.get();if(!a)throw new Mo("missing_transaction","Invalid state");if(this.transactionManager.remove(),s)throw new fO(s,o||s,r,a.appState);if(!a.code_verifier||a.state&&a.state!==r)throw new Mo("state_mismatch","Invalid state");const u=a.organization,f=a.nonce,d=a.redirect_uri;return await this._requestToken(Object.assign({audience:a.audience,scope:a.scope,code_verifier:a.code_verifier,grant_type:"authorization_code",code:i},d?{redirect_uri:d}:{}),{nonceIn:f,organization:u}),{appState:a.appState}}async checkSession(e){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{await this.getTokenSilently(e)}catch{}}async getTokenSilently(e={}){var t;const r=Object.assign(Object.assign({cacheMode:"on"},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:Tg(this.scope,(t=e.authorizationParams)===null||t===void 0?void 0:t.scope)})}),i=await((s,o)=>{let a=o1[o];return a||(a=s().finally(()=>{delete o1[o],a=null}),o1[o]=a),a})(()=>this._getTokenSilently(r),`${this.options.clientId}::${r.authorizationParams.audience}::${r.authorizationParams.scope}`);return e.detailedResponse?i:i==null?void 0:i.access_token}async _getTokenSilently(e){const{cacheMode:t}=e,r=Il(e,["cacheMode"]);if(t!=="off"){const i=await this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId});if(i)return i}if(t!=="cache-only"){if(!await(async(i,s=3)=>{for(let o=0;o<s;o++)if(await i())return!0;return!1})(()=>a1.acquireLock("auth0.lock.getTokenSilently",5e3),10))throw new v2;try{if(window.addEventListener("pagehide",this._releaseLockOnPageHide),t!=="off"){const f=await this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId});if(f)return f}const i=this.options.useRefreshTokens?await this._getTokenUsingRefreshToken(r):await this._getTokenFromIFrame(r),{id_token:s,access_token:o,oauthTokenScope:a,expires_in:u}=i;return Object.assign(Object.assign({id_token:s,access_token:o},a?{scope:a}:null),{expires_in:u})}finally{await a1.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}}async getTokenWithPopup(e={},t={}){var r;const i=Object.assign(Object.assign({},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:Tg(this.scope,(r=e.authorizationParams)===null||r===void 0?void 0:r.scope)})});return t=Object.assign(Object.assign({},cO),t),await this.loginWithPopup(i,t),(await this.cacheManager.get(new qf({scope:i.authorizationParams.scope,audience:i.authorizationParams.audience||"default",clientId:this.options.clientId}))).access_token}async isAuthenticated(){return!!await this.getUser()}_buildLogoutUrl(e){e.clientId!==null?e.clientId=e.clientId||this.options.clientId:delete e.clientId;const t=e.logoutParams||{},{federated:r}=t,i=Il(t,["federated"]),s=r?"&federated":"";return this._url(`/v2/logout?${y2(Object.assign({clientId:e.clientId},i))}`)+s}async logout(e={}){const t=ox(e),{openUrl:r}=t,i=Il(t,["openUrl"]);e.clientId===null?await this.cacheManager.clear():await this.cacheManager.clear(e.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@");const s=this._buildLogoutUrl(i);r?await r(s):r!==!1&&window.location.assign(s)}async _getTokenFromIFrame(e){const t=Object.assign(Object.assign({},e.authorizationParams),{prompt:"none"}),r=this.cookieStorage.get(this.orgHintCookieName);r&&!t.organization&&(t.organization=r);const{url:i,state:s,nonce:o,code_verifier:a,redirect_uri:u,scope:f,audience:d}=await this._prepareAuthorizeUrl(t,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new Mo("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");const h=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,m=await((w,_,x=60)=>new Promise((C,L)=>{const j=window.document.createElement("iframe");j.setAttribute("width","0"),j.setAttribute("height","0"),j.style.display="none";const D=()=>{window.document.body.contains(j)&&(window.document.body.removeChild(j),window.removeEventListener("message",$,!1))};let $;const H=setTimeout(()=>{L(new v2),D()},1e3*x);$=function(R){if(R.origin!=_||!R.data||R.data.type!=="authorization_response")return;const I=R.source;I&&I.close(),R.data.response.error?L(Mo.fromPayload(R.data.response)):C(R.data.response),clearTimeout(H),window.removeEventListener("message",$,!1),setTimeout(D,2e3)},window.addEventListener("message",$,!1),window.document.body.appendChild(j),j.setAttribute("src",w)}))(i,this.domainUrl,h);if(s!==m.state)throw new Mo("state_mismatch","Invalid state");const g=await this._requestToken(Object.assign(Object.assign({},e.authorizationParams),{code_verifier:a,code:m.code,grant_type:"authorization_code",redirect_uri:u,timeout:e.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:o,organization:t.organization});return Object.assign(Object.assign({},g),{scope:f,oauthTokenScope:g.scope,audience:d})}catch(h){throw h.error==="login_required"&&this.logout({openUrl:!1}),h}}async _getTokenUsingRefreshToken(e){const t=await this.cacheManager.get(new qf({scope:e.authorizationParams.scope,audience:e.authorizationParams.audience||"default",clientId:this.options.clientId}));if(!(t&&t.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw new wL(e.authorizationParams.audience||"default",e.authorizationParams.scope)}const r=e.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,i=typeof e.timeoutInSeconds=="number"?1e3*e.timeoutInSeconds:null;try{const s=await this._requestToken(Object.assign(Object.assign(Object.assign({},e.authorizationParams),{grant_type:"refresh_token",refresh_token:t&&t.refresh_token,redirect_uri:r}),i&&{timeout:i}));return Object.assign(Object.assign({},s),{scope:e.authorizationParams.scope,oauthTokenScope:s.scope,audience:e.authorizationParams.audience||"default"})}catch(s){if((s.message.indexOf("Missing Refresh Token")>-1||s.message&&s.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw s}}async _saveEntryInCache(e){const{id_token:t,decodedToken:r}=e,i=Il(e,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:t,decodedToken:r}),await this.cacheManager.setIdToken(this.options.clientId,e.id_token,e.decodedToken),await this.cacheManager.set(i)}async _getIdTokenFromCache(){const e=this.options.authorizationParams.audience||"default",t=await this.cacheManager.getIdToken(new qf({clientId:this.options.clientId,audience:e,scope:this.scope})),r=this.userCache.get("@@user@@");return t&&t.id_token===(r==null?void 0:r.id_token)?r:(this.userCache.set("@@user@@",t),t)}async _getEntryFromCache({scope:e,audience:t,clientId:r}){const i=await this.cacheManager.get(new qf({scope:e,audience:t,clientId:r}),60);if(i&&i.access_token){const{access_token:s,oauthTokenScope:o,expires_in:a}=i,u=await this._getIdTokenFromCache();return u&&Object.assign(Object.assign({id_token:u.id_token,access_token:s},o?{scope:o}:null),{expires_in:a})}}async _requestToken(e,t){const{nonceIn:r,organization:i}=t||{},s=await wO(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},e),this.worker),o=await this._verifyIdToken(s.id_token,r,i);return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},s),{decodedToken:o,scope:e.scope,audience:e.audience||"default"}),s.scope?{oauthTokenScope:s.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(i||o.claims.org_id),Object.assign(Object.assign({},s),{decodedToken:o})}};var EL={isAuthenticated:!1,isLoading:!0},wu=function(){throw new Error("You forgot to wrap your component in <Auth0Provider>.")},RO=Ii(Ii({},EL),{buildAuthorizeUrl:wu,buildLogoutUrl:wu,getAccessTokenSilently:wu,getAccessTokenWithPopup:wu,getIdTokenClaims:wu,loginWithRedirect:wu,loginWithPopup:wu,logout:wu,handleRedirectCallback:wu}),CL=S.createContext(RO),ax=function(n){aO(e,n);function e(t,r){var i=n.call(this,r||t)||this;return i.error=t,i.error_description=r,Object.setPrototypeOf(i,e.prototype),i}return e}(Error),OO=/[?&]code=[^&]+/,MO=/[?&]state=[^&]+/,DO=/[?&]error=[^&]+/,jO=function(n){return n===void 0&&(n=window.location.search),(OO.test(n)||DO.test(n))&&MO.test(n)},AL=function(n){return function(e){return e instanceof Error?e:e!==null&&typeof e=="object"&&"error"in e&&typeof e.error=="string"?"error_description"in e&&typeof e.error_description=="string"?new ax(e.error,e.error_description):new ax(e.error):new Error(n)}},lx=AL("Login failed"),l1=AL("Get access token failed"),LL=function(n){var e;n!=null&&n.redirectUri&&(console.warn("Using `redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `redirectUri` will be no longer supported in a future version"),n.authorizationParams=n.authorizationParams||{},n.authorizationParams.redirect_uri=n.redirectUri,delete n.redirectUri),!((e=n==null?void 0:n.authorizationParams)===null||e===void 0)&&e.redirectUri&&(console.warn("Using `authorizationParams.redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `authorizationParams.redirectUri` will be removed in a future version"),n.authorizationParams.redirect_uri=n.authorizationParams.redirectUri,delete n.authorizationParams.redirectUri)},FO=function(n,e){switch(e.type){case"LOGIN_POPUP_STARTED":return Ii(Ii({},n),{isLoading:!0});case"LOGIN_POPUP_COMPLETE":case"INITIALISED":return Ii(Ii({},n),{isAuthenticated:!!e.user,user:e.user,isLoading:!1,error:void 0});case"HANDLE_REDIRECT_COMPLETE":case"GET_ACCESS_TOKEN_COMPLETE":return n.user===e.user?n:Ii(Ii({},n),{isAuthenticated:!!e.user,user:e.user});case"LOGOUT":return Ii(Ii({},n),{isAuthenticated:!1,user:void 0});case"ERROR":return Ii(Ii({},n),{isLoading:!1,error:e.error})}},BO=function(n){return LL(n),Ii(Ii({},n),{auth0Client:{name:"auth0-react",version:"2.3.0"}})},VO=function(n){window.history.replaceState({},document.title,(n==null?void 0:n.returnTo)||window.location.pathname)},UO=function(n){var e=n.children,t=n.skipRedirectCallback,r=n.onRedirectCallback,i=r===void 0?VO:r,s=n.context,o=s===void 0?CL:s,a=lO(n,["children","skipRedirectCallback","onRedirectCallback","context"]),u=S.useState(function(){return new NO(BO(a))})[0],f=S.useReducer(FO,EL),d=f[0],h=f[1],m=S.useRef(!1),g=S.useCallback(function(H){return h({type:"ERROR",error:H}),H},[]);S.useEffect(function(){m.current||(m.current=!0,function(){return Qd(void 0,void 0,void 0,function(){var H,R,I;return Zd(this,function(N){switch(N.label){case 0:return N.trys.push([0,7,,8]),H=void 0,jO()&&!t?[4,u.handleRedirectCallback()]:[3,3];case 1:return R=N.sent().appState,[4,u.getUser()];case 2:return H=N.sent(),i(R,H),[3,6];case 3:return[4,u.checkSession()];case 4:return N.sent(),[4,u.getUser()];case 5:H=N.sent(),N.label=6;case 6:return h({type:"INITIALISED",user:H}),[3,8];case 7:return I=N.sent(),g(lx(I)),[3,8];case 8:return[2]}})})}())},[u,i,t,g]);var w=S.useCallback(function(H){return LL(H),u.loginWithRedirect(H)},[u]),_=S.useCallback(function(H,R){return Qd(void 0,void 0,void 0,function(){var I,N;return Zd(this,function(W){switch(W.label){case 0:h({type:"LOGIN_POPUP_STARTED"}),W.label=1;case 1:return W.trys.push([1,3,,4]),[4,u.loginWithPopup(H,R)];case 2:return W.sent(),[3,4];case 3:return I=W.sent(),g(lx(I)),[2];case 4:return[4,u.getUser()];case 5:return N=W.sent(),h({type:"LOGIN_POPUP_COMPLETE",user:N}),[2]}})})},[u]),x=S.useCallback(function(H){return H===void 0&&(H={}),Qd(void 0,void 0,void 0,function(){return Zd(this,function(R){switch(R.label){case 0:return[4,u.logout(H)];case 1:return R.sent(),(H.openUrl||H.openUrl===!1)&&h({type:"LOGOUT"}),[2]}})})},[u]),C=S.useCallback(function(H){return Qd(void 0,void 0,void 0,function(){var R,I,N,W;return Zd(this,function(O){switch(O.label){case 0:return O.trys.push([0,2,3,5]),[4,u.getTokenSilently(H)];case 1:return R=O.sent(),[3,5];case 2:throw I=O.sent(),l1(I);case 3:return N=h,W={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,u.getUser()];case 4:return N.apply(void 0,[(W.user=O.sent(),W)]),[7];case 5:return[2,R]}})})},[u]),L=S.useCallback(function(H,R){return Qd(void 0,void 0,void 0,function(){var I,N,W,O;return Zd(this,function(P){switch(P.label){case 0:return P.trys.push([0,2,3,5]),[4,u.getTokenWithPopup(H,R)];case 1:return I=P.sent(),[3,5];case 2:throw N=P.sent(),l1(N);case 3:return W=h,O={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,u.getUser()];case 4:return W.apply(void 0,[(O.user=P.sent(),O)]),[7];case 5:return[2,I]}})})},[u]),j=S.useCallback(function(){return u.getIdTokenClaims()},[u]),D=S.useCallback(function(H){return Qd(void 0,void 0,void 0,function(){var R,I,N;return Zd(this,function(W){switch(W.label){case 0:return W.trys.push([0,2,3,5]),[4,u.handleRedirectCallback(H)];case 1:return[2,W.sent()];case 2:throw R=W.sent(),l1(R);case 3:return I=h,N={type:"HANDLE_REDIRECT_COMPLETE"},[4,u.getUser()];case 4:return I.apply(void 0,[(N.user=W.sent(),N)]),[7];case 5:return[2]}})})},[u]),$=S.useMemo(function(){return Ii(Ii({},d),{getAccessTokenSilently:C,getAccessTokenWithPopup:L,getIdTokenClaims:j,loginWithRedirect:w,loginWithPopup:_,logout:x,handleRedirectCallback:D})},[d,C,L,j,w,_,x,D]);return Yi.createElement(o.Provider,{value:$},e)},zO=function(n){return n===void 0&&(n=CL),S.useContext(n)},Ig={},u1={exports:{}},so={},c1={exports:{}},f1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ux;function $O(){return ux||(ux=1,function(n){function e(te,ce){var fe=te.length;te.push(ce);e:for(;0<fe;){var ne=fe-1>>>1,z=te[ne];if(0<i(z,ce))te[ne]=ce,te[fe]=z,fe=ne;else break e}}function t(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var ce=te[0],fe=te.pop();if(fe!==ce){te[0]=fe;e:for(var ne=0,z=te.length,J=z>>>1;ne<J;){var se=2*(ne+1)-1,Z=te[se],pe=se+1,ye=te[pe];if(0>i(Z,fe))pe<z&&0>i(ye,Z)?(te[ne]=ye,te[pe]=fe,ne=pe):(te[ne]=Z,te[se]=fe,ne=se);else if(pe<z&&0>i(ye,fe))te[ne]=ye,te[pe]=fe,ne=pe;else break e}}return ce}function i(te,ce){var fe=te.sortIndex-ce.sortIndex;return fe!==0?fe:te.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var u=[],f=[],d=1,h=null,m=3,g=!1,w=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(te){for(var ce=t(f);ce!==null;){if(ce.callback===null)r(f);else if(ce.startTime<=te)r(f),ce.sortIndex=ce.expirationTime,e(u,ce);else break;ce=t(f)}}function D(te){if(_=!1,j(te),!w)if(t(u)!==null)w=!0,ae($);else{var ce=t(f);ce!==null&&le(D,ce.startTime-te)}}function $(te,ce){w=!1,_&&(_=!1,C(I),I=-1),g=!0;var fe=m;try{for(j(ce),h=t(u);h!==null&&(!(h.expirationTime>ce)||te&&!O());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,m=h.priorityLevel;var z=ne(h.expirationTime<=ce);ce=n.unstable_now(),typeof z=="function"?h.callback=z:h===t(u)&&r(u),j(ce)}else r(u);h=t(u)}if(h!==null)var J=!0;else{var se=t(f);se!==null&&le(D,se.startTime-ce),J=!1}return J}finally{h=null,m=fe,g=!1}}var H=!1,R=null,I=-1,N=5,W=-1;function O(){return!(n.unstable_now()-W<N)}function P(){if(R!==null){var te=n.unstable_now();W=te;var ce=!0;try{ce=R(!0,te)}finally{ce?B():(H=!1,R=null)}}else H=!1}var B;if(typeof L=="function")B=function(){L(P)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ue=Y.port2;Y.port1.onmessage=P,B=function(){ue.postMessage(null)}}else B=function(){x(P,0)};function ae(te){R=te,H||(H=!0,B())}function le(te,ce){I=x(function(){te(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_continueExecution=function(){w||g||(w=!0,ae($))},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(te){switch(m){case 1:case 2:case 3:var ce=3;break;default:ce=m}var fe=m;m=ce;try{return te()}finally{m=fe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(te,ce){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var fe=m;m=te;try{return ce()}finally{m=fe}},n.unstable_scheduleCallback=function(te,ce,fe){var ne=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?ne+fe:ne):fe=ne,te){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=fe+z,te={id:d++,callback:ce,priorityLevel:te,startTime:fe,expirationTime:z,sortIndex:-1},fe>ne?(te.sortIndex=fe,e(f,te),t(u)===null&&te===t(f)&&(_?(C(I),I=-1):_=!0,le(D,fe-ne))):(te.sortIndex=z,e(u,te),w||g||(w=!0,ae($))),te},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(te){var ce=m;return function(){var fe=m;m=ce;try{return te.apply(this,arguments)}finally{m=fe}}}}(f1)),f1}var cx;function qO(){return cx||(cx=1,c1.exports=$O()),c1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx;function WO(){if(fx)return so;fx=1;var n=Nm(),e=qO();function t(l){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+l,p=1;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(l,c){o(l,c),o(l+"Capture",c)}function o(l,c){for(i[l]=c,l=0;l<c.length;l++)r.add(c[l])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},h={};function m(l){return u.call(h,l)?!0:u.call(d,l)?!1:f.test(l)?h[l]=!0:(d[l]=!0,!1)}function g(l,c,p,b){if(p!==null&&p.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return b?!1:p!==null?!p.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function w(l,c,p,b){if(c===null||typeof c>"u"||g(l,c,p,b))return!0;if(b)return!1;if(p!==null)switch(p.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function _(l,c,p,b,k,V,Q){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=b,this.attributeNamespace=k,this.mustUseProperty=p,this.propertyName=l,this.type=c,this.sanitizeURL=V,this.removeEmptyString=Q}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){x[l]=new _(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var c=l[0];x[c]=new _(c,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){x[l]=new _(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){x[l]=new _(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){x[l]=new _(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){x[l]=new _(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){x[l]=new _(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){x[l]=new _(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){x[l]=new _(l,5,!1,l.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function L(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var c=l.replace(C,L);x[c]=new _(c,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var c=l.replace(C,L);x[c]=new _(c,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var c=l.replace(C,L);x[c]=new _(c,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){x[l]=new _(l,1,!1,l.toLowerCase(),null,!1,!1)}),x.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){x[l]=new _(l,1,!1,l.toLowerCase(),null,!0,!0)});function j(l,c,p,b){var k=x.hasOwnProperty(c)?x[c]:null;(k!==null?k.type!==0:b||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(w(c,p,k,b)&&(p=null),b||k===null?m(c)&&(p===null?l.removeAttribute(c):l.setAttribute(c,""+p)):k.mustUseProperty?l[k.propertyName]=p===null?k.type===3?!1:"":p:(c=k.attributeName,b=k.attributeNamespace,p===null?l.removeAttribute(c):(k=k.type,p=k===3||k===4&&p===!0?"":""+p,b?l.setAttributeNS(b,c,p):l.setAttribute(c,p))))}var D=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),H=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),O=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),te=Symbol.iterator;function ce(l){return l===null||typeof l!="object"?null:(l=te&&l[te]||l["@@iterator"],typeof l=="function"?l:null)}var fe=Object.assign,ne;function z(l){if(ne===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);ne=c&&c[1]||""}return`
`+ne+l}var J=!1;function se(l,c){if(!l||J)return"";J=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(Ue){var b=Ue}Reflect.construct(l,[],c)}else{try{c.call()}catch(Ue){b=Ue}l.call(c.prototype)}else{try{throw Error()}catch(Ue){b=Ue}l()}}catch(Ue){if(Ue&&b&&typeof Ue.stack=="string"){for(var k=Ue.stack.split(`
`),V=b.stack.split(`
`),Q=k.length-1,ge=V.length-1;1<=Q&&0<=ge&&k[Q]!==V[ge];)ge--;for(;1<=Q&&0<=ge;Q--,ge--)if(k[Q]!==V[ge]){if(Q!==1||ge!==1)do if(Q--,ge--,0>ge||k[Q]!==V[ge]){var xe=`
`+k[Q].replace(" at new "," at ");return l.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",l.displayName)),xe}while(1<=Q&&0<=ge);break}}}finally{J=!1,Error.prepareStackTrace=p}return(l=l?l.displayName||l.name:"")?z(l):""}function Z(l){switch(l.tag){case 5:return z(l.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return l=se(l.type,!1),l;case 11:return l=se(l.type.render,!1),l;case 1:return l=se(l.type,!0),l;default:return""}}function pe(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case R:return"Fragment";case H:return"Portal";case N:return"Profiler";case I:return"StrictMode";case B:return"Suspense";case Y:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case O:return(l.displayName||"Context")+".Consumer";case W:return(l._context.displayName||"Context")+".Provider";case P:var c=l.render;return l=l.displayName,l||(l=c.displayName||c.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case ue:return c=l.displayName||null,c!==null?c:pe(l.type)||"Memo";case ae:c=l._payload,l=l._init;try{return pe(l(c))}catch{}}return null}function ye(l){var c=l.type;switch(l.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=c.render,l=l.displayName||l.name||"",c.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(c);case 8:return c===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function ve(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function we(l){var c=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Ie(l){var c=we(l)?"checked":"value",p=Object.getOwnPropertyDescriptor(l.constructor.prototype,c),b=""+l[c];if(!l.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var k=p.get,V=p.set;return Object.defineProperty(l,c,{configurable:!0,get:function(){return k.call(this)},set:function(Q){b=""+Q,V.call(this,Q)}}),Object.defineProperty(l,c,{enumerable:p.enumerable}),{getValue:function(){return b},setValue:function(Q){b=""+Q},stopTracking:function(){l._valueTracker=null,delete l[c]}}}}function Me(l){l._valueTracker||(l._valueTracker=Ie(l))}function Be(l){if(!l)return!1;var c=l._valueTracker;if(!c)return!0;var p=c.getValue(),b="";return l&&(b=we(l)?l.checked?"true":"false":l.value),l=b,l!==p?(c.setValue(l),!0):!1}function We(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function ft(l,c){var p=c.checked;return fe({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??l._wrapperState.initialChecked})}function Te(l,c){var p=c.defaultValue==null?"":c.defaultValue,b=c.checked!=null?c.checked:c.defaultChecked;p=ve(c.value!=null?c.value:p),l._wrapperState={initialChecked:b,initialValue:p,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function me(l,c){c=c.checked,c!=null&&j(l,"checked",c,!1)}function St(l,c){me(l,c);var p=ve(c.value),b=c.type;if(p!=null)b==="number"?(p===0&&l.value===""||l.value!=p)&&(l.value=""+p):l.value!==""+p&&(l.value=""+p);else if(b==="submit"||b==="reset"){l.removeAttribute("value");return}c.hasOwnProperty("value")?Je(l,c.type,p):c.hasOwnProperty("defaultValue")&&Je(l,c.type,ve(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(l.defaultChecked=!!c.defaultChecked)}function vt(l,c,p){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var b=c.type;if(!(b!=="submit"&&b!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+l._wrapperState.initialValue,p||c===l.value||(l.value=c),l.defaultValue=c}p=l.name,p!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,p!==""&&(l.name=p)}function Je(l,c,p){(c!=="number"||We(l.ownerDocument)!==l)&&(p==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+p&&(l.defaultValue=""+p))}var st=Array.isArray;function Ce(l,c,p,b){if(l=l.options,c){c={};for(var k=0;k<p.length;k++)c["$"+p[k]]=!0;for(p=0;p<l.length;p++)k=c.hasOwnProperty("$"+l[p].value),l[p].selected!==k&&(l[p].selected=k),k&&b&&(l[p].defaultSelected=!0)}else{for(p=""+ve(p),c=null,k=0;k<l.length;k++){if(l[k].value===p){l[k].selected=!0,b&&(l[k].defaultSelected=!0);return}c!==null||l[k].disabled||(c=l[k])}c!==null&&(c.selected=!0)}}function Ne(l,c){if(c.dangerouslySetInnerHTML!=null)throw Error(t(91));return fe({},c,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function Ve(l,c){var p=c.value;if(p==null){if(p=c.children,c=c.defaultValue,p!=null){if(c!=null)throw Error(t(92));if(st(p)){if(1<p.length)throw Error(t(93));p=p[0]}c=p}c==null&&(c=""),p=c}l._wrapperState={initialValue:ve(p)}}function Ze(l,c){var p=ve(c.value),b=ve(c.defaultValue);p!=null&&(p=""+p,p!==l.value&&(l.value=p),c.defaultValue==null&&l.defaultValue!==p&&(l.defaultValue=p)),b!=null&&(l.defaultValue=""+b)}function ct(l){var c=l.textContent;c===l._wrapperState.initialValue&&c!==""&&c!==null&&(l.value=c)}function nt(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(l,c){return l==null||l==="http://www.w3.org/1999/xhtml"?nt(c):l==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var lt,_t=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,p,b,k){MSApp.execUnsafeLocalFunction(function(){return l(c,p,b,k)})}:l}(function(l,c){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=c;else{for(lt=lt||document.createElement("div"),lt.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=lt.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;c.firstChild;)l.appendChild(c.firstChild)}});function gt(l,c){if(c){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=c;return}}l.textContent=c}var ot={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rn=["Webkit","ms","Moz","O"];Object.keys(ot).forEach(function(l){rn.forEach(function(c){c=c+l.charAt(0).toUpperCase()+l.substring(1),ot[c]=ot[l]})});function Mt(l,c,p){return c==null||typeof c=="boolean"||c===""?"":p||typeof c!="number"||c===0||ot.hasOwnProperty(l)&&ot[l]?(""+c).trim():c+"px"}function Zn(l,c){l=l.style;for(var p in c)if(c.hasOwnProperty(p)){var b=p.indexOf("--")===0,k=Mt(p,c[p],b);p==="float"&&(p="cssFloat"),b?l.setProperty(p,k):l[p]=k}}var qt=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jt(l,c){if(c){if(qt[l]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(t(137,l));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(t(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(t(61))}if(c.style!=null&&typeof c.style!="object")throw Error(t(62))}}function on(l,c){if(l.indexOf("-")===-1)return typeof c.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rt=null;function Wt(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var an=null,dn=null,Tt=null;function $t(l){if(l=oc(l)){if(typeof an!="function")throw Error(t(280));var c=l.stateNode;c&&(c=Sf(c),an(l.stateNode,l.type,c))}}function At(l){dn?Tt?Tt.push(l):Tt=[l]:dn=l}function Ut(){if(dn){var l=dn,c=Tt;if(Tt=dn=null,$t(l),c)for(l=0;l<c.length;l++)$t(c[l])}}function Hn(l,c){return l(c)}function yn(){}var jn=!1;function Zr(l,c,p){if(jn)return l(c,p);jn=!0;try{return Hn(l,c,p)}finally{jn=!1,(dn!==null||Tt!==null)&&(yn(),Ut())}}function yt(l,c){var p=l.stateNode;if(p===null)return null;var b=Sf(p);if(b===null)return null;p=b[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(l=l.type,b=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!b;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(t(231,c,typeof p));return p}var It=!1;if(a)try{var Cr={};Object.defineProperty(Cr,"passive",{get:function(){It=!0}}),window.addEventListener("test",Cr,Cr),window.removeEventListener("test",Cr,Cr)}catch{It=!1}function Ar(l,c,p,b,k,V,Q,ge,xe){var Ue=Array.prototype.slice.call(arguments,3);try{c.apply(p,Ue)}catch(at){this.onError(at)}}var er=!1,Fn=null,tr=!1,Us=null,es={onError:function(l){er=!0,Fn=l}};function Gn(l,c,p,b,k,V,Q,ge,xe){er=!1,Fn=null,Ar.apply(es,arguments)}function wr(l,c,p,b,k,V,Q,ge,xe){if(Gn.apply(this,arguments),er){if(er){var Ue=Fn;er=!1,Fn=null}else throw Error(t(198));tr||(tr=!0,Us=Ue)}}function gn(l){var c=l,p=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do c=l,(c.flags&4098)!==0&&(p=c.return),l=c.return;while(l)}return c.tag===3?p:null}function fr(l){if(l.tag===13){var c=l.memoizedState;if(c===null&&(l=l.alternate,l!==null&&(c=l.memoizedState)),c!==null)return c.dehydrated}return null}function Sn(l){if(gn(l)!==l)throw Error(t(188))}function zr(l){var c=l.alternate;if(!c){if(c=gn(l),c===null)throw Error(t(188));return c!==l?null:l}for(var p=l,b=c;;){var k=p.return;if(k===null)break;var V=k.alternate;if(V===null){if(b=k.return,b!==null){p=b;continue}break}if(k.child===V.child){for(V=k.child;V;){if(V===p)return Sn(k),l;if(V===b)return Sn(k),c;V=V.sibling}throw Error(t(188))}if(p.return!==b.return)p=k,b=V;else{for(var Q=!1,ge=k.child;ge;){if(ge===p){Q=!0,p=k,b=V;break}if(ge===b){Q=!0,b=k,p=V;break}ge=ge.sibling}if(!Q){for(ge=V.child;ge;){if(ge===p){Q=!0,p=V,b=k;break}if(ge===b){Q=!0,b=V,p=k;break}ge=ge.sibling}if(!Q)throw Error(t(189))}}if(p.alternate!==b)throw Error(t(190))}if(p.tag!==3)throw Error(t(188));return p.stateNode.current===p?l:c}function ai(l){return l=zr(l),l!==null?wo(l):null}function wo(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var c=wo(l);if(c!==null)return c;l=l.sibling}return null}var _o=e.unstable_scheduleCallback,Go=e.unstable_cancelCallback,Sa=e.unstable_shouldYield,Bu=e.unstable_requestPaint,Kn=e.unstable_now,Vu=e.unstable_getCurrentPriorityLevel,zs=e.unstable_ImmediatePriority,bo=e.unstable_UserBlockingPriority,ts=e.unstable_NormalPriority,Ea=e.unstable_LowPriority,Uu=e.unstable_IdlePriority,Ko=null,Di=null;function Ca(l){if(Di&&typeof Di.onCommitFiberRoot=="function")try{Di.onCommitFiberRoot(Ko,l,void 0,(l.current.flags&128)===128)}catch{}}var li=Math.clz32?Math.clz32:Jl,sr=Math.log,Yl=Math.LN2;function Jl(l){return l>>>=0,l===0?32:31-(sr(l)/Yl|0)|0}var Aa=64,Yo=4194304;function Jo(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function ui(l,c){var p=l.pendingLanes;if(p===0)return 0;var b=0,k=l.suspendedLanes,V=l.pingedLanes,Q=p&268435455;if(Q!==0){var ge=Q&~k;ge!==0?b=Jo(ge):(V&=Q,V!==0&&(b=Jo(V)))}else Q=p&~k,Q!==0?b=Jo(Q):V!==0&&(b=Jo(V));if(b===0)return 0;if(c!==0&&c!==b&&(c&k)===0&&(k=b&-b,V=c&-c,k>=V||k===16&&(V&4194240)!==0))return c;if((b&4)!==0&&(b|=p&16),c=l.entangledLanes,c!==0)for(l=l.entanglements,c&=b;0<c;)p=31-li(c),k=1<<p,b|=l[p],c&=~k;return b}function ul(l,c){switch(l){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _r(l,c){for(var p=l.suspendedLanes,b=l.pingedLanes,k=l.expirationTimes,V=l.pendingLanes;0<V;){var Q=31-li(V),ge=1<<Q,xe=k[Q];xe===-1?((ge&p)===0||(ge&b)!==0)&&(k[Q]=ul(ge,c)):xe<=c&&(l.expiredLanes|=ge),V&=~ge}}function ci(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function Xo(){var l=Aa;return Aa<<=1,(Aa&4194240)===0&&(Aa=64),l}function Qo(l){for(var c=[],p=0;31>p;p++)c.push(l);return c}function xo(l,c,p){l.pendingLanes|=c,c!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,c=31-li(c),l[c]=p}function Bn(l,c){var p=l.pendingLanes&~c;l.pendingLanes=c,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=c,l.mutableReadLanes&=c,l.entangledLanes&=c,c=l.entanglements;var b=l.eventTimes;for(l=l.expirationTimes;0<p;){var k=31-li(p),V=1<<k;c[k]=0,b[k]=-1,l[k]=-1,p&=~V}}function So(l,c){var p=l.entangledLanes|=c;for(l=l.entanglements;p;){var b=31-li(p),k=1<<b;k&c|l[b]&c&&(l[b]|=c),p&=~k}}var fn=0;function $s(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var zu,cl,$u,qs,La,Zo=!1,Es=[],En=null,Cs=null,ns=null,jt=new Map,rs=new Map,Ws=[],Hs="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xl(l,c){switch(l){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":Cs=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":jt.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":rs.delete(c.pointerId)}}function fi(l,c,p,b,k,V){return l===null||l.nativeEvent!==V?(l={blockedOn:c,domEventName:p,eventSystemFlags:b,nativeEvent:V,targetContainers:[k]},c!==null&&(c=oc(c),c!==null&&cl(c)),l):(l.eventSystemFlags|=b,c=l.targetContainers,k!==null&&c.indexOf(k)===-1&&c.push(k),l)}function fl(l,c,p,b,k){switch(c){case"focusin":return En=fi(En,l,c,p,b,k),!0;case"dragenter":return Cs=fi(Cs,l,c,p,b,k),!0;case"mouseover":return ns=fi(ns,l,c,p,b,k),!0;case"pointerover":var V=k.pointerId;return jt.set(V,fi(jt.get(V)||null,l,c,p,b,k)),!0;case"gotpointercapture":return V=k.pointerId,rs.set(V,fi(rs.get(V)||null,l,c,p,b,k)),!0}return!1}function dl(l){var c=bl(l.target);if(c!==null){var p=gn(c);if(p!==null){if(c=p.tag,c===13){if(c=fr(p),c!==null){l.blockedOn=c,La(l.priority,function(){$u(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Eo(l){if(l.blockedOn!==null)return!1;for(var c=l.targetContainers;0<c.length;){var p=Pa(l.domEventName,l.eventSystemFlags,c[0],l.nativeEvent);if(p===null){p=l.nativeEvent;var b=new p.constructor(p.type,p);Rt=b,p.target.dispatchEvent(b),Rt=null}else return c=oc(p),c!==null&&cl(c),l.blockedOn=p,!1;c.shift()}return!0}function ka(l,c,p){Eo(l)&&p.delete(c)}function qu(){Zo=!1,En!==null&&Eo(En)&&(En=null),Cs!==null&&Eo(Cs)&&(Cs=null),ns!==null&&Eo(ns)&&(ns=null),jt.forEach(ka),rs.forEach(ka)}function ji(l,c){l.blockedOn===c&&(l.blockedOn=null,Zo||(Zo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qu)))}function di(l){function c(k){return ji(k,l)}if(0<Es.length){ji(Es[0],l);for(var p=1;p<Es.length;p++){var b=Es[p];b.blockedOn===l&&(b.blockedOn=null)}}for(En!==null&&ji(En,l),Cs!==null&&ji(Cs,l),ns!==null&&ji(ns,l),jt.forEach(c),rs.forEach(c),p=0;p<Ws.length;p++)b=Ws[p],b.blockedOn===l&&(b.blockedOn=null);for(;0<Ws.length&&(p=Ws[0],p.blockedOn===null);)dl(p),p.blockedOn===null&&Ws.shift()}var bi=D.ReactCurrentBatchConfig,ea=!0;function In(l,c,p,b){var k=fn,V=bi.transition;bi.transition=null;try{fn=1,ta(l,c,p,b)}finally{fn=k,bi.transition=V}}function Ql(l,c,p,b){var k=fn,V=bi.transition;bi.transition=null;try{fn=4,ta(l,c,p,b)}finally{fn=k,bi.transition=V}}function ta(l,c,p,b){if(ea){var k=Pa(l,c,p,b);if(k===null)_f(l,c,b,na,p),Xl(l,b);else if(fl(k,l,c,p,b))b.stopPropagation();else if(Xl(l,b),c&4&&-1<Hs.indexOf(l)){for(;k!==null;){var V=oc(k);if(V!==null&&zu(V),V=Pa(l,c,p,b),V===null&&_f(l,c,b,na,p),V===k)break;k=V}k!==null&&b.stopPropagation()}else _f(l,c,b,null,p)}}var na=null;function Pa(l,c,p,b){if(na=null,l=Wt(b),l=bl(l),l!==null)if(c=gn(l),c===null)l=null;else if(p=c.tag,p===13){if(l=fr(c),l!==null)return l;l=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;l=null}else c!==l&&(l=null);return na=l,null}function hl(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vu()){case zs:return 1;case bo:return 4;case ts:case Ea:return 16;case Uu:return 536870912;default:return 16}default:return 16}}var xi=null,Fi=null,br=null;function Zl(){if(br)return br;var l,c=Fi,p=c.length,b,k="value"in xi?xi.value:xi.textContent,V=k.length;for(l=0;l<p&&c[l]===k[l];l++);var Q=p-l;for(b=1;b<=Q&&c[p-b]===k[V-b];b++);return br=k.slice(l,1<b?1-b:void 0)}function As(l){var c=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&c===13&&(l=13)):l=c,l===10&&(l=13),32<=l||l===13?l:0}function Rr(){return!0}function Ta(){return!1}function dr(l){function c(p,b,k,V,Q){this._reactName=p,this._targetInst=k,this.type=b,this.nativeEvent=V,this.target=Q,this.currentTarget=null;for(var ge in l)l.hasOwnProperty(ge)&&(p=l[ge],this[ge]=p?p(V):V[ge]);return this.isDefaultPrevented=(V.defaultPrevented!=null?V.defaultPrevented:V.returnValue===!1)?Rr:Ta,this.isPropagationStopped=Ta,this}return fe(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Rr)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Rr)},persist:function(){},isPersistent:Rr}),c}var Ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Co=dr(Ls),Gs=fe({},Ls,{view:0,detail:0}),eu=dr(Gs),ra,Ks,ks,Ao=fe({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pt,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==ks&&(ks&&l.type==="mousemove"?(ra=l.screenX-ks.screenX,Ks=l.screenY-ks.screenY):Ks=ra=0,ks=l),ra)},movementY:function(l){return"movementY"in l?l.movementY:Ks}}),ia=dr(Ao),pl=fe({},Ao,{dataTransfer:0}),Wu=dr(pl),Lo=fe({},Gs,{relatedTarget:0}),Ys=dr(Lo),ml=fe({},Ls,{animationName:0,elapsedTime:0,pseudoElement:0}),Si=dr(ml),gl=fe({},Ls,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),A=dr(gl),K=fe({},Ls,{data:0}),he=dr(K),_e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tt(l){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(l):(l=qe[l])?!!c[l]:!1}function pt(){return tt}var y=fe({},Gs,{key:function(l){if(l.key){var c=_e[l.key]||l.key;if(c!=="Unidentified")return c}return l.type==="keypress"?(l=As(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Pe[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pt,charCode:function(l){return l.type==="keypress"?As(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?As(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),M=dr(y),q=fe({},Ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ie=dr(q),Le=fe({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pt}),je=dr(Le),rt=fe({},Ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xt=dr(rt),hn=fe({},Ao,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Qt=dr(hn),Nn=[9,13,27,32],Vn=a&&"CompositionEvent"in window,Bi=null;a&&"documentMode"in document&&(Bi=document.documentMode);var hi=a&&"TextEvent"in window&&!Bi,ko=a&&(!Vn||Bi&&8<Bi&&11>=Bi),Po=" ",Hu=!1;function Gu(l,c){switch(l){case"keyup":return Nn.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tu(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var xr=!1;function Ku(l,c){switch(l){case"compositionend":return tu(c);case"keypress":return c.which!==32?null:(Hu=!0,Po);case"textInput":return l=c.data,l===Po&&Hu?null:l;default:return null}}function Yu(l,c){if(xr)return l==="compositionend"||!Vn&&Gu(l,c)?(l=Zl(),br=Fi=xi=null,xr=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return ko&&c.locale!=="ko"?null:c.data;default:return null}}var Ju={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xu(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c==="input"?!!Ju[l.type]:c==="textarea"}function Vi(l,c,p,b){At(b),c=Od(c,"onChange"),0<c.length&&(p=new Co("onChange","change",null,p,b),l.push({event:p,listeners:c}))}var nu=null,Ia=null;function Id(l){yf(l,0)}function Ui(l){var c=fu(l);if(Be(c))return l}function Qu(l,c){if(l==="change")return c}var pf=!1;if(a){var Zu;if(a){var sa="oninput"in document;if(!sa){var vl=document.createElement("div");vl.setAttribute("oninput","return;"),sa=typeof vl.oninput=="function"}Zu=sa}else Zu=!1;pf=Zu&&(!document.documentMode||9<document.documentMode)}function zi(){nu&&(nu.detachEvent("onpropertychange",Ei),Ia=nu=null)}function Ei(l){if(l.propertyName==="value"&&Ui(Ia)){var c=[];Vi(c,Ia,l,Wt(l)),Zr(Id,c)}}function yl(l,c,p){l==="focusin"?(zi(),nu=c,Ia=p,nu.attachEvent("onpropertychange",Ei)):l==="focusout"&&zi()}function Na(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Ui(Ia)}function Ra(l,c){if(l==="click")return Ui(c)}function ec(l,c){if(l==="input"||l==="change")return Ui(c)}function Oa(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var Pn=typeof Object.is=="function"?Object.is:Oa;function Ma(l,c){if(Pn(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var p=Object.keys(l),b=Object.keys(c);if(p.length!==b.length)return!1;for(b=0;b<p.length;b++){var k=p[b];if(!u.call(c,k)||!Pn(l[k],c[k]))return!1}return!0}function Ci(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Ps(l,c){var p=Ci(l);l=0;for(var b;p;){if(p.nodeType===3){if(b=l+p.textContent.length,l<=c&&b>=c)return{node:p,offset:c-l};l=b}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Ci(p)}}function ru(l,c){return l&&c?l===c?!0:l&&l.nodeType===3?!1:c&&c.nodeType===3?ru(l,c.parentNode):"contains"in l?l.contains(c):l.compareDocumentPosition?!!(l.compareDocumentPosition(c)&16):!1:!1}function mf(){for(var l=window,c=We();c instanceof l.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)l=c.contentWindow;else break;c=We(l.document)}return c}function iu(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c&&(c==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||c==="textarea"||l.contentEditable==="true")}function su(l){var c=mf(),p=l.focusedElem,b=l.selectionRange;if(c!==p&&p&&p.ownerDocument&&ru(p.ownerDocument.documentElement,p)){if(b!==null&&iu(p)){if(c=b.start,l=b.end,l===void 0&&(l=c),"selectionStart"in p)p.selectionStart=c,p.selectionEnd=Math.min(l,p.value.length);else if(l=(c=p.ownerDocument||document)&&c.defaultView||window,l.getSelection){l=l.getSelection();var k=p.textContent.length,V=Math.min(b.start,k);b=b.end===void 0?V:Math.min(b.end,k),!l.extend&&V>b&&(k=b,b=V,V=k),k=Ps(p,V);var Q=Ps(p,b);k&&Q&&(l.rangeCount!==1||l.anchorNode!==k.node||l.anchorOffset!==k.offset||l.focusNode!==Q.node||l.focusOffset!==Q.offset)&&(c=c.createRange(),c.setStart(k.node,k.offset),l.removeAllRanges(),V>b?(l.addRange(c),l.extend(Q.node,Q.offset)):(c.setEnd(Q.node,Q.offset),l.addRange(c)))}}for(c=[],l=p;l=l.parentNode;)l.nodeType===1&&c.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<c.length;p++)l=c[p],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var ou=a&&"documentMode"in document&&11>=document.documentMode,Ts=null,Da=null,oa=null,ja=!1;function Fa(l,c,p){var b=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;ja||Ts==null||Ts!==We(b)||(b=Ts,"selectionStart"in b&&iu(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),oa&&Ma(oa,b)||(oa=b,b=Od(Da,"onSelect"),0<b.length&&(c=new Co("onSelect","select",null,c,p),l.push({event:c,listeners:b}),c.target=Ts)))}function wl(l,c){var p={};return p[l.toLowerCase()]=c.toLowerCase(),p["Webkit"+l]="webkit"+c,p["Moz"+l]="moz"+c,p}var pi={animationend:wl("Animation","AnimationEnd"),animationiteration:wl("Animation","AnimationIteration"),animationstart:wl("Animation","AnimationStart"),transitionend:wl("Transition","TransitionEnd")},is={},nr={};a&&(nr=document.createElement("div").style,"AnimationEvent"in window||(delete pi.animationend.animation,delete pi.animationiteration.animation,delete pi.animationstart.animation),"TransitionEvent"in window||delete pi.transitionend.transition);function Un(l){if(is[l])return is[l];if(!pi[l])return l;var c=pi[l],p;for(p in c)if(c.hasOwnProperty(p)&&p in nr)return is[l]=c[p];return l}var Sr=Un("animationend"),Or=Un("animationiteration"),aa=Un("animationstart"),tc=Un("transitionend"),au=new Map,gf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function la(l,c){au.set(l,c),s(c,[l])}for(var nc=0;nc<gf.length;nc++){var $i=gf[nc],Js=$i.toLowerCase(),Nd=$i[0].toUpperCase()+$i.slice(1);la(Js,"on"+Nd)}la(Sr,"onAnimationEnd"),la(Or,"onAnimationIteration"),la(aa,"onAnimationStart"),la("dblclick","onDoubleClick"),la("focusin","onFocus"),la("focusout","onBlur"),la(tc,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jm=new Set("cancel close invalid load scroll toggle".split(" ").concat(_l));function vf(l,c,p){var b=l.type||"unknown-event";l.currentTarget=p,wr(b,c,void 0,l),l.currentTarget=null}function yf(l,c){c=(c&4)!==0;for(var p=0;p<l.length;p++){var b=l[p],k=b.event;b=b.listeners;e:{var V=void 0;if(c)for(var Q=b.length-1;0<=Q;Q--){var ge=b[Q],xe=ge.instance,Ue=ge.currentTarget;if(ge=ge.listener,xe!==V&&k.isPropagationStopped())break e;vf(k,ge,Ue),V=xe}else for(Q=0;Q<b.length;Q++){if(ge=b[Q],xe=ge.instance,Ue=ge.currentTarget,ge=ge.listener,xe!==V&&k.isPropagationStopped())break e;vf(k,ge,Ue),V=xe}}}if(tr)throw l=Us,tr=!1,Us=null,l}function rr(l,c){var p=c[os];p===void 0&&(p=c[os]=new Set);var b=l+"__bubble";p.has(b)||(wf(c,l,2,!1),p.add(b))}function Rd(l,c,p){var b=0;c&&(b|=4),wf(p,l,b,c)}var rc="_reactListening"+Math.random().toString(36).slice(2);function lu(l){if(!l[rc]){l[rc]=!0,r.forEach(function(p){p!=="selectionchange"&&(Jm.has(p)||Rd(p,!1,l),Rd(p,!0,l))});var c=l.nodeType===9?l:l.ownerDocument;c===null||c[rc]||(c[rc]=!0,Rd("selectionchange",!1,c))}}function wf(l,c,p,b){switch(hl(c)){case 1:var k=In;break;case 4:k=Ql;break;default:k=ta}p=k.bind(null,c,p,l),k=void 0,!It||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(k=!0),b?k!==void 0?l.addEventListener(c,p,{capture:!0,passive:k}):l.addEventListener(c,p,!0):k!==void 0?l.addEventListener(c,p,{passive:k}):l.addEventListener(c,p,!1)}function _f(l,c,p,b,k){var V=b;if((c&1)===0&&(c&2)===0&&b!==null)e:for(;;){if(b===null)return;var Q=b.tag;if(Q===3||Q===4){var ge=b.stateNode.containerInfo;if(ge===k||ge.nodeType===8&&ge.parentNode===k)break;if(Q===4)for(Q=b.return;Q!==null;){var xe=Q.tag;if((xe===3||xe===4)&&(xe=Q.stateNode.containerInfo,xe===k||xe.nodeType===8&&xe.parentNode===k))return;Q=Q.return}for(;ge!==null;){if(Q=bl(ge),Q===null)return;if(xe=Q.tag,xe===5||xe===6){b=V=Q;continue e}ge=ge.parentNode}}b=b.return}Zr(function(){var Ue=V,at=Wt(p),ut=[];e:{var it=au.get(l);if(it!==void 0){var xt=Co,kt=l;switch(l){case"keypress":if(As(p)===0)break e;case"keydown":case"keyup":xt=M;break;case"focusin":kt="focus",xt=Ys;break;case"focusout":kt="blur",xt=Ys;break;case"beforeblur":case"afterblur":xt=Ys;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xt=ia;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xt=Wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xt=je;break;case Sr:case Or:case aa:xt=Si;break;case tc:xt=Xt;break;case"scroll":xt=eu;break;case"wheel":xt=Qt;break;case"copy":case"cut":case"paste":xt=A;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xt=ie}var Nt=(c&4)!==0,Hr=!Nt&&l==="scroll",De=Nt?it!==null?it+"Capture":null:it;Nt=[];for(var Ae=Ue,Fe;Ae!==null;){Fe=Ae;var ht=Fe.stateNode;if(Fe.tag===5&&ht!==null&&(Fe=ht,De!==null&&(ht=yt(Ae,De),ht!=null&&Nt.push(bf(Ae,ht,Fe)))),Hr)break;Ae=Ae.return}0<Nt.length&&(it=new xt(it,kt,null,p,at),ut.push({event:it,listeners:Nt}))}}if((c&7)===0){e:{if(it=l==="mouseover"||l==="pointerover",xt=l==="mouseout"||l==="pointerout",it&&p!==Rt&&(kt=p.relatedTarget||p.fromElement)&&(bl(kt)||kt[Ai]))break e;if((xt||it)&&(it=at.window===at?at:(it=at.ownerDocument)?it.defaultView||it.parentWindow:window,xt?(kt=p.relatedTarget||p.toElement,xt=Ue,kt=kt?bl(kt):null,kt!==null&&(Hr=gn(kt),kt!==Hr||kt.tag!==5&&kt.tag!==6)&&(kt=null)):(xt=null,kt=Ue),xt!==kt)){if(Nt=ia,ht="onMouseLeave",De="onMouseEnter",Ae="mouse",(l==="pointerout"||l==="pointerover")&&(Nt=ie,ht="onPointerLeave",De="onPointerEnter",Ae="pointer"),Hr=xt==null?it:fu(xt),Fe=kt==null?it:fu(kt),it=new Nt(ht,Ae+"leave",xt,p,at),it.target=Hr,it.relatedTarget=Fe,ht=null,bl(at)===Ue&&(Nt=new Nt(De,Ae+"enter",kt,p,at),Nt.target=Fe,Nt.relatedTarget=Hr,ht=Nt),Hr=ht,xt&&kt)t:{for(Nt=xt,De=kt,Ae=0,Fe=Nt;Fe;Fe=uu(Fe))Ae++;for(Fe=0,ht=De;ht;ht=uu(ht))Fe++;for(;0<Ae-Fe;)Nt=uu(Nt),Ae--;for(;0<Fe-Ae;)De=uu(De),Fe--;for(;Ae--;){if(Nt===De||De!==null&&Nt===De.alternate)break t;Nt=uu(Nt),De=uu(De)}Nt=null}else Nt=null;xt!==null&&Xm(ut,it,xt,Nt,!1),kt!==null&&Hr!==null&&Xm(ut,Hr,kt,Nt,!0)}}e:{if(it=Ue?fu(Ue):window,xt=it.nodeName&&it.nodeName.toLowerCase(),xt==="select"||xt==="input"&&it.type==="file")var Ot=Qu;else if(Xu(it))if(pf)Ot=ec;else{Ot=Na;var Bt=yl}else(xt=it.nodeName)&&xt.toLowerCase()==="input"&&(it.type==="checkbox"||it.type==="radio")&&(Ot=Ra);if(Ot&&(Ot=Ot(l,Ue))){Vi(ut,Ot,p,at);break e}Bt&&Bt(l,it,Ue),l==="focusout"&&(Bt=it._wrapperState)&&Bt.controlled&&it.type==="number"&&Je(it,"number",it.value)}switch(Bt=Ue?fu(Ue):window,l){case"focusin":(Xu(Bt)||Bt.contentEditable==="true")&&(Ts=Bt,Da=Ue,oa=null);break;case"focusout":oa=Da=Ts=null;break;case"mousedown":ja=!0;break;case"contextmenu":case"mouseup":case"dragend":ja=!1,Fa(ut,p,at);break;case"selectionchange":if(ou)break;case"keydown":case"keyup":Fa(ut,p,at)}var Vt;if(Vn)e:{switch(l){case"compositionstart":var Yt="onCompositionStart";break e;case"compositionend":Yt="onCompositionEnd";break e;case"compositionupdate":Yt="onCompositionUpdate";break e}Yt=void 0}else xr?Gu(l,p)&&(Yt="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(Yt="onCompositionStart");Yt&&(ko&&p.locale!=="ko"&&(xr||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&xr&&(Vt=Zl()):(xi=at,Fi="value"in xi?xi.value:xi.textContent,xr=!0)),Bt=Od(Ue,Yt),0<Bt.length&&(Yt=new he(Yt,l,null,p,at),ut.push({event:Yt,listeners:Bt}),Vt?Yt.data=Vt:(Vt=tu(p),Vt!==null&&(Yt.data=Vt)))),(Vt=hi?Ku(l,p):Yu(l,p))&&(Ue=Od(Ue,"onBeforeInput"),0<Ue.length&&(at=new he("onBeforeInput","beforeinput",null,p,at),ut.push({event:at,listeners:Ue}),at.data=Vt))}yf(ut,c)})}function bf(l,c,p){return{instance:l,listener:c,currentTarget:p}}function Od(l,c){for(var p=c+"Capture",b=[];l!==null;){var k=l,V=k.stateNode;k.tag===5&&V!==null&&(k=V,V=yt(l,p),V!=null&&b.unshift(bf(l,V,k)),V=yt(l,c),V!=null&&b.push(bf(l,V,k))),l=l.return}return b}function uu(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function Xm(l,c,p,b,k){for(var V=c._reactName,Q=[];p!==null&&p!==b;){var ge=p,xe=ge.alternate,Ue=ge.stateNode;if(xe!==null&&xe===b)break;ge.tag===5&&Ue!==null&&(ge=Ue,k?(xe=yt(p,V),xe!=null&&Q.unshift(bf(p,xe,ge))):k||(xe=yt(p,V),xe!=null&&Q.push(bf(p,xe,ge)))),p=p.return}Q.length!==0&&l.push({event:c,listeners:Q})}var gy=/\r\n?/g,vy=/\u0000|\uFFFD/g;function Qm(l){return(typeof l=="string"?l:""+l).replace(gy,`
`).replace(vy,"")}function Md(l,c,p){if(c=Qm(c),Qm(l)!==c&&p)throw Error(t(425))}function ic(){}var xf=null,cu=null;function sp(l,c){return l==="textarea"||l==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var op=typeof setTimeout=="function"?setTimeout:void 0,Zm=typeof clearTimeout=="function"?clearTimeout:void 0,eg=typeof Promise=="function"?Promise:void 0,yy=typeof queueMicrotask=="function"?queueMicrotask:typeof eg<"u"?function(l){return eg.resolve(null).then(l).catch(wy)}:op;function wy(l){setTimeout(function(){throw l})}function ap(l,c){var p=c,b=0;do{var k=p.nextSibling;if(l.removeChild(p),k&&k.nodeType===8)if(p=k.data,p==="/$"){if(b===0){l.removeChild(k),di(c);return}b--}else p!=="$"&&p!=="$?"&&p!=="$!"||b++;p=k}while(p);di(c)}function qi(l){for(;l!=null;l=l.nextSibling){var c=l.nodeType;if(c===1||c===3)break;if(c===8){if(c=l.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return l}function Xs(l){l=l.previousSibling;for(var c=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"){if(c===0)return l;c--}else p==="/$"&&c++}l=l.previousSibling}return null}var ss=Math.random().toString(36).slice(2),ua="__reactFiber$"+ss,sc="__reactProps$"+ss,Ai="__reactContainer$"+ss,os="__reactEvents$"+ss,_y="__reactListeners$"+ss,by="__reactHandles$"+ss;function bl(l){var c=l[ua];if(c)return c;for(var p=l.parentNode;p;){if(c=p[Ai]||p[ua]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(l=Xs(l);l!==null;){if(p=l[ua])return p;l=Xs(l)}return c}l=p,p=l.parentNode}return null}function oc(l){return l=l[ua]||l[Ai],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function fu(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(t(33))}function Sf(l){return l[sc]||null}var lp=[],Ba=-1;function To(l){return{current:l}}function zn(l){0>Ba||(l.current=lp[Ba],lp[Ba]=null,Ba--)}function Yn(l,c){Ba++,lp[Ba]=l.current,l.current=c}var xl={},mi=To(xl),as=To(!1),du=xl;function ac(l,c){var p=l.type.contextTypes;if(!p)return xl;var b=l.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===c)return b.__reactInternalMemoizedMaskedChildContext;var k={},V;for(V in p)k[V]=c[V];return b&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=c,l.__reactInternalMemoizedMaskedChildContext=k),k}function ls(l){return l=l.childContextTypes,l!=null}function Dd(){zn(as),zn(mi)}function tg(l,c,p){if(mi.current!==xl)throw Error(t(168));Yn(mi,c),Yn(as,p)}function up(l,c,p){var b=l.stateNode;if(c=c.childContextTypes,typeof b.getChildContext!="function")return p;b=b.getChildContext();for(var k in b)if(!(k in c))throw Error(t(108,ye(l)||"Unknown",k));return fe({},p,b)}function hu(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||xl,du=mi.current,Yn(mi,l),Yn(as,as.current),!0}function ng(l,c,p){var b=l.stateNode;if(!b)throw Error(t(169));p?(l=up(l,c,du),b.__reactInternalMemoizedMergedChildContext=l,zn(as),zn(mi),Yn(mi,l)):zn(as),Yn(as,p)}var Va=null,Ef=!1,v=!1;function E(l){Va===null?Va=[l]:Va.push(l)}function T(l){Ef=!0,E(l)}function U(){if(!v&&Va!==null){v=!0;var l=0,c=fn;try{var p=Va;for(fn=1;l<p.length;l++){var b=p[l];do b=b(!0);while(b!==null)}Va=null,Ef=!1}catch(k){throw Va!==null&&(Va=Va.slice(l+1)),_o(zs,U),k}finally{fn=c,v=!1}}return null}var G=[],X=0,ee=null,re=0,oe=[],de=0,be=null,Re=1,Oe="";function ke(l,c){G[X++]=re,G[X++]=ee,ee=l,re=c}function Xe(l,c,p){oe[de++]=Re,oe[de++]=Oe,oe[de++]=be,be=l;var b=Re;l=Oe;var k=32-li(b)-1;b&=~(1<<k),p+=1;var V=32-li(c)+k;if(30<V){var Q=k-k%5;V=(b&(1<<Q)-1).toString(32),b>>=Q,k-=Q,Re=1<<32-li(c)+k|p<<k|b,Oe=V+l}else Re=1<<V|p<<k|b,Oe=l}function ze(l){l.return!==null&&(ke(l,1),Xe(l,1,0))}function Se(l){for(;l===ee;)ee=G[--X],G[X]=null,re=G[--X],G[X]=null;for(;l===be;)be=oe[--de],oe[de]=null,Oe=oe[--de],oe[de]=null,Re=oe[--de],oe[de]=null}var Ee=null,Ge=null,He=!1,Ye=null;function bt(l,c){var p=ma(5,null,null,0);p.elementType="DELETED",p.stateNode=c,p.return=l,c=l.deletions,c===null?(l.deletions=[p],l.flags|=16):c.push(p)}function mt(l,c){switch(l.tag){case 5:var p=l.type;return c=c.nodeType!==1||p.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(l.stateNode=c,Ee=l,Ge=qi(c.firstChild),!0):!1;case 6:return c=l.pendingProps===""||c.nodeType!==3?null:c,c!==null?(l.stateNode=c,Ee=l,Ge=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(p=be!==null?{id:Re,overflow:Oe}:null,l.memoizedState={dehydrated:c,treeContext:p,retryLane:1073741824},p=ma(18,null,null,0),p.stateNode=c,p.return=l,l.child=p,Ee=l,Ge=null,!0):!1;default:return!1}}function Dt(l){return(l.mode&1)!==0&&(l.flags&128)===0}function wt(l){if(He){var c=Ge;if(c){var p=c;if(!mt(l,c)){if(Dt(l))throw Error(t(418));c=qi(p.nextSibling);var b=Ee;c&&mt(l,c)?bt(b,p):(l.flags=l.flags&-4097|2,He=!1,Ee=l)}}else{if(Dt(l))throw Error(t(418));l.flags=l.flags&-4097|2,He=!1,Ee=l}}}function Cn(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Ee=l}function An(l){if(l!==Ee)return!1;if(!He)return Cn(l),He=!0,!1;var c;if((c=l.tag!==3)&&!(c=l.tag!==5)&&(c=l.type,c=c!=="head"&&c!=="body"&&!sp(l.type,l.memoizedProps)),c&&(c=Ge)){if(Dt(l))throw wn(),Error(t(418));for(;c;)bt(l,c),c=qi(c.nextSibling)}if(Cn(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(t(317));e:{for(l=l.nextSibling,c=0;l;){if(l.nodeType===8){var p=l.data;if(p==="/$"){if(c===0){Ge=qi(l.nextSibling);break e}c--}else p!=="$"&&p!=="$!"&&p!=="$?"||c++}l=l.nextSibling}Ge=null}}else Ge=Ee?qi(l.stateNode.nextSibling):null;return!0}function wn(){for(var l=Ge;l;)l=qi(l.nextSibling)}function nn(){Ge=Ee=null,He=!1}function $n(l){Ye===null?Ye=[l]:Ye.push(l)}var Jn=D.ReactCurrentBatchConfig;function Gt(l,c,p){if(l=p.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(t(309));var b=p.stateNode}if(!b)throw Error(t(147,l));var k=b,V=""+l;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===V?c.ref:(c=function(Q){var ge=k.refs;Q===null?delete ge[V]:ge[V]=Q},c._stringRef=V,c)}if(typeof l!="string")throw Error(t(284));if(!p._owner)throw Error(t(290,l))}return l}function hr(l,c){throw l=Object.prototype.toString.call(c),Error(t(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l))}function Wi(l){var c=l._init;return c(l._payload)}function Lr(l){function c(De,Ae){if(l){var Fe=De.deletions;Fe===null?(De.deletions=[Ae],De.flags|=16):Fe.push(Ae)}}function p(De,Ae){if(!l)return null;for(;Ae!==null;)c(De,Ae),Ae=Ae.sibling;return null}function b(De,Ae){for(De=new Map;Ae!==null;)Ae.key!==null?De.set(Ae.key,Ae):De.set(Ae.index,Ae),Ae=Ae.sibling;return De}function k(De,Ae){return De=wc(De,Ae),De.index=0,De.sibling=null,De}function V(De,Ae,Fe){return De.index=Fe,l?(Fe=De.alternate,Fe!==null?(Fe=Fe.index,Fe<Ae?(De.flags|=2,Ae):Fe):(De.flags|=2,Ae)):(De.flags|=1048576,Ae)}function Q(De){return l&&De.alternate===null&&(De.flags|=2),De}function ge(De,Ae,Fe,ht){return Ae===null||Ae.tag!==6?(Ae=Jy(Fe,De.mode,ht),Ae.return=De,Ae):(Ae=k(Ae,Fe),Ae.return=De,Ae)}function xe(De,Ae,Fe,ht){var Ot=Fe.type;return Ot===R?at(De,Ae,Fe.props.children,ht,Fe.key):Ae!==null&&(Ae.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===ae&&Wi(Ot)===Ae.type)?(ht=k(Ae,Fe.props),ht.ref=Gt(De,Ae,Fe),ht.return=De,ht):(ht=xg(Fe.type,Fe.key,Fe.props,null,De.mode,ht),ht.ref=Gt(De,Ae,Fe),ht.return=De,ht)}function Ue(De,Ae,Fe,ht){return Ae===null||Ae.tag!==4||Ae.stateNode.containerInfo!==Fe.containerInfo||Ae.stateNode.implementation!==Fe.implementation?(Ae=Xy(Fe,De.mode,ht),Ae.return=De,Ae):(Ae=k(Ae,Fe.children||[]),Ae.return=De,Ae)}function at(De,Ae,Fe,ht,Ot){return Ae===null||Ae.tag!==7?(Ae=Nf(Fe,De.mode,ht,Ot),Ae.return=De,Ae):(Ae=k(Ae,Fe),Ae.return=De,Ae)}function ut(De,Ae,Fe){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return Ae=Jy(""+Ae,De.mode,Fe),Ae.return=De,Ae;if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case $:return Fe=xg(Ae.type,Ae.key,Ae.props,null,De.mode,Fe),Fe.ref=Gt(De,null,Ae),Fe.return=De,Fe;case H:return Ae=Xy(Ae,De.mode,Fe),Ae.return=De,Ae;case ae:var ht=Ae._init;return ut(De,ht(Ae._payload),Fe)}if(st(Ae)||ce(Ae))return Ae=Nf(Ae,De.mode,Fe,null),Ae.return=De,Ae;hr(De,Ae)}return null}function it(De,Ae,Fe,ht){var Ot=Ae!==null?Ae.key:null;if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return Ot!==null?null:ge(De,Ae,""+Fe,ht);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case $:return Fe.key===Ot?xe(De,Ae,Fe,ht):null;case H:return Fe.key===Ot?Ue(De,Ae,Fe,ht):null;case ae:return Ot=Fe._init,it(De,Ae,Ot(Fe._payload),ht)}if(st(Fe)||ce(Fe))return Ot!==null?null:at(De,Ae,Fe,ht,null);hr(De,Fe)}return null}function xt(De,Ae,Fe,ht,Ot){if(typeof ht=="string"&&ht!==""||typeof ht=="number")return De=De.get(Fe)||null,ge(Ae,De,""+ht,Ot);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case $:return De=De.get(ht.key===null?Fe:ht.key)||null,xe(Ae,De,ht,Ot);case H:return De=De.get(ht.key===null?Fe:ht.key)||null,Ue(Ae,De,ht,Ot);case ae:var Bt=ht._init;return xt(De,Ae,Fe,Bt(ht._payload),Ot)}if(st(ht)||ce(ht))return De=De.get(Fe)||null,at(Ae,De,ht,Ot,null);hr(Ae,ht)}return null}function kt(De,Ae,Fe,ht){for(var Ot=null,Bt=null,Vt=Ae,Yt=Ae=0,Ti=null;Vt!==null&&Yt<Fe.length;Yt++){Vt.index>Yt?(Ti=Vt,Vt=null):Ti=Vt.sibling;var Mn=it(De,Vt,Fe[Yt],ht);if(Mn===null){Vt===null&&(Vt=Ti);break}l&&Vt&&Mn.alternate===null&&c(De,Vt),Ae=V(Mn,Ae,Yt),Bt===null?Ot=Mn:Bt.sibling=Mn,Bt=Mn,Vt=Ti}if(Yt===Fe.length)return p(De,Vt),He&&ke(De,Yt),Ot;if(Vt===null){for(;Yt<Fe.length;Yt++)Vt=ut(De,Fe[Yt],ht),Vt!==null&&(Ae=V(Vt,Ae,Yt),Bt===null?Ot=Vt:Bt.sibling=Vt,Bt=Vt);return He&&ke(De,Yt),Ot}for(Vt=b(De,Vt);Yt<Fe.length;Yt++)Ti=xt(Vt,De,Yt,Fe[Yt],ht),Ti!==null&&(l&&Ti.alternate!==null&&Vt.delete(Ti.key===null?Yt:Ti.key),Ae=V(Ti,Ae,Yt),Bt===null?Ot=Ti:Bt.sibling=Ti,Bt=Ti);return l&&Vt.forEach(function(_c){return c(De,_c)}),He&&ke(De,Yt),Ot}function Nt(De,Ae,Fe,ht){var Ot=ce(Fe);if(typeof Ot!="function")throw Error(t(150));if(Fe=Ot.call(Fe),Fe==null)throw Error(t(151));for(var Bt=Ot=null,Vt=Ae,Yt=Ae=0,Ti=null,Mn=Fe.next();Vt!==null&&!Mn.done;Yt++,Mn=Fe.next()){Vt.index>Yt?(Ti=Vt,Vt=null):Ti=Vt.sibling;var _c=it(De,Vt,Mn.value,ht);if(_c===null){Vt===null&&(Vt=Ti);break}l&&Vt&&_c.alternate===null&&c(De,Vt),Ae=V(_c,Ae,Yt),Bt===null?Ot=_c:Bt.sibling=_c,Bt=_c,Vt=Ti}if(Mn.done)return p(De,Vt),He&&ke(De,Yt),Ot;if(Vt===null){for(;!Mn.done;Yt++,Mn=Fe.next())Mn=ut(De,Mn.value,ht),Mn!==null&&(Ae=V(Mn,Ae,Yt),Bt===null?Ot=Mn:Bt.sibling=Mn,Bt=Mn);return He&&ke(De,Yt),Ot}for(Vt=b(De,Vt);!Mn.done;Yt++,Mn=Fe.next())Mn=xt(Vt,De,Yt,Mn.value,ht),Mn!==null&&(l&&Mn.alternate!==null&&Vt.delete(Mn.key===null?Yt:Mn.key),Ae=V(Mn,Ae,Yt),Bt===null?Ot=Mn:Bt.sibling=Mn,Bt=Mn);return l&&Vt.forEach(function(nO){return c(De,nO)}),He&&ke(De,Yt),Ot}function Hr(De,Ae,Fe,ht){if(typeof Fe=="object"&&Fe!==null&&Fe.type===R&&Fe.key===null&&(Fe=Fe.props.children),typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case $:e:{for(var Ot=Fe.key,Bt=Ae;Bt!==null;){if(Bt.key===Ot){if(Ot=Fe.type,Ot===R){if(Bt.tag===7){p(De,Bt.sibling),Ae=k(Bt,Fe.props.children),Ae.return=De,De=Ae;break e}}else if(Bt.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===ae&&Wi(Ot)===Bt.type){p(De,Bt.sibling),Ae=k(Bt,Fe.props),Ae.ref=Gt(De,Bt,Fe),Ae.return=De,De=Ae;break e}p(De,Bt);break}else c(De,Bt);Bt=Bt.sibling}Fe.type===R?(Ae=Nf(Fe.props.children,De.mode,ht,Fe.key),Ae.return=De,De=Ae):(ht=xg(Fe.type,Fe.key,Fe.props,null,De.mode,ht),ht.ref=Gt(De,Ae,Fe),ht.return=De,De=ht)}return Q(De);case H:e:{for(Bt=Fe.key;Ae!==null;){if(Ae.key===Bt)if(Ae.tag===4&&Ae.stateNode.containerInfo===Fe.containerInfo&&Ae.stateNode.implementation===Fe.implementation){p(De,Ae.sibling),Ae=k(Ae,Fe.children||[]),Ae.return=De,De=Ae;break e}else{p(De,Ae);break}else c(De,Ae);Ae=Ae.sibling}Ae=Xy(Fe,De.mode,ht),Ae.return=De,De=Ae}return Q(De);case ae:return Bt=Fe._init,Hr(De,Ae,Bt(Fe._payload),ht)}if(st(Fe))return kt(De,Ae,Fe,ht);if(ce(Fe))return Nt(De,Ae,Fe,ht);hr(De,Fe)}return typeof Fe=="string"&&Fe!==""||typeof Fe=="number"?(Fe=""+Fe,Ae!==null&&Ae.tag===6?(p(De,Ae.sibling),Ae=k(Ae,Fe),Ae.return=De,De=Ae):(p(De,Ae),Ae=Jy(Fe,De.mode,ht),Ae.return=De,De=Ae),Q(De)):p(De,Ae)}return Hr}var $r=Lr(!0),Rn=Lr(!1),Li=To(null),ki=null,pr=null,qr=null;function gi(){qr=pr=ki=null}function us(l){var c=Li.current;zn(Li),l._currentValue=c}function Qs(l,c,p){for(;l!==null;){var b=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,b!==null&&(b.childLanes|=c)):b!==null&&(b.childLanes&c)!==c&&(b.childLanes|=c),l===p)break;l=l.return}}function mr(l,c){ki=l,qr=pr=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&c)!==0&&(no=!0),l.firstContext=null)}function Mr(l){var c=l._currentValue;if(qr!==l)if(l={context:l,memoizedValue:c,next:null},pr===null){if(ki===null)throw Error(t(308));pr=l,ki.dependencies={lanes:0,firstContext:l}}else pr=pr.next=l;return c}var Is=null;function Sl(l){Is===null?Is=[l]:Is.push(l)}function Ua(l,c,p,b){var k=c.interleaved;return k===null?(p.next=p,Sl(c)):(p.next=k.next,k.next=p),c.interleaved=p,On(l,b)}function On(l,c){l.lanes|=c;var p=l.alternate;for(p!==null&&(p.lanes|=c),p=l,l=l.return;l!==null;)l.childLanes|=c,p=l.alternate,p!==null&&(p.childLanes|=c),p=l,l=l.return;return p.tag===3?p.stateNode:null}var ca=!1;function jd(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cp(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Zs(l,c){return{eventTime:l,lane:c,tag:0,payload:null,callback:null,next:null}}function eo(l,c,p){var b=l.updateQueue;if(b===null)return null;if(b=b.shared,(Tn&2)!==0){var k=b.pending;return k===null?c.next=c:(c.next=k.next,k.next=c),b.pending=c,On(l,p)}return k=b.interleaved,k===null?(c.next=c,Sl(b)):(c.next=k.next,k.next=c),b.interleaved=c,On(l,p)}function pu(l,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194240)!==0)){var b=c.lanes;b&=l.pendingLanes,p|=b,c.lanes=p,So(l,p)}}function to(l,c){var p=l.updateQueue,b=l.alternate;if(b!==null&&(b=b.updateQueue,p===b)){var k=null,V=null;if(p=p.firstBaseUpdate,p!==null){do{var Q={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};V===null?k=V=Q:V=V.next=Q,p=p.next}while(p!==null);V===null?k=V=c:V=V.next=c}else k=V=c;p={baseState:b.baseState,firstBaseUpdate:k,lastBaseUpdate:V,shared:b.shared,effects:b.effects},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=c:l.next=c,p.lastBaseUpdate=c}function za(l,c,p,b){var k=l.updateQueue;ca=!1;var V=k.firstBaseUpdate,Q=k.lastBaseUpdate,ge=k.shared.pending;if(ge!==null){k.shared.pending=null;var xe=ge,Ue=xe.next;xe.next=null,Q===null?V=Ue:Q.next=Ue,Q=xe;var at=l.alternate;at!==null&&(at=at.updateQueue,ge=at.lastBaseUpdate,ge!==Q&&(ge===null?at.firstBaseUpdate=Ue:ge.next=Ue,at.lastBaseUpdate=xe))}if(V!==null){var ut=k.baseState;Q=0,at=Ue=xe=null,ge=V;do{var it=ge.lane,xt=ge.eventTime;if((b&it)===it){at!==null&&(at=at.next={eventTime:xt,lane:0,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null});e:{var kt=l,Nt=ge;switch(it=c,xt=p,Nt.tag){case 1:if(kt=Nt.payload,typeof kt=="function"){ut=kt.call(xt,ut,it);break e}ut=kt;break e;case 3:kt.flags=kt.flags&-65537|128;case 0:if(kt=Nt.payload,it=typeof kt=="function"?kt.call(xt,ut,it):kt,it==null)break e;ut=fe({},ut,it);break e;case 2:ca=!0}}ge.callback!==null&&ge.lane!==0&&(l.flags|=64,it=k.effects,it===null?k.effects=[ge]:it.push(ge))}else xt={eventTime:xt,lane:it,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},at===null?(Ue=at=xt,xe=ut):at=at.next=xt,Q|=it;if(ge=ge.next,ge===null){if(ge=k.shared.pending,ge===null)break;it=ge,ge=it.next,it.next=null,k.lastBaseUpdate=it,k.shared.pending=null}}while(!0);if(at===null&&(xe=ut),k.baseState=xe,k.firstBaseUpdate=Ue,k.lastBaseUpdate=at,c=k.shared.interleaved,c!==null){k=c;do Q|=k.lane,k=k.next;while(k!==c)}else V===null&&(k.shared.lanes=0);kf|=Q,l.lanes=Q,l.memoizedState=ut}}function mu(l,c,p){if(l=c.effects,c.effects=null,l!==null)for(c=0;c<l.length;c++){var b=l[c],k=b.callback;if(k!==null){if(b.callback=null,b=p,typeof k!="function")throw Error(t(191,k));k.call(b)}}}var lc={},Ns=To(lc),uc=To(lc),El=To(lc);function $a(l){if(l===lc)throw Error(t(174));return l}function cc(l,c){switch(Yn(El,c),Yn(uc,l),Yn(Ns,lc),l=c.nodeType,l){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:dt(null,"");break;default:l=l===8?c.parentNode:c,c=l.namespaceURI||null,l=l.tagName,c=dt(c,l)}zn(Ns),Yn(Ns,c)}function fa(){zn(Ns),zn(uc),zn(El)}function rg(l){$a(El.current);var c=$a(Ns.current),p=dt(c,l.type);c!==p&&(Yn(uc,l),Yn(Ns,p))}function fp(l){uc.current===l&&(zn(Ns),zn(uc))}var or=To(0);function Io(l){for(var c=l;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var dp=[];function hp(){for(var l=0;l<dp.length;l++)dp[l]._workInProgressVersionPrimary=null;dp.length=0}var Fd=D.ReactCurrentDispatcher,Bd=D.ReactCurrentBatchConfig,da=0,cr=null,Dr=null,kr=null,fc=!1,qa=!1,dc=0,xy=0;function Wr(){throw Error(t(321))}function Vd(l,c){if(c===null)return!1;for(var p=0;p<c.length&&p<l.length;p++)if(!Pn(l[p],c[p]))return!1;return!0}function Cf(l,c,p,b,k,V){if(da=V,cr=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Fd.current=l===null||l.memoizedState===null?kR:PR,l=p(b,k),qa){V=0;do{if(qa=!1,dc=0,25<=V)throw Error(t(301));V+=1,kr=Dr=null,c.updateQueue=null,Fd.current=TR,l=p(b,k)}while(qa)}if(Fd.current=lg,c=Dr!==null&&Dr.next!==null,da=0,kr=Dr=cr=null,fc=!1,c)throw Error(t(300));return l}function ha(){var l=dc!==0;return dc=0,l}function No(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kr===null?cr.memoizedState=kr=l:kr=kr.next=l,kr}function Rs(){if(Dr===null){var l=cr.alternate;l=l!==null?l.memoizedState:null}else l=Dr.next;var c=kr===null?cr.memoizedState:kr.next;if(c!==null)kr=c,Dr=l;else{if(l===null)throw Error(t(310));Dr=l,l={memoizedState:Dr.memoizedState,baseState:Dr.baseState,baseQueue:Dr.baseQueue,queue:Dr.queue,next:null},kr===null?cr.memoizedState=kr=l:kr=kr.next=l}return kr}function Af(l,c){return typeof c=="function"?c(l):c}function Ud(l){var c=Rs(),p=c.queue;if(p===null)throw Error(t(311));p.lastRenderedReducer=l;var b=Dr,k=b.baseQueue,V=p.pending;if(V!==null){if(k!==null){var Q=k.next;k.next=V.next,V.next=Q}b.baseQueue=k=V,p.pending=null}if(k!==null){V=k.next,b=b.baseState;var ge=Q=null,xe=null,Ue=V;do{var at=Ue.lane;if((da&at)===at)xe!==null&&(xe=xe.next={lane:0,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null}),b=Ue.hasEagerState?Ue.eagerState:l(b,Ue.action);else{var ut={lane:at,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null};xe===null?(ge=xe=ut,Q=b):xe=xe.next=ut,cr.lanes|=at,kf|=at}Ue=Ue.next}while(Ue!==null&&Ue!==V);xe===null?Q=b:xe.next=ge,Pn(b,c.memoizedState)||(no=!0),c.memoizedState=b,c.baseState=Q,c.baseQueue=xe,p.lastRenderedState=b}if(l=p.interleaved,l!==null){k=l;do V=k.lane,cr.lanes|=V,kf|=V,k=k.next;while(k!==l)}else k===null&&(p.lanes=0);return[c.memoizedState,p.dispatch]}function Cl(l){var c=Rs(),p=c.queue;if(p===null)throw Error(t(311));p.lastRenderedReducer=l;var b=p.dispatch,k=p.pending,V=c.memoizedState;if(k!==null){p.pending=null;var Q=k=k.next;do V=l(V,Q.action),Q=Q.next;while(Q!==k);Pn(V,c.memoizedState)||(no=!0),c.memoizedState=V,c.baseQueue===null&&(c.baseState=V),p.lastRenderedState=V}return[V,b]}function ig(){}function pp(l,c){var p=cr,b=Rs(),k=c(),V=!Pn(b.memoizedState,k);if(V&&(b.memoizedState=k,no=!0),b=b.queue,qd(og.bind(null,p,b,l),[l]),b.getSnapshot!==c||V||kr!==null&&kr.memoizedState.tag&1){if(p.flags|=2048,Os(9,mp.bind(null,p,b,k,c),void 0,null),Pi===null)throw Error(t(349));(da&30)!==0||sg(p,c,k)}return k}function sg(l,c,p){l.flags|=16384,l={getSnapshot:c,value:p},c=cr.updateQueue,c===null?(c={lastEffect:null,stores:null},cr.updateQueue=c,c.stores=[l]):(p=c.stores,p===null?c.stores=[l]:p.push(l))}function mp(l,c,p,b){c.value=p,c.getSnapshot=b,hc(c)&&zd(l)}function og(l,c,p){return p(function(){hc(c)&&zd(l)})}function hc(l){var c=l.getSnapshot;l=l.value;try{var p=c();return!Pn(l,p)}catch{return!0}}function zd(l){var c=On(l,1);c!==null&&Ya(c,l,1,-1)}function Lf(l){var c=No();return typeof l=="function"&&(l=l()),c.memoizedState=c.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Af,lastRenderedState:l},c.queue=l,l=l.dispatch=LR.bind(null,cr,l),[c.memoizedState,l]}function Os(l,c,p,b){return l={tag:l,create:c,destroy:p,deps:b,next:null},c=cr.updateQueue,c===null?(c={lastEffect:null,stores:null},cr.updateQueue=c,c.lastEffect=l.next=l):(p=c.lastEffect,p===null?c.lastEffect=l.next=l:(b=p.next,p.next=l,l.next=b,c.lastEffect=l)),l}function Wa(){return Rs().memoizedState}function Ro(l,c,p,b){var k=No();cr.flags|=l,k.memoizedState=Os(1|c,p,void 0,b===void 0?null:b)}function gu(l,c,p,b){var k=Rs();b=b===void 0?null:b;var V=void 0;if(Dr!==null){var Q=Dr.memoizedState;if(V=Q.destroy,b!==null&&Vd(b,Q.deps)){k.memoizedState=Os(c,p,V,b);return}}cr.flags|=l,k.memoizedState=Os(1|c,p,V,b)}function $d(l,c){return Ro(8390656,8,l,c)}function qd(l,c){return gu(2048,8,l,c)}function ag(l,c){return gu(4,2,l,c)}function Wd(l,c){return gu(4,4,l,c)}function Hd(l,c){if(typeof c=="function")return l=l(),c(l),function(){c(null)};if(c!=null)return l=l(),c.current=l,function(){c.current=null}}function G_(l,c,p){return p=p!=null?p.concat([l]):null,gu(4,4,Hd.bind(null,c,l),p)}function Sy(){}function K_(l,c){var p=Rs();c=c===void 0?null:c;var b=p.memoizedState;return b!==null&&c!==null&&Vd(c,b[1])?b[0]:(p.memoizedState=[l,c],l)}function Y_(l,c){var p=Rs();c=c===void 0?null:c;var b=p.memoizedState;return b!==null&&c!==null&&Vd(c,b[1])?b[0]:(l=l(),p.memoizedState=[l,c],l)}function J_(l,c,p){return(da&21)===0?(l.baseState&&(l.baseState=!1,no=!0),l.memoizedState=p):(Pn(p,c)||(p=Xo(),cr.lanes|=p,kf|=p,l.baseState=!0),c)}function CR(l,c){var p=fn;fn=p!==0&&4>p?p:4,l(!0);var b=Bd.transition;Bd.transition={};try{l(!1),c()}finally{fn=p,Bd.transition=b}}function X_(){return Rs().memoizedState}function AR(l,c,p){var b=vc(l);if(p={lane:b,action:p,hasEagerState:!1,eagerState:null,next:null},Q_(l))Z_(c,p);else if(p=Ua(l,c,p,b),p!==null){var k=Ds();Ya(p,l,b,k),eb(p,c,b)}}function LR(l,c,p){var b=vc(l),k={lane:b,action:p,hasEagerState:!1,eagerState:null,next:null};if(Q_(l))Z_(c,k);else{var V=l.alternate;if(l.lanes===0&&(V===null||V.lanes===0)&&(V=c.lastRenderedReducer,V!==null))try{var Q=c.lastRenderedState,ge=V(Q,p);if(k.hasEagerState=!0,k.eagerState=ge,Pn(ge,Q)){var xe=c.interleaved;xe===null?(k.next=k,Sl(c)):(k.next=xe.next,xe.next=k),c.interleaved=k;return}}catch{}finally{}p=Ua(l,c,k,b),p!==null&&(k=Ds(),Ya(p,l,b,k),eb(p,c,b))}}function Q_(l){var c=l.alternate;return l===cr||c!==null&&c===cr}function Z_(l,c){qa=fc=!0;var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}function eb(l,c,p){if((p&4194240)!==0){var b=c.lanes;b&=l.pendingLanes,p|=b,c.lanes=p,So(l,p)}}var lg={readContext:Mr,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useInsertionEffect:Wr,useLayoutEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useMutableSource:Wr,useSyncExternalStore:Wr,useId:Wr,unstable_isNewReconciler:!1},kR={readContext:Mr,useCallback:function(l,c){return No().memoizedState=[l,c===void 0?null:c],l},useContext:Mr,useEffect:$d,useImperativeHandle:function(l,c,p){return p=p!=null?p.concat([l]):null,Ro(4194308,4,Hd.bind(null,c,l),p)},useLayoutEffect:function(l,c){return Ro(4194308,4,l,c)},useInsertionEffect:function(l,c){return Ro(4,2,l,c)},useMemo:function(l,c){var p=No();return c=c===void 0?null:c,l=l(),p.memoizedState=[l,c],l},useReducer:function(l,c,p){var b=No();return c=p!==void 0?p(c):c,b.memoizedState=b.baseState=c,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:c},b.queue=l,l=l.dispatch=AR.bind(null,cr,l),[b.memoizedState,l]},useRef:function(l){var c=No();return l={current:l},c.memoizedState=l},useState:Lf,useDebugValue:Sy,useDeferredValue:function(l){return No().memoizedState=l},useTransition:function(){var l=Lf(!1),c=l[0];return l=CR.bind(null,l[1]),No().memoizedState=l,[c,l]},useMutableSource:function(){},useSyncExternalStore:function(l,c,p){var b=cr,k=No();if(He){if(p===void 0)throw Error(t(407));p=p()}else{if(p=c(),Pi===null)throw Error(t(349));(da&30)!==0||sg(b,c,p)}k.memoizedState=p;var V={value:p,getSnapshot:c};return k.queue=V,$d(og.bind(null,b,V,l),[l]),b.flags|=2048,Os(9,mp.bind(null,b,V,p,c),void 0,null),p},useId:function(){var l=No(),c=Pi.identifierPrefix;if(He){var p=Oe,b=Re;p=(b&~(1<<32-li(b)-1)).toString(32)+p,c=":"+c+"R"+p,p=dc++,0<p&&(c+="H"+p.toString(32)),c+=":"}else p=xy++,c=":"+c+"r"+p.toString(32)+":";return l.memoizedState=c},unstable_isNewReconciler:!1},PR={readContext:Mr,useCallback:K_,useContext:Mr,useEffect:qd,useImperativeHandle:G_,useInsertionEffect:ag,useLayoutEffect:Wd,useMemo:Y_,useReducer:Ud,useRef:Wa,useState:function(){return Ud(Af)},useDebugValue:Sy,useDeferredValue:function(l){var c=Rs();return J_(c,Dr.memoizedState,l)},useTransition:function(){var l=Ud(Af)[0],c=Rs().memoizedState;return[l,c]},useMutableSource:ig,useSyncExternalStore:pp,useId:X_,unstable_isNewReconciler:!1},TR={readContext:Mr,useCallback:K_,useContext:Mr,useEffect:qd,useImperativeHandle:G_,useInsertionEffect:ag,useLayoutEffect:Wd,useMemo:Y_,useReducer:Cl,useRef:Wa,useState:function(){return Cl(Af)},useDebugValue:Sy,useDeferredValue:function(l){var c=Rs();return Dr===null?c.memoizedState=l:J_(c,Dr.memoizedState,l)},useTransition:function(){var l=Cl(Af)[0],c=Rs().memoizedState;return[l,c]},useMutableSource:ig,useSyncExternalStore:pp,useId:X_,unstable_isNewReconciler:!1};function Ha(l,c){if(l&&l.defaultProps){c=fe({},c),l=l.defaultProps;for(var p in l)c[p]===void 0&&(c[p]=l[p]);return c}return c}function Ey(l,c,p,b){c=l.memoizedState,p=p(b,c),p=p==null?c:fe({},c,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var ug={isMounted:function(l){return(l=l._reactInternals)?gn(l)===l:!1},enqueueSetState:function(l,c,p){l=l._reactInternals;var b=Ds(),k=vc(l),V=Zs(b,k);V.payload=c,p!=null&&(V.callback=p),c=eo(l,V,k),c!==null&&(Ya(c,l,k,b),pu(c,l,k))},enqueueReplaceState:function(l,c,p){l=l._reactInternals;var b=Ds(),k=vc(l),V=Zs(b,k);V.tag=1,V.payload=c,p!=null&&(V.callback=p),c=eo(l,V,k),c!==null&&(Ya(c,l,k,b),pu(c,l,k))},enqueueForceUpdate:function(l,c){l=l._reactInternals;var p=Ds(),b=vc(l),k=Zs(p,b);k.tag=2,c!=null&&(k.callback=c),c=eo(l,k,b),c!==null&&(Ya(c,l,b,p),pu(c,l,b))}};function tb(l,c,p,b,k,V,Q){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(b,V,Q):c.prototype&&c.prototype.isPureReactComponent?!Ma(p,b)||!Ma(k,V):!0}function nb(l,c,p){var b=!1,k=xl,V=c.contextType;return typeof V=="object"&&V!==null?V=Mr(V):(k=ls(c)?du:mi.current,b=c.contextTypes,V=(b=b!=null)?ac(l,k):xl),c=new c(p,V),l.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=ug,l.stateNode=c,c._reactInternals=l,b&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=k,l.__reactInternalMemoizedMaskedChildContext=V),c}function rb(l,c,p,b){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,b),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,b),c.state!==l&&ug.enqueueReplaceState(c,c.state,null)}function Cy(l,c,p,b){var k=l.stateNode;k.props=p,k.state=l.memoizedState,k.refs={},jd(l);var V=c.contextType;typeof V=="object"&&V!==null?k.context=Mr(V):(V=ls(c)?du:mi.current,k.context=ac(l,V)),k.state=l.memoizedState,V=c.getDerivedStateFromProps,typeof V=="function"&&(Ey(l,c,V,p),k.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(c=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),c!==k.state&&ug.enqueueReplaceState(k,k.state,null),za(l,p,k,b),k.state=l.memoizedState),typeof k.componentDidMount=="function"&&(l.flags|=4194308)}function Gd(l,c){try{var p="",b=c;do p+=Z(b),b=b.return;while(b);var k=p}catch(V){k=`
Error generating stack: `+V.message+`
`+V.stack}return{value:l,source:c,stack:k,digest:null}}function Ay(l,c,p){return{value:l,source:null,stack:p??null,digest:c??null}}function Ly(l,c){try{console.error(c.value)}catch(p){setTimeout(function(){throw p})}}var IR=typeof WeakMap=="function"?WeakMap:Map;function ib(l,c,p){p=Zs(-1,p),p.tag=3,p.payload={element:null};var b=c.value;return p.callback=function(){gg||(gg=!0,zy=b),Ly(l,c)},p}function sb(l,c,p){p=Zs(-1,p),p.tag=3;var b=l.type.getDerivedStateFromError;if(typeof b=="function"){var k=c.value;p.payload=function(){return b(k)},p.callback=function(){Ly(l,c)}}var V=l.stateNode;return V!==null&&typeof V.componentDidCatch=="function"&&(p.callback=function(){Ly(l,c),typeof b!="function"&&(mc===null?mc=new Set([this]):mc.add(this));var Q=c.stack;this.componentDidCatch(c.value,{componentStack:Q!==null?Q:""})}),p}function ob(l,c,p){var b=l.pingCache;if(b===null){b=l.pingCache=new IR;var k=new Set;b.set(c,k)}else k=b.get(c),k===void 0&&(k=new Set,b.set(c,k));k.has(p)||(k.add(p),l=WR.bind(null,l,c,p),c.then(l,l))}function ab(l){do{var c;if((c=l.tag===13)&&(c=l.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return l;l=l.return}while(l!==null);return null}function lb(l,c,p,b,k){return(l.mode&1)===0?(l===c?l.flags|=65536:(l.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(c=Zs(-1,1),c.tag=2,eo(p,c,1))),p.lanes|=1),l):(l.flags|=65536,l.lanes=k,l)}var NR=D.ReactCurrentOwner,no=!1;function Ms(l,c,p,b){c.child=l===null?Rn(c,null,p,b):$r(c,l.child,p,b)}function ub(l,c,p,b,k){p=p.render;var V=c.ref;return mr(c,k),b=Cf(l,c,p,b,V,k),p=ha(),l!==null&&!no?(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~k,vu(l,c,k)):(He&&p&&ze(c),c.flags|=1,Ms(l,c,b,k),c.child)}function cb(l,c,p,b,k){if(l===null){var V=p.type;return typeof V=="function"&&!Yy(V)&&V.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(c.tag=15,c.type=V,fb(l,c,V,b,k)):(l=xg(p.type,null,b,c,c.mode,k),l.ref=c.ref,l.return=c,c.child=l)}if(V=l.child,(l.lanes&k)===0){var Q=V.memoizedProps;if(p=p.compare,p=p!==null?p:Ma,p(Q,b)&&l.ref===c.ref)return vu(l,c,k)}return c.flags|=1,l=wc(V,b),l.ref=c.ref,l.return=c,c.child=l}function fb(l,c,p,b,k){if(l!==null){var V=l.memoizedProps;if(Ma(V,b)&&l.ref===c.ref)if(no=!1,c.pendingProps=b=V,(l.lanes&k)!==0)(l.flags&131072)!==0&&(no=!0);else return c.lanes=l.lanes,vu(l,c,k)}return ky(l,c,p,b,k)}function db(l,c,p){var b=c.pendingProps,k=b.children,V=l!==null?l.memoizedState:null;if(b.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yn(Yd,Oo),Oo|=p;else{if((p&1073741824)===0)return l=V!==null?V.baseLanes|p:p,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:l,cachePool:null,transitions:null},c.updateQueue=null,Yn(Yd,Oo),Oo|=l,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=V!==null?V.baseLanes:p,Yn(Yd,Oo),Oo|=b}else V!==null?(b=V.baseLanes|p,c.memoizedState=null):b=p,Yn(Yd,Oo),Oo|=b;return Ms(l,c,k,p),c.child}function hb(l,c){var p=c.ref;(l===null&&p!==null||l!==null&&l.ref!==p)&&(c.flags|=512,c.flags|=2097152)}function ky(l,c,p,b,k){var V=ls(p)?du:mi.current;return V=ac(c,V),mr(c,k),p=Cf(l,c,p,b,V,k),b=ha(),l!==null&&!no?(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~k,vu(l,c,k)):(He&&b&&ze(c),c.flags|=1,Ms(l,c,p,k),c.child)}function pb(l,c,p,b,k){if(ls(p)){var V=!0;hu(c)}else V=!1;if(mr(c,k),c.stateNode===null)fg(l,c),nb(c,p,b),Cy(c,p,b,k),b=!0;else if(l===null){var Q=c.stateNode,ge=c.memoizedProps;Q.props=ge;var xe=Q.context,Ue=p.contextType;typeof Ue=="object"&&Ue!==null?Ue=Mr(Ue):(Ue=ls(p)?du:mi.current,Ue=ac(c,Ue));var at=p.getDerivedStateFromProps,ut=typeof at=="function"||typeof Q.getSnapshotBeforeUpdate=="function";ut||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(ge!==b||xe!==Ue)&&rb(c,Q,b,Ue),ca=!1;var it=c.memoizedState;Q.state=it,za(c,b,Q,k),xe=c.memoizedState,ge!==b||it!==xe||as.current||ca?(typeof at=="function"&&(Ey(c,p,at,b),xe=c.memoizedState),(ge=ca||tb(c,p,ge,b,it,xe,Ue))?(ut||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount()),typeof Q.componentDidMount=="function"&&(c.flags|=4194308)):(typeof Q.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=b,c.memoizedState=xe),Q.props=b,Q.state=xe,Q.context=Ue,b=ge):(typeof Q.componentDidMount=="function"&&(c.flags|=4194308),b=!1)}else{Q=c.stateNode,cp(l,c),ge=c.memoizedProps,Ue=c.type===c.elementType?ge:Ha(c.type,ge),Q.props=Ue,ut=c.pendingProps,it=Q.context,xe=p.contextType,typeof xe=="object"&&xe!==null?xe=Mr(xe):(xe=ls(p)?du:mi.current,xe=ac(c,xe));var xt=p.getDerivedStateFromProps;(at=typeof xt=="function"||typeof Q.getSnapshotBeforeUpdate=="function")||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(ge!==ut||it!==xe)&&rb(c,Q,b,xe),ca=!1,it=c.memoizedState,Q.state=it,za(c,b,Q,k);var kt=c.memoizedState;ge!==ut||it!==kt||as.current||ca?(typeof xt=="function"&&(Ey(c,p,xt,b),kt=c.memoizedState),(Ue=ca||tb(c,p,Ue,b,it,kt,xe)||!1)?(at||typeof Q.UNSAFE_componentWillUpdate!="function"&&typeof Q.componentWillUpdate!="function"||(typeof Q.componentWillUpdate=="function"&&Q.componentWillUpdate(b,kt,xe),typeof Q.UNSAFE_componentWillUpdate=="function"&&Q.UNSAFE_componentWillUpdate(b,kt,xe)),typeof Q.componentDidUpdate=="function"&&(c.flags|=4),typeof Q.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof Q.componentDidUpdate!="function"||ge===l.memoizedProps&&it===l.memoizedState||(c.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||ge===l.memoizedProps&&it===l.memoizedState||(c.flags|=1024),c.memoizedProps=b,c.memoizedState=kt),Q.props=b,Q.state=kt,Q.context=xe,b=Ue):(typeof Q.componentDidUpdate!="function"||ge===l.memoizedProps&&it===l.memoizedState||(c.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||ge===l.memoizedProps&&it===l.memoizedState||(c.flags|=1024),b=!1)}return Py(l,c,p,b,V,k)}function Py(l,c,p,b,k,V){hb(l,c);var Q=(c.flags&128)!==0;if(!b&&!Q)return k&&ng(c,p,!1),vu(l,c,V);b=c.stateNode,NR.current=c;var ge=Q&&typeof p.getDerivedStateFromError!="function"?null:b.render();return c.flags|=1,l!==null&&Q?(c.child=$r(c,l.child,null,V),c.child=$r(c,null,ge,V)):Ms(l,c,ge,V),c.memoizedState=b.state,k&&ng(c,p,!0),c.child}function mb(l){var c=l.stateNode;c.pendingContext?tg(l,c.pendingContext,c.pendingContext!==c.context):c.context&&tg(l,c.context,!1),cc(l,c.containerInfo)}function gb(l,c,p,b,k){return nn(),$n(k),c.flags|=256,Ms(l,c,p,b),c.child}var Ty={dehydrated:null,treeContext:null,retryLane:0};function Iy(l){return{baseLanes:l,cachePool:null,transitions:null}}function vb(l,c,p){var b=c.pendingProps,k=or.current,V=!1,Q=(c.flags&128)!==0,ge;if((ge=Q)||(ge=l!==null&&l.memoizedState===null?!1:(k&2)!==0),ge?(V=!0,c.flags&=-129):(l===null||l.memoizedState!==null)&&(k|=1),Yn(or,k&1),l===null)return wt(c),l=c.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((c.mode&1)===0?c.lanes=1:l.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(Q=b.children,l=b.fallback,V?(b=c.mode,V=c.child,Q={mode:"hidden",children:Q},(b&1)===0&&V!==null?(V.childLanes=0,V.pendingProps=Q):V=Sg(Q,b,0,null),l=Nf(l,b,p,null),V.return=c,l.return=c,V.sibling=l,c.child=V,c.child.memoizedState=Iy(p),c.memoizedState=Ty,l):Ny(c,Q));if(k=l.memoizedState,k!==null&&(ge=k.dehydrated,ge!==null))return RR(l,c,Q,b,ge,k,p);if(V){V=b.fallback,Q=c.mode,k=l.child,ge=k.sibling;var xe={mode:"hidden",children:b.children};return(Q&1)===0&&c.child!==k?(b=c.child,b.childLanes=0,b.pendingProps=xe,c.deletions=null):(b=wc(k,xe),b.subtreeFlags=k.subtreeFlags&14680064),ge!==null?V=wc(ge,V):(V=Nf(V,Q,p,null),V.flags|=2),V.return=c,b.return=c,b.sibling=V,c.child=b,b=V,V=c.child,Q=l.child.memoizedState,Q=Q===null?Iy(p):{baseLanes:Q.baseLanes|p,cachePool:null,transitions:Q.transitions},V.memoizedState=Q,V.childLanes=l.childLanes&~p,c.memoizedState=Ty,b}return V=l.child,l=V.sibling,b=wc(V,{mode:"visible",children:b.children}),(c.mode&1)===0&&(b.lanes=p),b.return=c,b.sibling=null,l!==null&&(p=c.deletions,p===null?(c.deletions=[l],c.flags|=16):p.push(l)),c.child=b,c.memoizedState=null,b}function Ny(l,c){return c=Sg({mode:"visible",children:c},l.mode,0,null),c.return=l,l.child=c}function cg(l,c,p,b){return b!==null&&$n(b),$r(c,l.child,null,p),l=Ny(c,c.pendingProps.children),l.flags|=2,c.memoizedState=null,l}function RR(l,c,p,b,k,V,Q){if(p)return c.flags&256?(c.flags&=-257,b=Ay(Error(t(422))),cg(l,c,Q,b)):c.memoizedState!==null?(c.child=l.child,c.flags|=128,null):(V=b.fallback,k=c.mode,b=Sg({mode:"visible",children:b.children},k,0,null),V=Nf(V,k,Q,null),V.flags|=2,b.return=c,V.return=c,b.sibling=V,c.child=b,(c.mode&1)!==0&&$r(c,l.child,null,Q),c.child.memoizedState=Iy(Q),c.memoizedState=Ty,V);if((c.mode&1)===0)return cg(l,c,Q,null);if(k.data==="$!"){if(b=k.nextSibling&&k.nextSibling.dataset,b)var ge=b.dgst;return b=ge,V=Error(t(419)),b=Ay(V,b,void 0),cg(l,c,Q,b)}if(ge=(Q&l.childLanes)!==0,no||ge){if(b=Pi,b!==null){switch(Q&-Q){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(b.suspendedLanes|Q))!==0?0:k,k!==0&&k!==V.retryLane&&(V.retryLane=k,On(l,k),Ya(b,l,k,-1))}return Ky(),b=Ay(Error(t(421))),cg(l,c,Q,b)}return k.data==="$?"?(c.flags|=128,c.child=l.child,c=HR.bind(null,l),k._reactRetry=c,null):(l=V.treeContext,Ge=qi(k.nextSibling),Ee=c,He=!0,Ye=null,l!==null&&(oe[de++]=Re,oe[de++]=Oe,oe[de++]=be,Re=l.id,Oe=l.overflow,be=c),c=Ny(c,b.children),c.flags|=4096,c)}function yb(l,c,p){l.lanes|=c;var b=l.alternate;b!==null&&(b.lanes|=c),Qs(l.return,c,p)}function Ry(l,c,p,b,k){var V=l.memoizedState;V===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:b,tail:p,tailMode:k}:(V.isBackwards=c,V.rendering=null,V.renderingStartTime=0,V.last=b,V.tail=p,V.tailMode=k)}function wb(l,c,p){var b=c.pendingProps,k=b.revealOrder,V=b.tail;if(Ms(l,c,b.children,p),b=or.current,(b&2)!==0)b=b&1|2,c.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&yb(l,p,c);else if(l.tag===19)yb(l,p,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break e;for(;l.sibling===null;){if(l.return===null||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}b&=1}if(Yn(or,b),(c.mode&1)===0)c.memoizedState=null;else switch(k){case"forwards":for(p=c.child,k=null;p!==null;)l=p.alternate,l!==null&&Io(l)===null&&(k=p),p=p.sibling;p=k,p===null?(k=c.child,c.child=null):(k=p.sibling,p.sibling=null),Ry(c,!1,k,p,V);break;case"backwards":for(p=null,k=c.child,c.child=null;k!==null;){if(l=k.alternate,l!==null&&Io(l)===null){c.child=k;break}l=k.sibling,k.sibling=p,p=k,k=l}Ry(c,!0,p,null,V);break;case"together":Ry(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function fg(l,c){(c.mode&1)===0&&l!==null&&(l.alternate=null,c.alternate=null,c.flags|=2)}function vu(l,c,p){if(l!==null&&(c.dependencies=l.dependencies),kf|=c.lanes,(p&c.childLanes)===0)return null;if(l!==null&&c.child!==l.child)throw Error(t(153));if(c.child!==null){for(l=c.child,p=wc(l,l.pendingProps),c.child=p,p.return=c;l.sibling!==null;)l=l.sibling,p=p.sibling=wc(l,l.pendingProps),p.return=c;p.sibling=null}return c.child}function OR(l,c,p){switch(c.tag){case 3:mb(c),nn();break;case 5:rg(c);break;case 1:ls(c.type)&&hu(c);break;case 4:cc(c,c.stateNode.containerInfo);break;case 10:var b=c.type._context,k=c.memoizedProps.value;Yn(Li,b._currentValue),b._currentValue=k;break;case 13:if(b=c.memoizedState,b!==null)return b.dehydrated!==null?(Yn(or,or.current&1),c.flags|=128,null):(p&c.child.childLanes)!==0?vb(l,c,p):(Yn(or,or.current&1),l=vu(l,c,p),l!==null?l.sibling:null);Yn(or,or.current&1);break;case 19:if(b=(p&c.childLanes)!==0,(l.flags&128)!==0){if(b)return wb(l,c,p);c.flags|=128}if(k=c.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),Yn(or,or.current),b)break;return null;case 22:case 23:return c.lanes=0,db(l,c,p)}return vu(l,c,p)}var _b,Oy,bb,xb;_b=function(l,c){for(var p=c.child;p!==null;){if(p.tag===5||p.tag===6)l.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Oy=function(){},bb=function(l,c,p,b){var k=l.memoizedProps;if(k!==b){l=c.stateNode,$a(Ns.current);var V=null;switch(p){case"input":k=ft(l,k),b=ft(l,b),V=[];break;case"select":k=fe({},k,{value:void 0}),b=fe({},b,{value:void 0}),V=[];break;case"textarea":k=Ne(l,k),b=Ne(l,b),V=[];break;default:typeof k.onClick!="function"&&typeof b.onClick=="function"&&(l.onclick=ic)}Jt(p,b);var Q;p=null;for(Ue in k)if(!b.hasOwnProperty(Ue)&&k.hasOwnProperty(Ue)&&k[Ue]!=null)if(Ue==="style"){var ge=k[Ue];for(Q in ge)ge.hasOwnProperty(Q)&&(p||(p={}),p[Q]="")}else Ue!=="dangerouslySetInnerHTML"&&Ue!=="children"&&Ue!=="suppressContentEditableWarning"&&Ue!=="suppressHydrationWarning"&&Ue!=="autoFocus"&&(i.hasOwnProperty(Ue)?V||(V=[]):(V=V||[]).push(Ue,null));for(Ue in b){var xe=b[Ue];if(ge=k!=null?k[Ue]:void 0,b.hasOwnProperty(Ue)&&xe!==ge&&(xe!=null||ge!=null))if(Ue==="style")if(ge){for(Q in ge)!ge.hasOwnProperty(Q)||xe&&xe.hasOwnProperty(Q)||(p||(p={}),p[Q]="");for(Q in xe)xe.hasOwnProperty(Q)&&ge[Q]!==xe[Q]&&(p||(p={}),p[Q]=xe[Q])}else p||(V||(V=[]),V.push(Ue,p)),p=xe;else Ue==="dangerouslySetInnerHTML"?(xe=xe?xe.__html:void 0,ge=ge?ge.__html:void 0,xe!=null&&ge!==xe&&(V=V||[]).push(Ue,xe)):Ue==="children"?typeof xe!="string"&&typeof xe!="number"||(V=V||[]).push(Ue,""+xe):Ue!=="suppressContentEditableWarning"&&Ue!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ue)?(xe!=null&&Ue==="onScroll"&&rr("scroll",l),V||ge===xe||(V=[])):(V=V||[]).push(Ue,xe))}p&&(V=V||[]).push("style",p);var Ue=V;(c.updateQueue=Ue)&&(c.flags|=4)}},xb=function(l,c,p,b){p!==b&&(c.flags|=4)};function gp(l,c){if(!He)switch(l.tailMode){case"hidden":c=l.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:b.sibling=null}}function cs(l){var c=l.alternate!==null&&l.alternate.child===l.child,p=0,b=0;if(c)for(var k=l.child;k!==null;)p|=k.lanes|k.childLanes,b|=k.subtreeFlags&14680064,b|=k.flags&14680064,k.return=l,k=k.sibling;else for(k=l.child;k!==null;)p|=k.lanes|k.childLanes,b|=k.subtreeFlags,b|=k.flags,k.return=l,k=k.sibling;return l.subtreeFlags|=b,l.childLanes=p,c}function MR(l,c,p){var b=c.pendingProps;switch(Se(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cs(c),null;case 1:return ls(c.type)&&Dd(),cs(c),null;case 3:return b=c.stateNode,fa(),zn(as),zn(mi),hp(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(l===null||l.child===null)&&(An(c)?c.flags|=4:l===null||l.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Ye!==null&&(Wy(Ye),Ye=null))),Oy(l,c),cs(c),null;case 5:fp(c);var k=$a(El.current);if(p=c.type,l!==null&&c.stateNode!=null)bb(l,c,p,b,k),l.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!b){if(c.stateNode===null)throw Error(t(166));return cs(c),null}if(l=$a(Ns.current),An(c)){b=c.stateNode,p=c.type;var V=c.memoizedProps;switch(b[ua]=c,b[sc]=V,l=(c.mode&1)!==0,p){case"dialog":rr("cancel",b),rr("close",b);break;case"iframe":case"object":case"embed":rr("load",b);break;case"video":case"audio":for(k=0;k<_l.length;k++)rr(_l[k],b);break;case"source":rr("error",b);break;case"img":case"image":case"link":rr("error",b),rr("load",b);break;case"details":rr("toggle",b);break;case"input":Te(b,V),rr("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!V.multiple},rr("invalid",b);break;case"textarea":Ve(b,V),rr("invalid",b)}Jt(p,V),k=null;for(var Q in V)if(V.hasOwnProperty(Q)){var ge=V[Q];Q==="children"?typeof ge=="string"?b.textContent!==ge&&(V.suppressHydrationWarning!==!0&&Md(b.textContent,ge,l),k=["children",ge]):typeof ge=="number"&&b.textContent!==""+ge&&(V.suppressHydrationWarning!==!0&&Md(b.textContent,ge,l),k=["children",""+ge]):i.hasOwnProperty(Q)&&ge!=null&&Q==="onScroll"&&rr("scroll",b)}switch(p){case"input":Me(b),vt(b,V,!0);break;case"textarea":Me(b),ct(b);break;case"select":case"option":break;default:typeof V.onClick=="function"&&(b.onclick=ic)}b=k,c.updateQueue=b,b!==null&&(c.flags|=4)}else{Q=k.nodeType===9?k:k.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=nt(p)),l==="http://www.w3.org/1999/xhtml"?p==="script"?(l=Q.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof b.is=="string"?l=Q.createElement(p,{is:b.is}):(l=Q.createElement(p),p==="select"&&(Q=l,b.multiple?Q.multiple=!0:b.size&&(Q.size=b.size))):l=Q.createElementNS(l,p),l[ua]=c,l[sc]=b,_b(l,c,!1,!1),c.stateNode=l;e:{switch(Q=on(p,b),p){case"dialog":rr("cancel",l),rr("close",l),k=b;break;case"iframe":case"object":case"embed":rr("load",l),k=b;break;case"video":case"audio":for(k=0;k<_l.length;k++)rr(_l[k],l);k=b;break;case"source":rr("error",l),k=b;break;case"img":case"image":case"link":rr("error",l),rr("load",l),k=b;break;case"details":rr("toggle",l),k=b;break;case"input":Te(l,b),k=ft(l,b),rr("invalid",l);break;case"option":k=b;break;case"select":l._wrapperState={wasMultiple:!!b.multiple},k=fe({},b,{value:void 0}),rr("invalid",l);break;case"textarea":Ve(l,b),k=Ne(l,b),rr("invalid",l);break;default:k=b}Jt(p,k),ge=k;for(V in ge)if(ge.hasOwnProperty(V)){var xe=ge[V];V==="style"?Zn(l,xe):V==="dangerouslySetInnerHTML"?(xe=xe?xe.__html:void 0,xe!=null&&_t(l,xe)):V==="children"?typeof xe=="string"?(p!=="textarea"||xe!=="")&&gt(l,xe):typeof xe=="number"&&gt(l,""+xe):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(i.hasOwnProperty(V)?xe!=null&&V==="onScroll"&&rr("scroll",l):xe!=null&&j(l,V,xe,Q))}switch(p){case"input":Me(l),vt(l,b,!1);break;case"textarea":Me(l),ct(l);break;case"option":b.value!=null&&l.setAttribute("value",""+ve(b.value));break;case"select":l.multiple=!!b.multiple,V=b.value,V!=null?Ce(l,!!b.multiple,V,!1):b.defaultValue!=null&&Ce(l,!!b.multiple,b.defaultValue,!0);break;default:typeof k.onClick=="function"&&(l.onclick=ic)}switch(p){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return cs(c),null;case 6:if(l&&c.stateNode!=null)xb(l,c,l.memoizedProps,b);else{if(typeof b!="string"&&c.stateNode===null)throw Error(t(166));if(p=$a(El.current),$a(Ns.current),An(c)){if(b=c.stateNode,p=c.memoizedProps,b[ua]=c,(V=b.nodeValue!==p)&&(l=Ee,l!==null))switch(l.tag){case 3:Md(b.nodeValue,p,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&Md(b.nodeValue,p,(l.mode&1)!==0)}V&&(c.flags|=4)}else b=(p.nodeType===9?p:p.ownerDocument).createTextNode(b),b[ua]=c,c.stateNode=b}return cs(c),null;case 13:if(zn(or),b=c.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(He&&Ge!==null&&(c.mode&1)!==0&&(c.flags&128)===0)wn(),nn(),c.flags|=98560,V=!1;else if(V=An(c),b!==null&&b.dehydrated!==null){if(l===null){if(!V)throw Error(t(318));if(V=c.memoizedState,V=V!==null?V.dehydrated:null,!V)throw Error(t(317));V[ua]=c}else nn(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;cs(c),V=!1}else Ye!==null&&(Wy(Ye),Ye=null),V=!0;if(!V)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=p,c):(b=b!==null,b!==(l!==null&&l.memoizedState!==null)&&b&&(c.child.flags|=8192,(c.mode&1)!==0&&(l===null||(or.current&1)!==0?vi===0&&(vi=3):Ky())),c.updateQueue!==null&&(c.flags|=4),cs(c),null);case 4:return fa(),Oy(l,c),l===null&&lu(c.stateNode.containerInfo),cs(c),null;case 10:return us(c.type._context),cs(c),null;case 17:return ls(c.type)&&Dd(),cs(c),null;case 19:if(zn(or),V=c.memoizedState,V===null)return cs(c),null;if(b=(c.flags&128)!==0,Q=V.rendering,Q===null)if(b)gp(V,!1);else{if(vi!==0||l!==null&&(l.flags&128)!==0)for(l=c.child;l!==null;){if(Q=Io(l),Q!==null){for(c.flags|=128,gp(V,!1),b=Q.updateQueue,b!==null&&(c.updateQueue=b,c.flags|=4),c.subtreeFlags=0,b=p,p=c.child;p!==null;)V=p,l=b,V.flags&=14680066,Q=V.alternate,Q===null?(V.childLanes=0,V.lanes=l,V.child=null,V.subtreeFlags=0,V.memoizedProps=null,V.memoizedState=null,V.updateQueue=null,V.dependencies=null,V.stateNode=null):(V.childLanes=Q.childLanes,V.lanes=Q.lanes,V.child=Q.child,V.subtreeFlags=0,V.deletions=null,V.memoizedProps=Q.memoizedProps,V.memoizedState=Q.memoizedState,V.updateQueue=Q.updateQueue,V.type=Q.type,l=Q.dependencies,V.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),p=p.sibling;return Yn(or,or.current&1|2),c.child}l=l.sibling}V.tail!==null&&Kn()>Jd&&(c.flags|=128,b=!0,gp(V,!1),c.lanes=4194304)}else{if(!b)if(l=Io(Q),l!==null){if(c.flags|=128,b=!0,p=l.updateQueue,p!==null&&(c.updateQueue=p,c.flags|=4),gp(V,!0),V.tail===null&&V.tailMode==="hidden"&&!Q.alternate&&!He)return cs(c),null}else 2*Kn()-V.renderingStartTime>Jd&&p!==1073741824&&(c.flags|=128,b=!0,gp(V,!1),c.lanes=4194304);V.isBackwards?(Q.sibling=c.child,c.child=Q):(p=V.last,p!==null?p.sibling=Q:c.child=Q,V.last=Q)}return V.tail!==null?(c=V.tail,V.rendering=c,V.tail=c.sibling,V.renderingStartTime=Kn(),c.sibling=null,p=or.current,Yn(or,b?p&1|2:p&1),c):(cs(c),null);case 22:case 23:return Gy(),b=c.memoizedState!==null,l!==null&&l.memoizedState!==null!==b&&(c.flags|=8192),b&&(c.mode&1)!==0?(Oo&1073741824)!==0&&(cs(c),c.subtreeFlags&6&&(c.flags|=8192)):cs(c),null;case 24:return null;case 25:return null}throw Error(t(156,c.tag))}function DR(l,c){switch(Se(c),c.tag){case 1:return ls(c.type)&&Dd(),l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 3:return fa(),zn(as),zn(mi),hp(),l=c.flags,(l&65536)!==0&&(l&128)===0?(c.flags=l&-65537|128,c):null;case 5:return fp(c),null;case 13:if(zn(or),l=c.memoizedState,l!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(t(340));nn()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 19:return zn(or),null;case 4:return fa(),null;case 10:return us(c.type._context),null;case 22:case 23:return Gy(),null;case 24:return null;default:return null}}var dg=!1,fs=!1,jR=typeof WeakSet=="function"?WeakSet:Set,Ct=null;function Kd(l,c){var p=l.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(b){jr(l,c,b)}else p.current=null}function My(l,c,p){try{p()}catch(b){jr(l,c,b)}}var Sb=!1;function FR(l,c){if(xf=ea,l=mf(),iu(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var b=p.getSelection&&p.getSelection();if(b&&b.rangeCount!==0){p=b.anchorNode;var k=b.anchorOffset,V=b.focusNode;b=b.focusOffset;try{p.nodeType,V.nodeType}catch{p=null;break e}var Q=0,ge=-1,xe=-1,Ue=0,at=0,ut=l,it=null;t:for(;;){for(var xt;ut!==p||k!==0&&ut.nodeType!==3||(ge=Q+k),ut!==V||b!==0&&ut.nodeType!==3||(xe=Q+b),ut.nodeType===3&&(Q+=ut.nodeValue.length),(xt=ut.firstChild)!==null;)it=ut,ut=xt;for(;;){if(ut===l)break t;if(it===p&&++Ue===k&&(ge=Q),it===V&&++at===b&&(xe=Q),(xt=ut.nextSibling)!==null)break;ut=it,it=ut.parentNode}ut=xt}p=ge===-1||xe===-1?null:{start:ge,end:xe}}else p=null}p=p||{start:0,end:0}}else p=null;for(cu={focusedElem:l,selectionRange:p},ea=!1,Ct=c;Ct!==null;)if(c=Ct,l=c.child,(c.subtreeFlags&1028)!==0&&l!==null)l.return=c,Ct=l;else for(;Ct!==null;){c=Ct;try{var kt=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(kt!==null){var Nt=kt.memoizedProps,Hr=kt.memoizedState,De=c.stateNode,Ae=De.getSnapshotBeforeUpdate(c.elementType===c.type?Nt:Ha(c.type,Nt),Hr);De.__reactInternalSnapshotBeforeUpdate=Ae}break;case 3:var Fe=c.stateNode.containerInfo;Fe.nodeType===1?Fe.textContent="":Fe.nodeType===9&&Fe.documentElement&&Fe.removeChild(Fe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ht){jr(c,c.return,ht)}if(l=c.sibling,l!==null){l.return=c.return,Ct=l;break}Ct=c.return}return kt=Sb,Sb=!1,kt}function vp(l,c,p){var b=c.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var k=b=b.next;do{if((k.tag&l)===l){var V=k.destroy;k.destroy=void 0,V!==void 0&&My(c,p,V)}k=k.next}while(k!==b)}}function hg(l,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var p=c=c.next;do{if((p.tag&l)===l){var b=p.create;p.destroy=b()}p=p.next}while(p!==c)}}function Dy(l){var c=l.ref;if(c!==null){var p=l.stateNode;switch(l.tag){case 5:l=p;break;default:l=p}typeof c=="function"?c(l):c.current=l}}function Eb(l){var c=l.alternate;c!==null&&(l.alternate=null,Eb(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode,c!==null&&(delete c[ua],delete c[sc],delete c[os],delete c[_y],delete c[by])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Cb(l){return l.tag===5||l.tag===3||l.tag===4}function Ab(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Cb(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function jy(l,c,p){var b=l.tag;if(b===5||b===6)l=l.stateNode,c?p.nodeType===8?p.parentNode.insertBefore(l,c):p.insertBefore(l,c):(p.nodeType===8?(c=p.parentNode,c.insertBefore(l,p)):(c=p,c.appendChild(l)),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=ic));else if(b!==4&&(l=l.child,l!==null))for(jy(l,c,p),l=l.sibling;l!==null;)jy(l,c,p),l=l.sibling}function Fy(l,c,p){var b=l.tag;if(b===5||b===6)l=l.stateNode,c?p.insertBefore(l,c):p.appendChild(l);else if(b!==4&&(l=l.child,l!==null))for(Fy(l,c,p),l=l.sibling;l!==null;)Fy(l,c,p),l=l.sibling}var Hi=null,Ga=!1;function pc(l,c,p){for(p=p.child;p!==null;)Lb(l,c,p),p=p.sibling}function Lb(l,c,p){if(Di&&typeof Di.onCommitFiberUnmount=="function")try{Di.onCommitFiberUnmount(Ko,p)}catch{}switch(p.tag){case 5:fs||Kd(p,c);case 6:var b=Hi,k=Ga;Hi=null,pc(l,c,p),Hi=b,Ga=k,Hi!==null&&(Ga?(l=Hi,p=p.stateNode,l.nodeType===8?l.parentNode.removeChild(p):l.removeChild(p)):Hi.removeChild(p.stateNode));break;case 18:Hi!==null&&(Ga?(l=Hi,p=p.stateNode,l.nodeType===8?ap(l.parentNode,p):l.nodeType===1&&ap(l,p),di(l)):ap(Hi,p.stateNode));break;case 4:b=Hi,k=Ga,Hi=p.stateNode.containerInfo,Ga=!0,pc(l,c,p),Hi=b,Ga=k;break;case 0:case 11:case 14:case 15:if(!fs&&(b=p.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){k=b=b.next;do{var V=k,Q=V.destroy;V=V.tag,Q!==void 0&&((V&2)!==0||(V&4)!==0)&&My(p,c,Q),k=k.next}while(k!==b)}pc(l,c,p);break;case 1:if(!fs&&(Kd(p,c),b=p.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=p.memoizedProps,b.state=p.memoizedState,b.componentWillUnmount()}catch(ge){jr(p,c,ge)}pc(l,c,p);break;case 21:pc(l,c,p);break;case 22:p.mode&1?(fs=(b=fs)||p.memoizedState!==null,pc(l,c,p),fs=b):pc(l,c,p);break;default:pc(l,c,p)}}function kb(l){var c=l.updateQueue;if(c!==null){l.updateQueue=null;var p=l.stateNode;p===null&&(p=l.stateNode=new jR),c.forEach(function(b){var k=GR.bind(null,l,b);p.has(b)||(p.add(b),b.then(k,k))})}}function Ka(l,c){var p=c.deletions;if(p!==null)for(var b=0;b<p.length;b++){var k=p[b];try{var V=l,Q=c,ge=Q;e:for(;ge!==null;){switch(ge.tag){case 5:Hi=ge.stateNode,Ga=!1;break e;case 3:Hi=ge.stateNode.containerInfo,Ga=!0;break e;case 4:Hi=ge.stateNode.containerInfo,Ga=!0;break e}ge=ge.return}if(Hi===null)throw Error(t(160));Lb(V,Q,k),Hi=null,Ga=!1;var xe=k.alternate;xe!==null&&(xe.return=null),k.return=null}catch(Ue){jr(k,c,Ue)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)Pb(c,l),c=c.sibling}function Pb(l,c){var p=l.alternate,b=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Ka(c,l),Al(l),b&4){try{vp(3,l,l.return),hg(3,l)}catch(Nt){jr(l,l.return,Nt)}try{vp(5,l,l.return)}catch(Nt){jr(l,l.return,Nt)}}break;case 1:Ka(c,l),Al(l),b&512&&p!==null&&Kd(p,p.return);break;case 5:if(Ka(c,l),Al(l),b&512&&p!==null&&Kd(p,p.return),l.flags&32){var k=l.stateNode;try{gt(k,"")}catch(Nt){jr(l,l.return,Nt)}}if(b&4&&(k=l.stateNode,k!=null)){var V=l.memoizedProps,Q=p!==null?p.memoizedProps:V,ge=l.type,xe=l.updateQueue;if(l.updateQueue=null,xe!==null)try{ge==="input"&&V.type==="radio"&&V.name!=null&&me(k,V),on(ge,Q);var Ue=on(ge,V);for(Q=0;Q<xe.length;Q+=2){var at=xe[Q],ut=xe[Q+1];at==="style"?Zn(k,ut):at==="dangerouslySetInnerHTML"?_t(k,ut):at==="children"?gt(k,ut):j(k,at,ut,Ue)}switch(ge){case"input":St(k,V);break;case"textarea":Ze(k,V);break;case"select":var it=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!V.multiple;var xt=V.value;xt!=null?Ce(k,!!V.multiple,xt,!1):it!==!!V.multiple&&(V.defaultValue!=null?Ce(k,!!V.multiple,V.defaultValue,!0):Ce(k,!!V.multiple,V.multiple?[]:"",!1))}k[sc]=V}catch(Nt){jr(l,l.return,Nt)}}break;case 6:if(Ka(c,l),Al(l),b&4){if(l.stateNode===null)throw Error(t(162));k=l.stateNode,V=l.memoizedProps;try{k.nodeValue=V}catch(Nt){jr(l,l.return,Nt)}}break;case 3:if(Ka(c,l),Al(l),b&4&&p!==null&&p.memoizedState.isDehydrated)try{di(c.containerInfo)}catch(Nt){jr(l,l.return,Nt)}break;case 4:Ka(c,l),Al(l);break;case 13:Ka(c,l),Al(l),k=l.child,k.flags&8192&&(V=k.memoizedState!==null,k.stateNode.isHidden=V,!V||k.alternate!==null&&k.alternate.memoizedState!==null||(Uy=Kn())),b&4&&kb(l);break;case 22:if(at=p!==null&&p.memoizedState!==null,l.mode&1?(fs=(Ue=fs)||at,Ka(c,l),fs=Ue):Ka(c,l),Al(l),b&8192){if(Ue=l.memoizedState!==null,(l.stateNode.isHidden=Ue)&&!at&&(l.mode&1)!==0)for(Ct=l,at=l.child;at!==null;){for(ut=Ct=at;Ct!==null;){switch(it=Ct,xt=it.child,it.tag){case 0:case 11:case 14:case 15:vp(4,it,it.return);break;case 1:Kd(it,it.return);var kt=it.stateNode;if(typeof kt.componentWillUnmount=="function"){b=it,p=it.return;try{c=b,kt.props=c.memoizedProps,kt.state=c.memoizedState,kt.componentWillUnmount()}catch(Nt){jr(b,p,Nt)}}break;case 5:Kd(it,it.return);break;case 22:if(it.memoizedState!==null){Nb(ut);continue}}xt!==null?(xt.return=it,Ct=xt):Nb(ut)}at=at.sibling}e:for(at=null,ut=l;;){if(ut.tag===5){if(at===null){at=ut;try{k=ut.stateNode,Ue?(V=k.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none"):(ge=ut.stateNode,xe=ut.memoizedProps.style,Q=xe!=null&&xe.hasOwnProperty("display")?xe.display:null,ge.style.display=Mt("display",Q))}catch(Nt){jr(l,l.return,Nt)}}}else if(ut.tag===6){if(at===null)try{ut.stateNode.nodeValue=Ue?"":ut.memoizedProps}catch(Nt){jr(l,l.return,Nt)}}else if((ut.tag!==22&&ut.tag!==23||ut.memoizedState===null||ut===l)&&ut.child!==null){ut.child.return=ut,ut=ut.child;continue}if(ut===l)break e;for(;ut.sibling===null;){if(ut.return===null||ut.return===l)break e;at===ut&&(at=null),ut=ut.return}at===ut&&(at=null),ut.sibling.return=ut.return,ut=ut.sibling}}break;case 19:Ka(c,l),Al(l),b&4&&kb(l);break;case 21:break;default:Ka(c,l),Al(l)}}function Al(l){var c=l.flags;if(c&2){try{e:{for(var p=l.return;p!==null;){if(Cb(p)){var b=p;break e}p=p.return}throw Error(t(160))}switch(b.tag){case 5:var k=b.stateNode;b.flags&32&&(gt(k,""),b.flags&=-33);var V=Ab(l);Fy(l,V,k);break;case 3:case 4:var Q=b.stateNode.containerInfo,ge=Ab(l);jy(l,ge,Q);break;default:throw Error(t(161))}}catch(xe){jr(l,l.return,xe)}l.flags&=-3}c&4096&&(l.flags&=-4097)}function BR(l,c,p){Ct=l,Tb(l)}function Tb(l,c,p){for(var b=(l.mode&1)!==0;Ct!==null;){var k=Ct,V=k.child;if(k.tag===22&&b){var Q=k.memoizedState!==null||dg;if(!Q){var ge=k.alternate,xe=ge!==null&&ge.memoizedState!==null||fs;ge=dg;var Ue=fs;if(dg=Q,(fs=xe)&&!Ue)for(Ct=k;Ct!==null;)Q=Ct,xe=Q.child,Q.tag===22&&Q.memoizedState!==null?Rb(k):xe!==null?(xe.return=Q,Ct=xe):Rb(k);for(;V!==null;)Ct=V,Tb(V),V=V.sibling;Ct=k,dg=ge,fs=Ue}Ib(l)}else(k.subtreeFlags&8772)!==0&&V!==null?(V.return=k,Ct=V):Ib(l)}}function Ib(l){for(;Ct!==null;){var c=Ct;if((c.flags&8772)!==0){var p=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:fs||hg(5,c);break;case 1:var b=c.stateNode;if(c.flags&4&&!fs)if(p===null)b.componentDidMount();else{var k=c.elementType===c.type?p.memoizedProps:Ha(c.type,p.memoizedProps);b.componentDidUpdate(k,p.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var V=c.updateQueue;V!==null&&mu(c,V,b);break;case 3:var Q=c.updateQueue;if(Q!==null){if(p=null,c.child!==null)switch(c.child.tag){case 5:p=c.child.stateNode;break;case 1:p=c.child.stateNode}mu(c,Q,p)}break;case 5:var ge=c.stateNode;if(p===null&&c.flags&4){p=ge;var xe=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":xe.autoFocus&&p.focus();break;case"img":xe.src&&(p.src=xe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var Ue=c.alternate;if(Ue!==null){var at=Ue.memoizedState;if(at!==null){var ut=at.dehydrated;ut!==null&&di(ut)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}fs||c.flags&512&&Dy(c)}catch(it){jr(c,c.return,it)}}if(c===l){Ct=null;break}if(p=c.sibling,p!==null){p.return=c.return,Ct=p;break}Ct=c.return}}function Nb(l){for(;Ct!==null;){var c=Ct;if(c===l){Ct=null;break}var p=c.sibling;if(p!==null){p.return=c.return,Ct=p;break}Ct=c.return}}function Rb(l){for(;Ct!==null;){var c=Ct;try{switch(c.tag){case 0:case 11:case 15:var p=c.return;try{hg(4,c)}catch(xe){jr(c,p,xe)}break;case 1:var b=c.stateNode;if(typeof b.componentDidMount=="function"){var k=c.return;try{b.componentDidMount()}catch(xe){jr(c,k,xe)}}var V=c.return;try{Dy(c)}catch(xe){jr(c,V,xe)}break;case 5:var Q=c.return;try{Dy(c)}catch(xe){jr(c,Q,xe)}}}catch(xe){jr(c,c.return,xe)}if(c===l){Ct=null;break}var ge=c.sibling;if(ge!==null){ge.return=c.return,Ct=ge;break}Ct=c.return}}var VR=Math.ceil,pg=D.ReactCurrentDispatcher,By=D.ReactCurrentOwner,pa=D.ReactCurrentBatchConfig,Tn=0,Pi=null,ei=null,Gi=0,Oo=0,Yd=To(0),vi=0,yp=null,kf=0,mg=0,Vy=0,wp=null,ro=null,Uy=0,Jd=1/0,yu=null,gg=!1,zy=null,mc=null,vg=!1,gc=null,yg=0,_p=0,$y=null,wg=-1,_g=0;function Ds(){return(Tn&6)!==0?Kn():wg!==-1?wg:wg=Kn()}function vc(l){return(l.mode&1)===0?1:(Tn&2)!==0&&Gi!==0?Gi&-Gi:Jn.transition!==null?(_g===0&&(_g=Xo()),_g):(l=fn,l!==0||(l=window.event,l=l===void 0?16:hl(l.type)),l)}function Ya(l,c,p,b){if(50<_p)throw _p=0,$y=null,Error(t(185));xo(l,p,b),((Tn&2)===0||l!==Pi)&&(l===Pi&&((Tn&2)===0&&(mg|=p),vi===4&&yc(l,Gi)),io(l,b),p===1&&Tn===0&&(c.mode&1)===0&&(Jd=Kn()+500,Ef&&U()))}function io(l,c){var p=l.callbackNode;_r(l,c);var b=ui(l,l===Pi?Gi:0);if(b===0)p!==null&&Go(p),l.callbackNode=null,l.callbackPriority=0;else if(c=b&-b,l.callbackPriority!==c){if(p!=null&&Go(p),c===1)l.tag===0?T(Mb.bind(null,l)):E(Mb.bind(null,l)),yy(function(){(Tn&6)===0&&U()}),p=null;else{switch($s(b)){case 1:p=zs;break;case 4:p=bo;break;case 16:p=ts;break;case 536870912:p=Uu;break;default:p=ts}p=$b(p,Ob.bind(null,l))}l.callbackPriority=c,l.callbackNode=p}}function Ob(l,c){if(wg=-1,_g=0,(Tn&6)!==0)throw Error(t(327));var p=l.callbackNode;if(Xd()&&l.callbackNode!==p)return null;var b=ui(l,l===Pi?Gi:0);if(b===0)return null;if((b&30)!==0||(b&l.expiredLanes)!==0||c)c=bg(l,b);else{c=b;var k=Tn;Tn|=2;var V=jb();(Pi!==l||Gi!==c)&&(yu=null,Jd=Kn()+500,Tf(l,c));do try{$R();break}catch(ge){Db(l,ge)}while(!0);gi(),pg.current=V,Tn=k,ei!==null?c=0:(Pi=null,Gi=0,c=vi)}if(c!==0){if(c===2&&(k=ci(l),k!==0&&(b=k,c=qy(l,k))),c===1)throw p=yp,Tf(l,0),yc(l,b),io(l,Kn()),p;if(c===6)yc(l,b);else{if(k=l.current.alternate,(b&30)===0&&!UR(k)&&(c=bg(l,b),c===2&&(V=ci(l),V!==0&&(b=V,c=qy(l,V))),c===1))throw p=yp,Tf(l,0),yc(l,b),io(l,Kn()),p;switch(l.finishedWork=k,l.finishedLanes=b,c){case 0:case 1:throw Error(t(345));case 2:If(l,ro,yu);break;case 3:if(yc(l,b),(b&130023424)===b&&(c=Uy+500-Kn(),10<c)){if(ui(l,0)!==0)break;if(k=l.suspendedLanes,(k&b)!==b){Ds(),l.pingedLanes|=l.suspendedLanes&k;break}l.timeoutHandle=op(If.bind(null,l,ro,yu),c);break}If(l,ro,yu);break;case 4:if(yc(l,b),(b&4194240)===b)break;for(c=l.eventTimes,k=-1;0<b;){var Q=31-li(b);V=1<<Q,Q=c[Q],Q>k&&(k=Q),b&=~V}if(b=k,b=Kn()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*VR(b/1960))-b,10<b){l.timeoutHandle=op(If.bind(null,l,ro,yu),b);break}If(l,ro,yu);break;case 5:If(l,ro,yu);break;default:throw Error(t(329))}}}return io(l,Kn()),l.callbackNode===p?Ob.bind(null,l):null}function qy(l,c){var p=wp;return l.current.memoizedState.isDehydrated&&(Tf(l,c).flags|=256),l=bg(l,c),l!==2&&(c=ro,ro=p,c!==null&&Wy(c)),l}function Wy(l){ro===null?ro=l:ro.push.apply(ro,l)}function UR(l){for(var c=l;;){if(c.flags&16384){var p=c.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var b=0;b<p.length;b++){var k=p[b],V=k.getSnapshot;k=k.value;try{if(!Pn(V(),k))return!1}catch{return!1}}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function yc(l,c){for(c&=~Vy,c&=~mg,l.suspendedLanes|=c,l.pingedLanes&=~c,l=l.expirationTimes;0<c;){var p=31-li(c),b=1<<p;l[p]=-1,c&=~b}}function Mb(l){if((Tn&6)!==0)throw Error(t(327));Xd();var c=ui(l,0);if((c&1)===0)return io(l,Kn()),null;var p=bg(l,c);if(l.tag!==0&&p===2){var b=ci(l);b!==0&&(c=b,p=qy(l,b))}if(p===1)throw p=yp,Tf(l,0),yc(l,c),io(l,Kn()),p;if(p===6)throw Error(t(345));return l.finishedWork=l.current.alternate,l.finishedLanes=c,If(l,ro,yu),io(l,Kn()),null}function Hy(l,c){var p=Tn;Tn|=1;try{return l(c)}finally{Tn=p,Tn===0&&(Jd=Kn()+500,Ef&&U())}}function Pf(l){gc!==null&&gc.tag===0&&(Tn&6)===0&&Xd();var c=Tn;Tn|=1;var p=pa.transition,b=fn;try{if(pa.transition=null,fn=1,l)return l()}finally{fn=b,pa.transition=p,Tn=c,(Tn&6)===0&&U()}}function Gy(){Oo=Yd.current,zn(Yd)}function Tf(l,c){l.finishedWork=null,l.finishedLanes=0;var p=l.timeoutHandle;if(p!==-1&&(l.timeoutHandle=-1,Zm(p)),ei!==null)for(p=ei.return;p!==null;){var b=p;switch(Se(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&Dd();break;case 3:fa(),zn(as),zn(mi),hp();break;case 5:fp(b);break;case 4:fa();break;case 13:zn(or);break;case 19:zn(or);break;case 10:us(b.type._context);break;case 22:case 23:Gy()}p=p.return}if(Pi=l,ei=l=wc(l.current,null),Gi=Oo=c,vi=0,yp=null,Vy=mg=kf=0,ro=wp=null,Is!==null){for(c=0;c<Is.length;c++)if(p=Is[c],b=p.interleaved,b!==null){p.interleaved=null;var k=b.next,V=p.pending;if(V!==null){var Q=V.next;V.next=k,b.next=Q}p.pending=b}Is=null}return l}function Db(l,c){do{var p=ei;try{if(gi(),Fd.current=lg,fc){for(var b=cr.memoizedState;b!==null;){var k=b.queue;k!==null&&(k.pending=null),b=b.next}fc=!1}if(da=0,kr=Dr=cr=null,qa=!1,dc=0,By.current=null,p===null||p.return===null){vi=1,yp=c,ei=null;break}e:{var V=l,Q=p.return,ge=p,xe=c;if(c=Gi,ge.flags|=32768,xe!==null&&typeof xe=="object"&&typeof xe.then=="function"){var Ue=xe,at=ge,ut=at.tag;if((at.mode&1)===0&&(ut===0||ut===11||ut===15)){var it=at.alternate;it?(at.updateQueue=it.updateQueue,at.memoizedState=it.memoizedState,at.lanes=it.lanes):(at.updateQueue=null,at.memoizedState=null)}var xt=ab(Q);if(xt!==null){xt.flags&=-257,lb(xt,Q,ge,V,c),xt.mode&1&&ob(V,Ue,c),c=xt,xe=Ue;var kt=c.updateQueue;if(kt===null){var Nt=new Set;Nt.add(xe),c.updateQueue=Nt}else kt.add(xe);break e}else{if((c&1)===0){ob(V,Ue,c),Ky();break e}xe=Error(t(426))}}else if(He&&ge.mode&1){var Hr=ab(Q);if(Hr!==null){(Hr.flags&65536)===0&&(Hr.flags|=256),lb(Hr,Q,ge,V,c),$n(Gd(xe,ge));break e}}V=xe=Gd(xe,ge),vi!==4&&(vi=2),wp===null?wp=[V]:wp.push(V),V=Q;do{switch(V.tag){case 3:V.flags|=65536,c&=-c,V.lanes|=c;var De=ib(V,xe,c);to(V,De);break e;case 1:ge=xe;var Ae=V.type,Fe=V.stateNode;if((V.flags&128)===0&&(typeof Ae.getDerivedStateFromError=="function"||Fe!==null&&typeof Fe.componentDidCatch=="function"&&(mc===null||!mc.has(Fe)))){V.flags|=65536,c&=-c,V.lanes|=c;var ht=sb(V,ge,c);to(V,ht);break e}}V=V.return}while(V!==null)}Bb(p)}catch(Ot){c=Ot,ei===p&&p!==null&&(ei=p=p.return);continue}break}while(!0)}function jb(){var l=pg.current;return pg.current=lg,l===null?lg:l}function Ky(){(vi===0||vi===3||vi===2)&&(vi=4),Pi===null||(kf&268435455)===0&&(mg&268435455)===0||yc(Pi,Gi)}function bg(l,c){var p=Tn;Tn|=2;var b=jb();(Pi!==l||Gi!==c)&&(yu=null,Tf(l,c));do try{zR();break}catch(k){Db(l,k)}while(!0);if(gi(),Tn=p,pg.current=b,ei!==null)throw Error(t(261));return Pi=null,Gi=0,vi}function zR(){for(;ei!==null;)Fb(ei)}function $R(){for(;ei!==null&&!Sa();)Fb(ei)}function Fb(l){var c=zb(l.alternate,l,Oo);l.memoizedProps=l.pendingProps,c===null?Bb(l):ei=c,By.current=null}function Bb(l){var c=l;do{var p=c.alternate;if(l=c.return,(c.flags&32768)===0){if(p=MR(p,c,Oo),p!==null){ei=p;return}}else{if(p=DR(p,c),p!==null){p.flags&=32767,ei=p;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{vi=6,ei=null;return}}if(c=c.sibling,c!==null){ei=c;return}ei=c=l}while(c!==null);vi===0&&(vi=5)}function If(l,c,p){var b=fn,k=pa.transition;try{pa.transition=null,fn=1,qR(l,c,p,b)}finally{pa.transition=k,fn=b}return null}function qR(l,c,p,b){do Xd();while(gc!==null);if((Tn&6)!==0)throw Error(t(327));p=l.finishedWork;var k=l.finishedLanes;if(p===null)return null;if(l.finishedWork=null,l.finishedLanes=0,p===l.current)throw Error(t(177));l.callbackNode=null,l.callbackPriority=0;var V=p.lanes|p.childLanes;if(Bn(l,V),l===Pi&&(ei=Pi=null,Gi=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||vg||(vg=!0,$b(ts,function(){return Xd(),null})),V=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||V){V=pa.transition,pa.transition=null;var Q=fn;fn=1;var ge=Tn;Tn|=4,By.current=null,FR(l,p),Pb(p,l),su(cu),ea=!!xf,cu=xf=null,l.current=p,BR(p),Bu(),Tn=ge,fn=Q,pa.transition=V}else l.current=p;if(vg&&(vg=!1,gc=l,yg=k),V=l.pendingLanes,V===0&&(mc=null),Ca(p.stateNode),io(l,Kn()),c!==null)for(b=l.onRecoverableError,p=0;p<c.length;p++)k=c[p],b(k.value,{componentStack:k.stack,digest:k.digest});if(gg)throw gg=!1,l=zy,zy=null,l;return(yg&1)!==0&&l.tag!==0&&Xd(),V=l.pendingLanes,(V&1)!==0?l===$y?_p++:(_p=0,$y=l):_p=0,U(),null}function Xd(){if(gc!==null){var l=$s(yg),c=pa.transition,p=fn;try{if(pa.transition=null,fn=16>l?16:l,gc===null)var b=!1;else{if(l=gc,gc=null,yg=0,(Tn&6)!==0)throw Error(t(331));var k=Tn;for(Tn|=4,Ct=l.current;Ct!==null;){var V=Ct,Q=V.child;if((Ct.flags&16)!==0){var ge=V.deletions;if(ge!==null){for(var xe=0;xe<ge.length;xe++){var Ue=ge[xe];for(Ct=Ue;Ct!==null;){var at=Ct;switch(at.tag){case 0:case 11:case 15:vp(8,at,V)}var ut=at.child;if(ut!==null)ut.return=at,Ct=ut;else for(;Ct!==null;){at=Ct;var it=at.sibling,xt=at.return;if(Eb(at),at===Ue){Ct=null;break}if(it!==null){it.return=xt,Ct=it;break}Ct=xt}}}var kt=V.alternate;if(kt!==null){var Nt=kt.child;if(Nt!==null){kt.child=null;do{var Hr=Nt.sibling;Nt.sibling=null,Nt=Hr}while(Nt!==null)}}Ct=V}}if((V.subtreeFlags&2064)!==0&&Q!==null)Q.return=V,Ct=Q;else e:for(;Ct!==null;){if(V=Ct,(V.flags&2048)!==0)switch(V.tag){case 0:case 11:case 15:vp(9,V,V.return)}var De=V.sibling;if(De!==null){De.return=V.return,Ct=De;break e}Ct=V.return}}var Ae=l.current;for(Ct=Ae;Ct!==null;){Q=Ct;var Fe=Q.child;if((Q.subtreeFlags&2064)!==0&&Fe!==null)Fe.return=Q,Ct=Fe;else e:for(Q=Ae;Ct!==null;){if(ge=Ct,(ge.flags&2048)!==0)try{switch(ge.tag){case 0:case 11:case 15:hg(9,ge)}}catch(Ot){jr(ge,ge.return,Ot)}if(ge===Q){Ct=null;break e}var ht=ge.sibling;if(ht!==null){ht.return=ge.return,Ct=ht;break e}Ct=ge.return}}if(Tn=k,U(),Di&&typeof Di.onPostCommitFiberRoot=="function")try{Di.onPostCommitFiberRoot(Ko,l)}catch{}b=!0}return b}finally{fn=p,pa.transition=c}}return!1}function Vb(l,c,p){c=Gd(p,c),c=ib(l,c,1),l=eo(l,c,1),c=Ds(),l!==null&&(xo(l,1,c),io(l,c))}function jr(l,c,p){if(l.tag===3)Vb(l,l,p);else for(;c!==null;){if(c.tag===3){Vb(c,l,p);break}else if(c.tag===1){var b=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(mc===null||!mc.has(b))){l=Gd(p,l),l=sb(c,l,1),c=eo(c,l,1),l=Ds(),c!==null&&(xo(c,1,l),io(c,l));break}}c=c.return}}function WR(l,c,p){var b=l.pingCache;b!==null&&b.delete(c),c=Ds(),l.pingedLanes|=l.suspendedLanes&p,Pi===l&&(Gi&p)===p&&(vi===4||vi===3&&(Gi&130023424)===Gi&&500>Kn()-Uy?Tf(l,0):Vy|=p),io(l,c)}function Ub(l,c){c===0&&((l.mode&1)===0?c=1:(c=Yo,Yo<<=1,(Yo&130023424)===0&&(Yo=4194304)));var p=Ds();l=On(l,c),l!==null&&(xo(l,c,p),io(l,p))}function HR(l){var c=l.memoizedState,p=0;c!==null&&(p=c.retryLane),Ub(l,p)}function GR(l,c){var p=0;switch(l.tag){case 13:var b=l.stateNode,k=l.memoizedState;k!==null&&(p=k.retryLane);break;case 19:b=l.stateNode;break;default:throw Error(t(314))}b!==null&&b.delete(c),Ub(l,p)}var zb;zb=function(l,c,p){if(l!==null)if(l.memoizedProps!==c.pendingProps||as.current)no=!0;else{if((l.lanes&p)===0&&(c.flags&128)===0)return no=!1,OR(l,c,p);no=(l.flags&131072)!==0}else no=!1,He&&(c.flags&1048576)!==0&&Xe(c,re,c.index);switch(c.lanes=0,c.tag){case 2:var b=c.type;fg(l,c),l=c.pendingProps;var k=ac(c,mi.current);mr(c,p),k=Cf(null,c,b,l,k,p);var V=ha();return c.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,ls(b)?(V=!0,hu(c)):V=!1,c.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,jd(c),k.updater=ug,c.stateNode=k,k._reactInternals=c,Cy(c,b,l,p),c=Py(null,c,b,!0,V,p)):(c.tag=0,He&&V&&ze(c),Ms(null,c,k,p),c=c.child),c;case 16:b=c.elementType;e:{switch(fg(l,c),l=c.pendingProps,k=b._init,b=k(b._payload),c.type=b,k=c.tag=YR(b),l=Ha(b,l),k){case 0:c=ky(null,c,b,l,p);break e;case 1:c=pb(null,c,b,l,p);break e;case 11:c=ub(null,c,b,l,p);break e;case 14:c=cb(null,c,b,Ha(b.type,l),p);break e}throw Error(t(306,b,""))}return c;case 0:return b=c.type,k=c.pendingProps,k=c.elementType===b?k:Ha(b,k),ky(l,c,b,k,p);case 1:return b=c.type,k=c.pendingProps,k=c.elementType===b?k:Ha(b,k),pb(l,c,b,k,p);case 3:e:{if(mb(c),l===null)throw Error(t(387));b=c.pendingProps,V=c.memoizedState,k=V.element,cp(l,c),za(c,b,null,p);var Q=c.memoizedState;if(b=Q.element,V.isDehydrated)if(V={element:b,isDehydrated:!1,cache:Q.cache,pendingSuspenseBoundaries:Q.pendingSuspenseBoundaries,transitions:Q.transitions},c.updateQueue.baseState=V,c.memoizedState=V,c.flags&256){k=Gd(Error(t(423)),c),c=gb(l,c,b,p,k);break e}else if(b!==k){k=Gd(Error(t(424)),c),c=gb(l,c,b,p,k);break e}else for(Ge=qi(c.stateNode.containerInfo.firstChild),Ee=c,He=!0,Ye=null,p=Rn(c,null,b,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(nn(),b===k){c=vu(l,c,p);break e}Ms(l,c,b,p)}c=c.child}return c;case 5:return rg(c),l===null&&wt(c),b=c.type,k=c.pendingProps,V=l!==null?l.memoizedProps:null,Q=k.children,sp(b,k)?Q=null:V!==null&&sp(b,V)&&(c.flags|=32),hb(l,c),Ms(l,c,Q,p),c.child;case 6:return l===null&&wt(c),null;case 13:return vb(l,c,p);case 4:return cc(c,c.stateNode.containerInfo),b=c.pendingProps,l===null?c.child=$r(c,null,b,p):Ms(l,c,b,p),c.child;case 11:return b=c.type,k=c.pendingProps,k=c.elementType===b?k:Ha(b,k),ub(l,c,b,k,p);case 7:return Ms(l,c,c.pendingProps,p),c.child;case 8:return Ms(l,c,c.pendingProps.children,p),c.child;case 12:return Ms(l,c,c.pendingProps.children,p),c.child;case 10:e:{if(b=c.type._context,k=c.pendingProps,V=c.memoizedProps,Q=k.value,Yn(Li,b._currentValue),b._currentValue=Q,V!==null)if(Pn(V.value,Q)){if(V.children===k.children&&!as.current){c=vu(l,c,p);break e}}else for(V=c.child,V!==null&&(V.return=c);V!==null;){var ge=V.dependencies;if(ge!==null){Q=V.child;for(var xe=ge.firstContext;xe!==null;){if(xe.context===b){if(V.tag===1){xe=Zs(-1,p&-p),xe.tag=2;var Ue=V.updateQueue;if(Ue!==null){Ue=Ue.shared;var at=Ue.pending;at===null?xe.next=xe:(xe.next=at.next,at.next=xe),Ue.pending=xe}}V.lanes|=p,xe=V.alternate,xe!==null&&(xe.lanes|=p),Qs(V.return,p,c),ge.lanes|=p;break}xe=xe.next}}else if(V.tag===10)Q=V.type===c.type?null:V.child;else if(V.tag===18){if(Q=V.return,Q===null)throw Error(t(341));Q.lanes|=p,ge=Q.alternate,ge!==null&&(ge.lanes|=p),Qs(Q,p,c),Q=V.sibling}else Q=V.child;if(Q!==null)Q.return=V;else for(Q=V;Q!==null;){if(Q===c){Q=null;break}if(V=Q.sibling,V!==null){V.return=Q.return,Q=V;break}Q=Q.return}V=Q}Ms(l,c,k.children,p),c=c.child}return c;case 9:return k=c.type,b=c.pendingProps.children,mr(c,p),k=Mr(k),b=b(k),c.flags|=1,Ms(l,c,b,p),c.child;case 14:return b=c.type,k=Ha(b,c.pendingProps),k=Ha(b.type,k),cb(l,c,b,k,p);case 15:return fb(l,c,c.type,c.pendingProps,p);case 17:return b=c.type,k=c.pendingProps,k=c.elementType===b?k:Ha(b,k),fg(l,c),c.tag=1,ls(b)?(l=!0,hu(c)):l=!1,mr(c,p),nb(c,b,k),Cy(c,b,k,p),Py(null,c,b,!0,l,p);case 19:return wb(l,c,p);case 22:return db(l,c,p)}throw Error(t(156,c.tag))};function $b(l,c){return _o(l,c)}function KR(l,c,p,b){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ma(l,c,p,b){return new KR(l,c,p,b)}function Yy(l){return l=l.prototype,!(!l||!l.isReactComponent)}function YR(l){if(typeof l=="function")return Yy(l)?1:0;if(l!=null){if(l=l.$$typeof,l===P)return 11;if(l===ue)return 14}return 2}function wc(l,c){var p=l.alternate;return p===null?(p=ma(l.tag,c,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=c,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&14680064,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,c=l.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p}function xg(l,c,p,b,k,V){var Q=2;if(b=l,typeof l=="function")Yy(l)&&(Q=1);else if(typeof l=="string")Q=5;else e:switch(l){case R:return Nf(p.children,k,V,c);case I:Q=8,k|=8;break;case N:return l=ma(12,p,c,k|2),l.elementType=N,l.lanes=V,l;case B:return l=ma(13,p,c,k),l.elementType=B,l.lanes=V,l;case Y:return l=ma(19,p,c,k),l.elementType=Y,l.lanes=V,l;case le:return Sg(p,k,V,c);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case W:Q=10;break e;case O:Q=9;break e;case P:Q=11;break e;case ue:Q=14;break e;case ae:Q=16,b=null;break e}throw Error(t(130,l==null?l:typeof l,""))}return c=ma(Q,p,c,k),c.elementType=l,c.type=b,c.lanes=V,c}function Nf(l,c,p,b){return l=ma(7,l,b,c),l.lanes=p,l}function Sg(l,c,p,b){return l=ma(22,l,b,c),l.elementType=le,l.lanes=p,l.stateNode={isHidden:!1},l}function Jy(l,c,p){return l=ma(6,l,null,c),l.lanes=p,l}function Xy(l,c,p){return c=ma(4,l.children!==null?l.children:[],l.key,c),c.lanes=p,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}function JR(l,c,p,b,k){this.tag=c,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qo(0),this.expirationTimes=Qo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qo(0),this.identifierPrefix=b,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function Qy(l,c,p,b,k,V,Q,ge,xe){return l=new JR(l,c,p,ge,xe),c===1?(c=1,V===!0&&(c|=8)):c=0,V=ma(3,null,null,c),l.current=V,V.stateNode=l,V.memoizedState={element:b,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},jd(V),l}function XR(l,c,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:b==null?null:""+b,children:l,containerInfo:c,implementation:p}}function qb(l){if(!l)return xl;l=l._reactInternals;e:{if(gn(l)!==l||l.tag!==1)throw Error(t(170));var c=l;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(ls(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(t(171))}if(l.tag===1){var p=l.type;if(ls(p))return up(l,p,c)}return c}function Wb(l,c,p,b,k,V,Q,ge,xe){return l=Qy(p,b,!0,l,k,V,Q,ge,xe),l.context=qb(null),p=l.current,b=Ds(),k=vc(p),V=Zs(b,k),V.callback=c??null,eo(p,V,k),l.current.lanes=k,xo(l,k,b),io(l,b),l}function Eg(l,c,p,b){var k=c.current,V=Ds(),Q=vc(k);return p=qb(p),c.context===null?c.context=p:c.pendingContext=p,c=Zs(V,Q),c.payload={element:l},b=b===void 0?null:b,b!==null&&(c.callback=b),l=eo(k,c,Q),l!==null&&(Ya(l,k,Q,V),pu(l,k,Q)),Q}function Cg(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function Hb(l,c){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<c?p:c}}function Zy(l,c){Hb(l,c),(l=l.alternate)&&Hb(l,c)}function QR(){return null}var Gb=typeof reportError=="function"?reportError:function(l){console.error(l)};function e1(l){this._internalRoot=l}Ag.prototype.render=e1.prototype.render=function(l){var c=this._internalRoot;if(c===null)throw Error(t(409));Eg(l,c,null,null)},Ag.prototype.unmount=e1.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var c=l.containerInfo;Pf(function(){Eg(null,l,null,null)}),c[Ai]=null}};function Ag(l){this._internalRoot=l}Ag.prototype.unstable_scheduleHydration=function(l){if(l){var c=qs();l={blockedOn:null,target:l,priority:c};for(var p=0;p<Ws.length&&c!==0&&c<Ws[p].priority;p++);Ws.splice(p,0,l),p===0&&dl(l)}};function t1(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function Lg(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function Kb(){}function ZR(l,c,p,b,k){if(k){if(typeof b=="function"){var V=b;b=function(){var Ue=Cg(Q);V.call(Ue)}}var Q=Wb(c,b,l,0,null,!1,!1,"",Kb);return l._reactRootContainer=Q,l[Ai]=Q.current,lu(l.nodeType===8?l.parentNode:l),Pf(),Q}for(;k=l.lastChild;)l.removeChild(k);if(typeof b=="function"){var ge=b;b=function(){var Ue=Cg(xe);ge.call(Ue)}}var xe=Qy(l,0,!1,null,null,!1,!1,"",Kb);return l._reactRootContainer=xe,l[Ai]=xe.current,lu(l.nodeType===8?l.parentNode:l),Pf(function(){Eg(c,xe,p,b)}),xe}function kg(l,c,p,b,k){var V=p._reactRootContainer;if(V){var Q=V;if(typeof k=="function"){var ge=k;k=function(){var xe=Cg(Q);ge.call(xe)}}Eg(c,Q,l,k)}else Q=ZR(p,c,l,k,b);return Cg(Q)}zu=function(l){switch(l.tag){case 3:var c=l.stateNode;if(c.current.memoizedState.isDehydrated){var p=Jo(c.pendingLanes);p!==0&&(So(c,p|1),io(c,Kn()),(Tn&6)===0&&(Jd=Kn()+500,U()))}break;case 13:Pf(function(){var b=On(l,1);if(b!==null){var k=Ds();Ya(b,l,1,k)}}),Zy(l,1)}},cl=function(l){if(l.tag===13){var c=On(l,134217728);if(c!==null){var p=Ds();Ya(c,l,134217728,p)}Zy(l,134217728)}},$u=function(l){if(l.tag===13){var c=vc(l),p=On(l,c);if(p!==null){var b=Ds();Ya(p,l,c,b)}Zy(l,c)}},qs=function(){return fn},La=function(l,c){var p=fn;try{return fn=l,c()}finally{fn=p}},an=function(l,c,p){switch(c){case"input":if(St(l,p),c=p.name,p.type==="radio"&&c!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<p.length;c++){var b=p[c];if(b!==l&&b.form===l.form){var k=Sf(b);if(!k)throw Error(t(90));Be(b),St(b,k)}}}break;case"textarea":Ze(l,p);break;case"select":c=p.value,c!=null&&Ce(l,!!p.multiple,c,!1)}},Hn=Hy,yn=Pf;var eO={usingClientEntryPoint:!1,Events:[oc,fu,Sf,At,Ut,Hy]},bp={findFiberByHostInstance:bl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tO={bundleType:bp.bundleType,version:bp.version,rendererPackageName:bp.rendererPackageName,rendererConfig:bp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=ai(l),l===null?null:l.stateNode},findFiberByHostInstance:bp.findFiberByHostInstance||QR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pg.isDisabled&&Pg.supportsFiber)try{Ko=Pg.inject(tO),Di=Pg}catch{}}return so.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eO,so.createPortal=function(l,c){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t1(c))throw Error(t(200));return XR(l,c,null,p)},so.createRoot=function(l,c){if(!t1(l))throw Error(t(299));var p=!1,b="",k=Gb;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onRecoverableError!==void 0&&(k=c.onRecoverableError)),c=Qy(l,1,!1,null,null,p,!1,b,k),l[Ai]=c.current,lu(l.nodeType===8?l.parentNode:l),new e1(c)},so.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(t(188)):(l=Object.keys(l).join(","),Error(t(268,l)));return l=ai(c),l=l===null?null:l.stateNode,l},so.flushSync=function(l){return Pf(l)},so.hydrate=function(l,c,p){if(!Lg(c))throw Error(t(200));return kg(null,l,c,!0,p)},so.hydrateRoot=function(l,c,p){if(!t1(l))throw Error(t(405));var b=p!=null&&p.hydratedSources||null,k=!1,V="",Q=Gb;if(p!=null&&(p.unstable_strictMode===!0&&(k=!0),p.identifierPrefix!==void 0&&(V=p.identifierPrefix),p.onRecoverableError!==void 0&&(Q=p.onRecoverableError)),c=Wb(c,null,l,1,p??null,k,!1,V,Q),l[Ai]=c.current,lu(l),b)for(l=0;l<b.length;l++)p=b[l],k=p._getVersion,k=k(p._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[p,k]:c.mutableSourceEagerHydrationData.push(p,k);return new Ag(c)},so.render=function(l,c,p){if(!Lg(c))throw Error(t(200));return kg(null,l,c,!1,p)},so.unmountComponentAtNode=function(l){if(!Lg(l))throw Error(t(40));return l._reactRootContainer?(Pf(function(){kg(null,null,l,!1,function(){l._reactRootContainer=null,l[Ai]=null})}),!0):!1},so.unstable_batchedUpdates=Hy,so.unstable_renderSubtreeIntoContainer=function(l,c,p,b){if(!Lg(p))throw Error(t(200));if(l==null||l._reactInternals===void 0)throw Error(t(38));return kg(l,c,p,!1,b)},so.version="18.3.1-next-f1338f8080-20240426",so}var dx;function kL(){if(dx)return u1.exports;dx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),u1.exports=WO(),u1.exports}var hx;function HO(){if(hx)return Ig;hx=1;var n=kL();return Ig.createRoot=n.createRoot,Ig.hydrateRoot=n.hydrateRoot,Ig}var GO=HO();const KO=yd(GO);let YO={data:""},JO=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||YO,XO=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,QO=/\/\*[^]*?\*\/|  +/g,px=/\n+/g,Tc=(n,e)=>{let t="",r="",i="";for(let s in n){let o=n[s];s[0]=="@"?s[1]=="i"?t=s+" "+o+";":r+=s[1]=="f"?Tc(o,s):s+"{"+Tc(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=Tc(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,a):a?a+" "+u:u)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Tc.p?Tc.p(s,o):s+":"+o+";")}return t+(e&&i?e+"{"+i+"}":i)+r},_u={},PL=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+PL(n[t]);return e}return n},ZO=(n,e,t,r,i)=>{let s=PL(n),o=_u[s]||(_u[s]=(u=>{let f=0,d=11;for(;f<u.length;)d=101*d+u.charCodeAt(f++)>>>0;return"go"+d})(s));if(!_u[o]){let u=s!==n?n:(f=>{let d,h,m=[{}];for(;d=XO.exec(f.replace(QO,""));)d[4]?m.shift():d[3]?(h=d[3].replace(px," ").trim(),m.unshift(m[0][h]=m[0][h]||{})):m[0][d[1]]=d[2].replace(px," ").trim();return m[0]})(n);_u[o]=Tc(i?{["@keyframes "+o]:u}:u,t?"":"."+o)}let a=t&&_u.g?_u.g:null;return t&&(_u.g=_u[o]),((u,f,d,h)=>{h?f.data=f.data.replace(h,u):f.data.indexOf(u)===-1&&(f.data=d?u+f.data:f.data+u)})(_u[o],e,r,a),o},e6=(n,e,t)=>n.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(t),u=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=u?"."+u:a&&typeof a=="object"?a.props?"":Tc(a,""):a===!1?"":a}return r+i+(o??"")},"");function S0(n){let e=this||{},t=n.call?n(e.p):n;return ZO(t.unshift?t.raw?e6(t,[].slice.call(arguments,1),e.p):t.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):t,JO(e.target),e.g,e.o,e.k)}let TL,_2,b2;S0.bind({g:1});let ku=S0.bind({k:1});function t6(n,e,t,r){Tc.p=e,TL=n,_2=t,b2=r}function cf(n,e){let t=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),u=a.className||i.className;t.p=Object.assign({theme:_2&&_2()},a),t.o=/ *go\d+/.test(u),a.className=S0.apply(t,r)+(u?" "+u:"");let f=n;return n[0]&&(f=a.as||n,delete a.as),b2&&f[0]&&b2(a),TL(f,a)}return i}}var n6=n=>typeof n=="function",Av=(n,e)=>n6(n)?n(e):n,r6=(()=>{let n=0;return()=>(++n).toString()})(),IL=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),i6=20,NL=(n,e)=>{switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,i6)};case 1:return{...n,toasts:n.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:t}=e;return NL(n,{type:n.toasts.find(s=>s.id===t.id)?1:0,toast:t});case 3:let{toastId:r}=e;return{...n,toasts:n.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let i=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},rv=[],Hf={toasts:[],pausedAt:void 0},wd=n=>{Hf=NL(Hf,n),rv.forEach(e=>{e(Hf)})},s6={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},o6=(n={})=>{let[e,t]=S.useState(Hf),r=S.useRef(Hf);S.useEffect(()=>(r.current!==Hf&&t(Hf),rv.push(t),()=>{let s=rv.indexOf(t);s>-1&&rv.splice(s,1)}),[]);let i=e.toasts.map(s=>{var o,a,u;return{...n,...n[s.type],...s,removeDelay:s.removeDelay||((o=n[s.type])==null?void 0:o.removeDelay)||(n==null?void 0:n.removeDelay),duration:s.duration||((a=n[s.type])==null?void 0:a.duration)||(n==null?void 0:n.duration)||s6[s.type],style:{...n.style,...(u=n[s.type])==null?void 0:u.style,...s.style}}});return{...e,toasts:i}},a6=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:(t==null?void 0:t.id)||r6()}),Rm=n=>(e,t)=>{let r=a6(e,n,t);return wd({type:2,toast:r}),r.id},Fs=(n,e)=>Rm("blank")(n,e);Fs.error=Rm("error");Fs.success=Rm("success");Fs.loading=Rm("loading");Fs.custom=Rm("custom");Fs.dismiss=n=>{wd({type:3,toastId:n})};Fs.remove=n=>wd({type:4,toastId:n});Fs.promise=(n,e,t)=>{let r=Fs.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof n=="function"&&(n=n()),n.then(i=>{let s=e.success?Av(e.success,i):void 0;return s?Fs.success(s,{id:r,...t,...t==null?void 0:t.success}):Fs.dismiss(r),i}).catch(i=>{let s=e.error?Av(e.error,i):void 0;s?Fs.error(s,{id:r,...t,...t==null?void 0:t.error}):Fs.dismiss(r)}),n};var l6=(n,e)=>{wd({type:1,toast:{id:n,height:e}})},u6=()=>{wd({type:5,time:Date.now()})},qp=new Map,c6=1e3,f6=(n,e=c6)=>{if(qp.has(n))return;let t=setTimeout(()=>{qp.delete(n),wd({type:4,toastId:n})},e);qp.set(n,t)},d6=n=>{let{toasts:e,pausedAt:t}=o6(n);S.useEffect(()=>{if(t)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let u=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(u<0){a.visible&&Fs.dismiss(a.id);return}return setTimeout(()=>Fs.dismiss(a.id),u)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,t]);let r=S.useCallback(()=>{t&&wd({type:6,time:Date.now()})},[t]),i=S.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:u=8,defaultPosition:f}=o||{},d=e.filter(g=>(g.position||f)===(s.position||f)&&g.height),h=d.findIndex(g=>g.id===s.id),m=d.filter((g,w)=>w<h&&g.visible).length;return d.filter(g=>g.visible).slice(...a?[m+1]:[0,m]).reduce((g,w)=>g+(w.height||0)+u,0)},[e]);return S.useEffect(()=>{e.forEach(s=>{if(s.dismissed)f6(s.id,s.removeDelay);else{let o=qp.get(s.id);o&&(clearTimeout(o),qp.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:l6,startPause:u6,endPause:r,calculateOffset:i}}},h6=ku`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,p6=ku`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,m6=ku`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,g6=cf("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${h6} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${p6} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${m6} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,v6=ku`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,y6=cf("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${v6} 1s linear infinite;
`,w6=ku`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,_6=ku`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,b6=cf("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${w6} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${_6} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,x6=cf("div")`
  position: absolute;
`,S6=cf("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,E6=ku`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,C6=cf("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${E6} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,A6=({toast:n})=>{let{icon:e,type:t,iconTheme:r}=n;return e!==void 0?typeof e=="string"?S.createElement(C6,null,e):e:t==="blank"?null:S.createElement(S6,null,S.createElement(y6,{...r}),t!=="loading"&&S.createElement(x6,null,t==="error"?S.createElement(g6,{...r}):S.createElement(b6,{...r})))},L6=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,k6=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,P6="0%{opacity:0;} 100%{opacity:1;}",T6="0%{opacity:1;} 100%{opacity:0;}",I6=cf("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,N6=cf("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,R6=(n,e)=>{let t=n.includes("top")?1:-1,[r,i]=IL()?[P6,T6]:[L6(t),k6(t)];return{animation:e?`${ku(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ku(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},O6=S.memo(({toast:n,position:e,style:t,children:r})=>{let i=n.height?R6(n.position||e||"top-center",n.visible):{opacity:0},s=S.createElement(A6,{toast:n}),o=S.createElement(N6,{...n.ariaProps},Av(n.message,n));return S.createElement(I6,{className:n.className,style:{...i,...t,...n.style}},typeof r=="function"?r({icon:s,message:o}):S.createElement(S.Fragment,null,s,o))});t6(S.createElement);var M6=({id:n,className:e,style:t,onHeightUpdate:r,children:i})=>{let s=S.useCallback(o=>{if(o){let a=()=>{let u=o.getBoundingClientRect().height;r(n,u)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[n,r]);return S.createElement("div",{ref:s,className:e,style:t},i)},D6=(n,e)=>{let t=n.includes("top"),r=t?{top:0}:{bottom:0},i=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:IL()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...r,...i}},j6=S0`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ng=16,F6=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:u}=d6(t);return S.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Ng,left:Ng,right:Ng,bottom:Ng,pointerEvents:"none",...s},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},a.map(f=>{let d=f.position||e,h=u.calculateOffset(f,{reverseOrder:n,gutter:r,defaultPosition:e}),m=D6(d,h);return S.createElement(M6,{id:f.id,key:f.id,onHeightUpdate:u.updateHeight,className:f.visible?j6:"",style:m},f.type==="custom"?Av(f.message,f):i?i(f):S.createElement(O6,{toast:f,position:d}))}))},ni=Fs,ju=kL();const B6=yd(ju);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rm(){return rm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},rm.apply(this,arguments)}var Nc;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Nc||(Nc={}));const mx="popstate";function V6(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return x2("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Lv(i)}return z6(e,t,null,n)}function oi(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function RL(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function U6(){return Math.random().toString(36).substr(2,8)}function gx(n,e){return{usr:n.state,key:n.key,idx:e}}function x2(n,e,t,r){return t===void 0&&(t=null),rm({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Gh(e):e,{state:t,key:e&&e.key||r||U6()})}function Lv(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Gh(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function z6(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Nc.Pop,u=null,f=d();f==null&&(f=0,o.replaceState(rm({},o.state,{idx:f}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Nc.Pop;let x=d(),C=x==null?null:x-f;f=x,u&&u({action:a,location:_.location,delta:C})}function m(x,C){a=Nc.Push;let L=x2(_.location,x,C);f=d()+1;let j=gx(L,f),D=_.createHref(L);try{o.pushState(j,"",D)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(D)}s&&u&&u({action:a,location:_.location,delta:1})}function g(x,C){a=Nc.Replace;let L=x2(_.location,x,C);f=d();let j=gx(L,f),D=_.createHref(L);o.replaceState(j,"",D),s&&u&&u({action:a,location:_.location,delta:0})}function w(x){let C=i.location.origin!=="null"?i.location.origin:i.location.href,L=typeof x=="string"?x:Lv(x);return L=L.replace(/ $/,"%20"),oi(C,"No window.location.(origin|href) available to create URL for href: "+L),new URL(L,C)}let _={get action(){return a},get location(){return n(i,o)},listen(x){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(mx,h),u=x,()=>{i.removeEventListener(mx,h),u=null}},createHref(x){return e(i,x)},createURL:w,encodeLocation(x){let C=w(x);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:m,replace:g,go(x){return o.go(x)}};return _}var vx;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(vx||(vx={}));function $6(n,e,t){return t===void 0&&(t="/"),q6(n,e,t)}function q6(n,e,t,r){let i=typeof e=="string"?Gh(e):e,s=qw(i.pathname||"/",t);if(s==null)return null;let o=OL(n);W6(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let f=rM(s);a=eM(o[u],f)}return a}function OL(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(oi(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let f=Bc([r,u.relativePath]),d=t.concat(u);s.children&&s.children.length>0&&(oi(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),OL(s.children,e,d,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:Q6(f,s.index),routesMeta:d})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of ML(s.path))i(s,o,u)}),e}function ML(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=ML(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>n.startsWith("/")&&u===""?"/":u)}function W6(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Z6(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const H6=/^:[\w-]+$/,G6=3,K6=2,Y6=1,J6=10,X6=-2,yx=n=>n==="*";function Q6(n,e){let t=n.split("/"),r=t.length;return t.some(yx)&&(r+=X6),e&&(r+=K6),t.filter(i=>!yx(i)).reduce((i,s)=>i+(H6.test(s)?G6:s===""?Y6:J6),r)}function Z6(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function eM(n,e,t){let{routesMeta:r}=n,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],f=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=tM({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},d),m=u.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Bc([s,h.pathname]),pathnameBase:aM(Bc([s,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(s=Bc([s,h.pathnameBase]))}return o}function tM(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=nM(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((f,d,h)=>{let{paramName:m,isOptional:g}=d;if(m==="*"){let _=a[h]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const w=a[h];return g&&!w?f[m]=void 0:f[m]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:o,pattern:n}}function nM(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),RL(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function rM(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return RL(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function qw(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function iM(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Gh(n):n;return{pathname:t?t.startsWith("/")?t:sM(t,e):e,search:lM(r),hash:uM(i)}}function sM(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function d1(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function oM(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function DL(n,e){let t=oM(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function jL(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Gh(n):(i=rm({},n),oi(!i.pathname||!i.pathname.includes("?"),d1("?","pathname","search",i)),oi(!i.pathname||!i.pathname.includes("#"),d1("#","pathname","hash",i)),oi(!i.search||!i.search.includes("#"),d1("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let h=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}a=h>=0?e[h]:"/"}let u=iM(i,a),f=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(f||d)&&(u.pathname+="/"),u}const Bc=n=>n.join("/").replace(/\/\/+/g,"/"),aM=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),lM=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,uM=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function cM(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const FL=["post","put","patch","delete"];new Set(FL);const fM=["get",...FL];new Set(fM);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function im(){return im=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},im.apply(this,arguments)}const Ww=S.createContext(null),dM=S.createContext(null),_d=S.createContext(null),E0=S.createContext(null),ff=S.createContext({outlet:null,matches:[],isDataRoute:!1}),BL=S.createContext(null);function hM(n,e){let{relative:t}=e===void 0?{}:e;Om()||oi(!1);let{basename:r,navigator:i}=S.useContext(_d),{hash:s,pathname:o,search:a}=UL(n,{relative:t}),u=o;return r!=="/"&&(u=o==="/"?r:Bc([r,o])),i.createHref({pathname:u,search:a,hash:s})}function Om(){return S.useContext(E0)!=null}function bd(){return Om()||oi(!1),S.useContext(E0).location}function VL(n){S.useContext(_d).static||S.useLayoutEffect(n)}function Hw(){let{isDataRoute:n}=S.useContext(ff);return n?LM():pM()}function pM(){Om()||oi(!1);let n=S.useContext(Ww),{basename:e,future:t,navigator:r}=S.useContext(_d),{matches:i}=S.useContext(ff),{pathname:s}=bd(),o=JSON.stringify(DL(i,t.v7_relativeSplatPath)),a=S.useRef(!1);return VL(()=>{a.current=!0}),S.useCallback(function(f,d){if(d===void 0&&(d={}),!a.current)return;if(typeof f=="number"){r.go(f);return}let h=jL(f,JSON.parse(o),s,d.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Bc([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,n])}function mM(){let{matches:n}=S.useContext(ff),e=n[n.length-1];return e?e.params:{}}function UL(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=S.useContext(_d),{matches:i}=S.useContext(ff),{pathname:s}=bd(),o=JSON.stringify(DL(i,r.v7_relativeSplatPath));return S.useMemo(()=>jL(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function gM(n,e){return vM(n,e)}function vM(n,e,t,r){Om()||oi(!1);let{navigator:i,static:s}=S.useContext(_d),{matches:o}=S.useContext(ff),a=o[o.length-1],u=a?a.params:{};a&&a.pathname;let f=a?a.pathnameBase:"/";a&&a.route;let d=bd(),h;if(e){var m;let C=typeof e=="string"?Gh(e):e;f==="/"||(m=C.pathname)!=null&&m.startsWith(f)||oi(!1),h=C}else h=d;let g=h.pathname||"/",w=g;if(f!=="/"){let C=f.replace(/^\//,"").split("/");w="/"+g.replace(/^\//,"").split("/").slice(C.length).join("/")}let _=$6(n,{pathname:w}),x=xM(_&&_.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:Bc([f,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?f:Bc([f,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,t,r);return e&&x?S.createElement(E0.Provider,{value:{location:im({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Nc.Pop}},x):x}function yM(){let n=AM(),e=cM(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),t?S.createElement("pre",{style:i},t):null,null)}const wM=S.createElement(yM,null);class _M extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?S.createElement(ff.Provider,{value:this.props.routeContext},S.createElement(BL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bM(n){let{routeContext:e,match:t,children:r}=n,i=S.useContext(Ww);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(ff.Provider,{value:e},r)}function xM(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(i=t)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||oi(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,f=-1;if(t&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(f=d),h.route.id){let{loaderData:m,errors:g}=t,w=h.route.loader&&m[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||w){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((d,h,m)=>{let g,w=!1,_=null,x=null;t&&(g=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||wM,u&&(f<0&&m===0?(kM("route-fallback"),w=!0,x=null):f===m&&(w=!0,x=h.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,m+1)),L=()=>{let j;return g?j=_:w?j=x:h.route.Component?j=S.createElement(h.route.Component,null):h.route.element?j=h.route.element:j=d,S.createElement(bM,{match:h,routeContext:{outlet:d,matches:C,isDataRoute:t!=null},children:j})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?S.createElement(_M,{location:t.location,revalidation:t.revalidation,component:_,error:g,children:L(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):L()},null)}var zL=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(zL||{}),$L=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}($L||{});function SM(n){let e=S.useContext(Ww);return e||oi(!1),e}function EM(n){let e=S.useContext(dM);return e||oi(!1),e}function CM(n){let e=S.useContext(ff);return e||oi(!1),e}function qL(n){let e=CM(),t=e.matches[e.matches.length-1];return t.route.id||oi(!1),t.route.id}function AM(){var n;let e=S.useContext(BL),t=EM(),r=qL();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function LM(){let{router:n}=SM(zL.UseNavigateStable),e=qL($L.UseNavigateStable),t=S.useRef(!1);return VL(()=>{t.current=!0}),S.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,im({fromRouteId:e},s)))},[n,e])}const wx={};function kM(n,e,t){wx[n]||(wx[n]=!0)}function PM(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Su(n){oi(!1)}function TM(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Nc.Pop,navigator:s,static:o=!1,future:a}=n;Om()&&oi(!1);let u=e.replace(/^\/*/,"/"),f=S.useMemo(()=>({basename:u,navigator:s,static:o,future:im({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=Gh(r));let{pathname:d="/",search:h="",hash:m="",state:g=null,key:w="default"}=r,_=S.useMemo(()=>{let x=qw(d,u);return x==null?null:{location:{pathname:x,search:h,hash:m,state:g,key:w},navigationType:i}},[u,d,h,m,g,w,i]);return _==null?null:S.createElement(_d.Provider,{value:f},S.createElement(E0.Provider,{children:t,value:_}))}function IM(n){let{children:e,location:t}=n;return gM(S2(e),t)}new Promise(()=>{});function S2(n,e){e===void 0&&(e=[]);let t=[];return S.Children.forEach(n,(r,i)=>{if(!S.isValidElement(r))return;let s=[...e,i];if(r.type===S.Fragment){t.push.apply(t,S2(r.props.children,s));return}r.type!==Su&&oi(!1),!r.props.index||!r.props.children||oi(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=S2(r.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function E2(){return E2=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},E2.apply(this,arguments)}function NM(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function RM(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function OM(n,e){return n.button===0&&(!e||e==="_self")&&!RM(n)}const MM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],DM="6";try{window.__reactRouterVersion=DM}catch{}const jM="startTransition",_x=fL[jM];function FM(n){let{basename:e,children:t,future:r,window:i}=n,s=S.useRef();s.current==null&&(s.current=V6({window:i,v5Compat:!0}));let o=s.current,[a,u]=S.useState({action:o.action,location:o.location}),{v7_startTransition:f}=r||{},d=S.useCallback(h=>{f&&_x?_x(()=>u(h)):u(h)},[u,f]);return S.useLayoutEffect(()=>o.listen(d),[o,d]),S.useEffect(()=>PM(r),[r]),S.createElement(TM,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:r})}const BM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ya=S.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:f,preventScrollReset:d,viewTransition:h}=e,m=NM(e,MM),{basename:g}=S.useContext(_d),w,_=!1;if(typeof f=="string"&&VM.test(f)&&(w=f,BM))try{let j=new URL(window.location.href),D=f.startsWith("//")?new URL(j.protocol+f):new URL(f),$=qw(D.pathname,g);D.origin===j.origin&&$!=null?f=$+D.search+D.hash:_=!0}catch{}let x=hM(f,{relative:i}),C=UM(f,{replace:o,state:a,target:u,preventScrollReset:d,relative:i,viewTransition:h});function L(j){r&&r(j),j.defaultPrevented||C(j)}return S.createElement("a",E2({},m,{href:w||x,onClick:_||s?r:L,ref:t,target:u}))});var bx;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(bx||(bx={}));var xx;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(xx||(xx={}));function UM(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,u=Hw(),f=bd(),d=UL(n,{relative:o});return S.useCallback(h=>{if(OM(h,t)){h.preventDefault();let m=r!==void 0?r:Lv(f)===Lv(d);u(n,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[f,u,d,r,i,t,n,s,o,a])}const sm={_origin:"https://api.emailjs.com"},zM=(n,e="https://api.emailjs.com")=>{sm._userID=n,sm._origin=e},WL=(n,e,t)=>{if(!n)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};let Sx=class{constructor(e){this.status=e.status,this.text=e.responseText}};const HL=(n,e,t={})=>new Promise((r,i)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:o})=>{const a=new Sx(o);a.status===200||a.text==="OK"?r(a):i(a)}),s.addEventListener("error",({target:o})=>{i(new Sx(o))}),s.open("POST",sm._origin+n,!0),Object.keys(t).forEach(o=>{s.setRequestHeader(o,t[o])}),s.send(e)}),$M=(n,e,t,r)=>{const i=r||sm._userID;return WL(i,n,e),HL("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:i,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"})},qM=n=>{let e;if(typeof n=="string"?e=document.querySelector(n):e=n,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},WM=(n,e,t,r)=>{const i=r||sm._userID,s=qM(t);WL(i,n,e);const o=new FormData(s);return o.append("lib_version","3.2.0"),o.append("service_id",n),o.append("template_id",e),o.append("user_id",i),HL("/api/v1.0/email/send-form",o)},Ex={init:zM,send:$M,sendForm:WM},Ho=S.createContext(null),HM=({children:n})=>{const{user:e,isAuthenticated:t,loginWithPopup:r,logout:i,getAccessTokenSilently:s}=zO(),[o,a]=S.useState([]),[u,f]=S.useState(0),[d,h]=S.useState(!1),[m,g]=S.useState({frequency:0,ipConsistency:1,sessionDuration:0,lastLogin:null}),[w,_]=S.useState(null),[x,C]=S.useState(""),[L,j]=S.useState(!1),[D,$]=S.useState(!1),[H,R]=S.useState(0),[I,N]=S.useState(null),[W,O]=S.useState(""),P=()=>{const fe=Math.floor(1e5+Math.random()*9e5).toString();return _(fe),fe},B=async(fe,ne)=>{try{if(!(await fetch("http://localhost:3001/api/store-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:fe,otp:ne})})).ok)throw new Error("Failed to store OTP");return console.log(`OTP stored for ${fe}`),!0}catch(z){return console.error("Error storing OTP:",z),O(""),!1}},Y=async fe=>fe===w?(j(!0),$(!1),h(!0),localStorage.setItem(`otpVerified_${e.email}`,"true"),O(""),!0):(O("Invalid OTP. Please try again."),C(""),!1),ue=async(fe,ne)=>{const z={name:e.name||"User",email:fe,code:ne};try{return await Ex.send("service_43ipbek","template_dwaluvr",z,"N4GLBfR4WYWTRq-6_"),console.log(`OTP email sent successfully to ${fe} with OTP: ${ne}`),await B(fe,ne)?(N(new Date().getTime()),O(""),!0):(O("Failed to store OTP. Please try again."),!1)}catch(J){return console.error("Error sending OTP email:",J),O("Failed to send OTP email. Please try again."),!1}},ae=async()=>{const fe=new Date().getTime();if(H>=3){O("Maximum OTP resend attempts reached. Please try again later.");return}if(I&&fe-I<60*1e3){O("Please wait 60 seconds before requesting a new OTP.");return}const ne=P();R(H+1),await ue(e.email,ne)&&(C(""),O("New OTP sent. Check your email."))},le=()=>({engagement:o.length,feedback:5,login_history:e?1:0}),te=()=>{const fe=le(),ne=fe.engagement*.2,z=fe.feedback*.1,J=fe.login_history*.2,se=m.frequency,Z=m.ipConsistency,pe=m.sessionDuration/60,ye=.3*se+.4*Z+.3*pe,ve=(ne+z+J+ye)/2;return Math.min(Math.max(ve,0),1)},ce=async fe=>{const ne={name:e.name||"New User",email:fe};try{await Ex.send("service_oepq08e","template_n1wj4u4",ne,"ej7jjYM4deFARaWnU"),console.log("Welcome email sent successfully")}catch(z){console.error("Error sending welcome email:",z)}};return S.useEffect(()=>{if(t&&e&&!L){const fe=new Date,ne=m.lastLogin?new Date(m.lastLogin):null,z=ne&&fe-ne<24*60*60*1e3?m.frequency+1:1,J="127.0.0.1",se=localStorage.getItem("lastIp")||"0.0.0.0",Z=J===se?1:0;localStorage.setItem("lastIp",J);const pe=Math.floor((fe-(ne||fe))/(1e3*60));g({frequency:z,ipConsistency:Z,sessionDuration:pe,lastLogin:fe.toISOString()});const ye=te();f(ye);const ve=localStorage.getItem(`otpVerified_${e.email}`),we=!localStorage.getItem(`welcomeEmailSent_${e.email}`);if(ye<.5||we||!ve){const Me=P();$(!0),ue(e.email,Me)}else j(!0),h(!0);localStorage.getItem(`welcomeEmailSent_${e.email}`)||(ce(e.email),localStorage.setItem(`welcomeEmailSent_${e.email}`,"true"))}},[e,t,o]),F.jsxs(Ho.Provider,{value:{user:e,isAuthenticated:t,loginWithPopup:r,logout:i,getAccessTokenSilently:s,trip:o,setTrip:a,trustScore:u,loggedIn:d,isOtpVerified:L},children:[D&&F.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-60 z-50",children:F.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-2xl max-w-md w-full",children:[F.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Two-Factor Authentication"}),F.jsxs("p",{className:"text-gray-600 mb-4",children:["Enter the 6-digit OTP sent to ",e.email,".",W?F.jsx("span",{className:"text-red-500 block mt-2",children:W}):F.jsx("span",{className:"block mt-2",children:"Check your email (including spam/junk)."})]}),F.jsx("input",{type:"text",value:x,onChange:fe=>C(fe.target.value),placeholder:"Enter 6-digit OTP",className:"border border-gray-300 p-3 mb-4 w-full rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:6}),F.jsxs("div",{className:"flex justify-between gap-4",children:[F.jsx("button",{onClick:()=>Y(x),className:"bg-blue-600 text-white p-3 rounded-md w-full hover:bg-blue-700 transition",children:"Verify OTP"}),F.jsx("button",{onClick:ae,className:"bg-gray-200 text-gray-800 p-3 rounded-md w-full hover:bg-gray-300 transition disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:H>=3||I&&new Date().getTime()-I<60*1e3,children:"Resend OTP"})]}),H>=3&&F.jsx("p",{className:"text-red-500 text-sm mt-4",children:"Maximum resend attempts reached. Please try again later."})]})}),n]})};function un(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Cx(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function C0(...n){return e=>{let t=!1;const r=n.map(i=>{const s=Cx(i,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Cx(n[i],null)}}}}function Oi(...n){return S.useCallback(C0(...n),n)}function GM(n,e){const t=S.createContext(e),r=s=>{const{children:o,...a}=s,u=S.useMemo(()=>a,Object.values(a));return F.jsx(t.Provider,{value:u,children:o})};r.displayName=n+"Provider";function i(s){const o=S.useContext(t);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${n}\``)}return[r,i]}function xd(n,e=[]){let t=[];function r(s,o){const a=S.createContext(o),u=t.length;t=[...t,o];const f=h=>{var C;const{scope:m,children:g,...w}=h,_=((C=m==null?void 0:m[n])==null?void 0:C[u])||a,x=S.useMemo(()=>w,Object.values(w));return F.jsx(_.Provider,{value:x,children:g})};f.displayName=s+"Provider";function d(h,m){var _;const g=((_=m==null?void 0:m[n])==null?void 0:_[u])||a,w=S.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[f,d]}const i=()=>{const s=t.map(o=>S.createContext(o));return function(a){const u=(a==null?void 0:a[n])||s;return S.useMemo(()=>({[`__scope${n}`]:{...a,[n]:u}}),[a,u])}};return i.scopeName=n,[r,KM(i,...e)]}function KM(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:u,scopeName:f})=>{const h=u(s)[`__scope${f}`];return{...a,...h}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function tl(n){const e=S.useRef(n);return S.useEffect(()=>{e.current=n}),S.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function A0({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=YM({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:r,a=tl(t),u=S.useCallback(f=>{if(s){const h=typeof f=="function"?f(n):f;h!==n&&a(h)}else i(f)},[s,n,i,a]);return[o,u]}function YM({defaultProp:n,onChange:e}){const t=S.useState(n),[r]=t,i=S.useRef(r),s=tl(e);return S.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),t}var sd=S.forwardRef((n,e)=>{const{children:t,...r}=n,i=S.Children.toArray(t),s=i.find(XM);if(s){const o=s.props.children,a=i.map(u=>u===s?S.Children.count(o)>1?S.Children.only(null):S.isValidElement(o)?o.props.children:null:u);return F.jsx(C2,{...r,ref:e,children:S.isValidElement(o)?S.cloneElement(o,void 0,a):null})}return F.jsx(C2,{...r,ref:e,children:t})});sd.displayName="Slot";var C2=S.forwardRef((n,e)=>{const{children:t,...r}=n;if(S.isValidElement(t)){const i=ZM(t),s=QM(r,t.props);return t.type!==S.Fragment&&(s.ref=e?C0(e,i):i),S.cloneElement(t,s)}return S.Children.count(t)>1?S.Children.only(null):null});C2.displayName="SlotClone";var JM=({children:n})=>F.jsx(F.Fragment,{children:n});function XM(n){return S.isValidElement(n)&&n.type===JM}function QM(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{s(...a),i(...a)}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function ZM(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var eD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ur=eD.reduce((n,e)=>{const t=S.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?sd:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),F.jsx(a,{...o,ref:i})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function GL(n,e){n&&ju.flushSync(()=>n.dispatchEvent(e))}function KL(n){const e=n+"CollectionProvider",[t,r]=xd(e),[i,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:w,children:_}=g,x=Yi.useRef(null),C=Yi.useRef(new Map).current;return F.jsx(i,{scope:w,itemMap:C,collectionRef:x,children:_})};o.displayName=e;const a=n+"CollectionSlot",u=Yi.forwardRef((g,w)=>{const{scope:_,children:x}=g,C=s(a,_),L=Oi(w,C.collectionRef);return F.jsx(sd,{ref:L,children:x})});u.displayName=a;const f=n+"CollectionItemSlot",d="data-radix-collection-item",h=Yi.forwardRef((g,w)=>{const{scope:_,children:x,...C}=g,L=Yi.useRef(null),j=Oi(w,L),D=s(f,_);return Yi.useEffect(()=>(D.itemMap.set(L,{ref:L,...C}),()=>void D.itemMap.delete(L))),F.jsx(sd,{[d]:"",ref:j,children:x})});h.displayName=f;function m(g){const w=s(n+"CollectionConsumer",g);return Yi.useCallback(()=>{const x=w.collectionRef.current;if(!x)return[];const C=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((D,$)=>C.indexOf(D.ref.current)-C.indexOf($.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:u,ItemSlot:h},m,r]}var tD=S.createContext(void 0);function YL(n){const e=S.useContext(tD);return n||e||"ltr"}function nD(n,e=globalThis==null?void 0:globalThis.document){const t=tl(n);S.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var rD="DismissableLayer",A2="dismissableLayer.update",iD="dismissableLayer.pointerDownOutside",sD="dismissableLayer.focusOutside",Ax,JL=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Gw=S.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...u}=n,f=S.useContext(JL),[d,h]=S.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=S.useState({}),w=Oi(e,R=>h(R)),_=Array.from(f.layers),[x]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),C=_.indexOf(x),L=d?_.indexOf(d):-1,j=f.layersWithOutsidePointerEventsDisabled.size>0,D=L>=C,$=lD(R=>{const I=R.target,N=[...f.branches].some(W=>W.contains(I));!D||N||(i==null||i(R),o==null||o(R),R.defaultPrevented||a==null||a())},m),H=uD(R=>{const I=R.target;[...f.branches].some(W=>W.contains(I))||(s==null||s(R),o==null||o(R),R.defaultPrevented||a==null||a())},m);return nD(R=>{L===f.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&a&&(R.preventDefault(),a()))},m),S.useEffect(()=>{if(d)return t&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Ax=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(d)),f.layers.add(d),Lx(),()=>{t&&f.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Ax)}},[d,m,t,f]),S.useEffect(()=>()=>{d&&(f.layers.delete(d),f.layersWithOutsidePointerEventsDisabled.delete(d),Lx())},[d,f]),S.useEffect(()=>{const R=()=>g({});return document.addEventListener(A2,R),()=>document.removeEventListener(A2,R)},[]),F.jsx(Ur.div,{...u,ref:w,style:{pointerEvents:j?D?"auto":"none":void 0,...n.style},onFocusCapture:un(n.onFocusCapture,H.onFocusCapture),onBlurCapture:un(n.onBlurCapture,H.onBlurCapture),onPointerDownCapture:un(n.onPointerDownCapture,$.onPointerDownCapture)})});Gw.displayName=rD;var oD="DismissableLayerBranch",aD=S.forwardRef((n,e)=>{const t=S.useContext(JL),r=S.useRef(null),i=Oi(e,r);return S.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),F.jsx(Ur.div,{...n,ref:i})});aD.displayName=oD;function lD(n,e=globalThis==null?void 0:globalThis.document){const t=tl(n),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let u=function(){XL(iD,t,f,{discrete:!0})};const f={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function uD(n,e=globalThis==null?void 0:globalThis.document){const t=tl(n),r=S.useRef(!1);return S.useEffect(()=>{const i=s=>{s.target&&!r.current&&XL(sD,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Lx(){const n=new CustomEvent(A2);document.dispatchEvent(n)}function XL(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?GL(i,s):i.dispatchEvent(s)}var h1=0;function QL(){S.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??kx()),document.body.insertAdjacentElement("beforeend",n[1]??kx()),h1++,()=>{h1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),h1--}},[])}function kx(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var p1="focusScope.autoFocusOnMount",m1="focusScope.autoFocusOnUnmount",Px={bubbles:!1,cancelable:!0},cD="FocusScope",Kw=S.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=n,[a,u]=S.useState(null),f=tl(i),d=tl(s),h=S.useRef(null),m=Oi(e,_=>u(_)),g=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let _=function(j){if(g.paused||!a)return;const D=j.target;a.contains(D)?h.current=D:Ac(h.current,{select:!0})},x=function(j){if(g.paused||!a)return;const D=j.relatedTarget;D!==null&&(a.contains(D)||Ac(h.current,{select:!0}))},C=function(j){if(document.activeElement===document.body)for(const $ of j)$.removedNodes.length>0&&Ac(a)};document.addEventListener("focusin",_),document.addEventListener("focusout",x);const L=new MutationObserver(C);return a&&L.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",x),L.disconnect()}}},[r,a,g.paused]),S.useEffect(()=>{if(a){Ix.add(g);const _=document.activeElement;if(!a.contains(_)){const C=new CustomEvent(p1,Px);a.addEventListener(p1,f),a.dispatchEvent(C),C.defaultPrevented||(fD(gD(ZL(a)),{select:!0}),document.activeElement===_&&Ac(a))}return()=>{a.removeEventListener(p1,f),setTimeout(()=>{const C=new CustomEvent(m1,Px);a.addEventListener(m1,d),a.dispatchEvent(C),C.defaultPrevented||Ac(_??document.body,{select:!0}),a.removeEventListener(m1,d),Ix.remove(g)},0)}}},[a,f,d,g]);const w=S.useCallback(_=>{if(!t&&!r||g.paused)return;const x=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,C=document.activeElement;if(x&&C){const L=_.currentTarget,[j,D]=dD(L);j&&D?!_.shiftKey&&C===D?(_.preventDefault(),t&&Ac(j,{select:!0})):_.shiftKey&&C===j&&(_.preventDefault(),t&&Ac(D,{select:!0})):C===L&&_.preventDefault()}},[t,r,g.paused]);return F.jsx(Ur.div,{tabIndex:-1,...o,ref:m,onKeyDown:w})});Kw.displayName=cD;function fD(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Ac(r,{select:e}),document.activeElement!==t)return}function dD(n){const e=ZL(n),t=Tx(e,n),r=Tx(e.reverse(),n);return[t,r]}function ZL(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Tx(n,e){for(const t of n)if(!hD(t,{upTo:e}))return t}function hD(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function pD(n){return n instanceof HTMLInputElement&&"select"in n}function Ac(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&pD(n)&&e&&n.select()}}var Ix=mD();function mD(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=Nx(n,e),n.unshift(e)},remove(e){var t;n=Nx(n,e),(t=n[0])==null||t.resume()}}}function Nx(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function gD(n){return n.filter(e=>e.tagName!=="A")}var od=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},vD=fL.useId||(()=>{}),yD=0;function _h(n){const[e,t]=S.useState(vD());return od(()=>{t(r=>r??String(yD++))},[n]),e?`radix-${e}`:""}const wD=["top","right","bottom","left"],Gc=Math.min,jo=Math.max,kv=Math.round,Rg=Math.floor,Dl=n=>({x:n,y:n}),_D={left:"right",right:"left",bottom:"top",top:"bottom"},bD={start:"end",end:"start"};function L2(n,e,t){return jo(n,Gc(e,t))}function Pu(n,e){return typeof n=="function"?n(e):n}function Tu(n){return n.split("-")[0]}function Kh(n){return n.split("-")[1]}function Yw(n){return n==="x"?"y":"x"}function Jw(n){return n==="y"?"height":"width"}function Kc(n){return["top","bottom"].includes(Tu(n))?"y":"x"}function Xw(n){return Yw(Kc(n))}function xD(n,e,t){t===void 0&&(t=!1);const r=Kh(n),i=Xw(n),s=Jw(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Pv(o)),[o,Pv(o)]}function SD(n){const e=Pv(n);return[k2(n),e,k2(e)]}function k2(n){return n.replace(/start|end/g,e=>bD[e])}function ED(n,e,t){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function CD(n,e,t,r){const i=Kh(n);let s=ED(Tu(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(k2)))),s}function Pv(n){return n.replace(/left|right|bottom|top/g,e=>_D[e])}function AD(n){return{top:0,right:0,bottom:0,left:0,...n}}function ek(n){return typeof n!="number"?AD(n):{top:n,right:n,bottom:n,left:n}}function Tv(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function Rx(n,e,t){let{reference:r,floating:i}=n;const s=Kc(e),o=Xw(e),a=Jw(o),u=Tu(e),f=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,m=r[a]/2-i[a]/2;let g;switch(u){case"top":g={x:d,y:r.y-i.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-i.width,y:h};break;default:g={x:r.x,y:r.y}}switch(Kh(e)){case"start":g[o]-=m*(t&&f?-1:1);break;case"end":g[o]+=m*(t&&f?-1:1);break}return g}const LD=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let f=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:d,y:h}=Rx(f,r,u),m=r,g={},w=0;for(let _=0;_<a.length;_++){const{name:x,fn:C}=a[_],{x:L,y:j,data:D,reset:$}=await C({x:d,y:h,initialPlacement:r,placement:m,strategy:i,middlewareData:g,rects:f,platform:o,elements:{reference:n,floating:e}});d=L??d,h=j??h,g={...g,[x]:{...g[x],...D}},$&&w<=50&&(w++,typeof $=="object"&&($.placement&&(m=$.placement),$.rects&&(f=$.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):$.rects),{x:d,y:h}=Rx(f,m,u)),_=-1)}return{x:d,y:h,placement:m,strategy:i,middlewareData:g}};async function om(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:u}=n,{boundary:f="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:g=0}=Pu(e,n),w=ek(g),x=a[m?h==="floating"?"reference":"floating":h],C=Tv(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(x)))==null||t?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:f,rootBoundary:d,strategy:u})),L=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,j=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),D=await(s.isElement==null?void 0:s.isElement(j))?await(s.getScale==null?void 0:s.getScale(j))||{x:1,y:1}:{x:1,y:1},$=Tv(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:L,offsetParent:j,strategy:u}):L);return{top:(C.top-$.top+w.top)/D.y,bottom:($.bottom-C.bottom+w.bottom)/D.y,left:(C.left-$.left+w.left)/D.x,right:($.right-C.right+w.right)/D.x}}const kD=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:u}=e,{element:f,padding:d=0}=Pu(n,e)||{};if(f==null)return{};const h=ek(d),m={x:t,y:r},g=Xw(i),w=Jw(g),_=await o.getDimensions(f),x=g==="y",C=x?"top":"left",L=x?"bottom":"right",j=x?"clientHeight":"clientWidth",D=s.reference[w]+s.reference[g]-m[g]-s.floating[w],$=m[g]-s.reference[g],H=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f));let R=H?H[j]:0;(!R||!await(o.isElement==null?void 0:o.isElement(H)))&&(R=a.floating[j]||s.floating[w]);const I=D/2-$/2,N=R/2-_[w]/2-1,W=Gc(h[C],N),O=Gc(h[L],N),P=W,B=R-_[w]-O,Y=R/2-_[w]/2+I,ue=L2(P,Y,B),ae=!u.arrow&&Kh(i)!=null&&Y!==ue&&s.reference[w]/2-(Y<P?W:O)-_[w]/2<0,le=ae?Y<P?Y-P:Y-B:0;return{[g]:m[g]+le,data:{[g]:ue,centerOffset:Y-ue-le,...ae&&{alignmentOffset:le}},reset:ae}}}),PD=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:u,elements:f}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:_=!0,...x}=Pu(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const C=Tu(i),L=Kc(a),j=Tu(a)===a,D=await(u.isRTL==null?void 0:u.isRTL(f.floating)),$=m||(j||!_?[Pv(a)]:SD(a)),H=w!=="none";!m&&H&&$.push(...CD(a,_,w,D));const R=[a,...$],I=await om(e,x),N=[];let W=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&N.push(I[C]),h){const Y=xD(i,o,D);N.push(I[Y[0]],I[Y[1]])}if(W=[...W,{placement:i,overflows:N}],!N.every(Y=>Y<=0)){var O,P;const Y=(((O=s.flip)==null?void 0:O.index)||0)+1,ue=R[Y];if(ue)return{data:{index:Y,overflows:W},reset:{placement:ue}};let ae=(P=W.filter(le=>le.overflows[0]<=0).sort((le,te)=>le.overflows[1]-te.overflows[1])[0])==null?void 0:P.placement;if(!ae)switch(g){case"bestFit":{var B;const le=(B=W.filter(te=>{if(H){const ce=Kc(te.placement);return ce===L||ce==="y"}return!0}).map(te=>[te.placement,te.overflows.filter(ce=>ce>0).reduce((ce,fe)=>ce+fe,0)]).sort((te,ce)=>te[1]-ce[1])[0])==null?void 0:B[0];le&&(ae=le);break}case"initialPlacement":ae=a;break}if(i!==ae)return{reset:{placement:ae}}}return{}}}};function Ox(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Mx(n){return wD.some(e=>n[e]>=0)}const TD=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Pu(n,e);switch(r){case"referenceHidden":{const s=await om(e,{...i,elementContext:"reference"}),o=Ox(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Mx(o)}}}case"escaped":{const s=await om(e,{...i,altBoundary:!0}),o=Ox(s,t.floating);return{data:{escapedOffsets:o,escaped:Mx(o)}}}default:return{}}}}};async function ID(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Tu(t),a=Kh(t),u=Kc(t)==="y",f=["left","top"].includes(o)?-1:1,d=s&&u?-1:1,h=Pu(e,n);let{mainAxis:m,crossAxis:g,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof w=="number"&&(g=a==="end"?w*-1:w),u?{x:g*d,y:m*f}:{x:m*f,y:g*d}}const ND=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,u=await ID(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:o}}}}},RD=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:C,y:L}=x;return{x:C,y:L}}},...u}=Pu(n,e),f={x:t,y:r},d=await om(e,u),h=Kc(Tu(i)),m=Yw(h);let g=f[m],w=f[h];if(s){const x=m==="y"?"top":"left",C=m==="y"?"bottom":"right",L=g+d[x],j=g-d[C];g=L2(L,g,j)}if(o){const x=h==="y"?"top":"left",C=h==="y"?"bottom":"right",L=w+d[x],j=w-d[C];w=L2(L,w,j)}const _=a.fn({...e,[m]:g,[h]:w});return{..._,data:{x:_.x-t,y:_.y-r,enabled:{[m]:s,[h]:o}}}}}},OD=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:u=!0,crossAxis:f=!0}=Pu(n,e),d={x:t,y:r},h=Kc(i),m=Yw(h);let g=d[m],w=d[h];const _=Pu(a,e),x=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(u){const j=m==="y"?"height":"width",D=s.reference[m]-s.floating[j]+x.mainAxis,$=s.reference[m]+s.reference[j]-x.mainAxis;g<D?g=D:g>$&&(g=$)}if(f){var C,L;const j=m==="y"?"width":"height",D=["top","left"].includes(Tu(i)),$=s.reference[h]-s.floating[j]+(D&&((C=o.offset)==null?void 0:C[h])||0)+(D?0:x.crossAxis),H=s.reference[h]+s.reference[j]+(D?0:((L=o.offset)==null?void 0:L[h])||0)-(D?x.crossAxis:0);w<$?w=$:w>H&&(w=H)}return{[m]:g,[h]:w}}}},MD=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:u=()=>{},...f}=Pu(n,e),d=await om(e,f),h=Tu(i),m=Kh(i),g=Kc(i)==="y",{width:w,height:_}=s.floating;let x,C;h==="top"||h==="bottom"?(x=h,C=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(C=h,x=m==="end"?"top":"bottom");const L=_-d.top-d.bottom,j=w-d.left-d.right,D=Gc(_-d[x],L),$=Gc(w-d[C],j),H=!e.middlewareData.shift;let R=D,I=$;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(I=j),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(R=L),H&&!m){const W=jo(d.left,0),O=jo(d.right,0),P=jo(d.top,0),B=jo(d.bottom,0);g?I=w-2*(W!==0||O!==0?W+O:jo(d.left,d.right)):R=_-2*(P!==0||B!==0?P+B:jo(d.top,d.bottom))}await u({...e,availableWidth:I,availableHeight:R});const N=await o.getDimensions(a.floating);return w!==N.width||_!==N.height?{reset:{rects:!0}}:{}}}};function L0(){return typeof window<"u"}function Yh(n){return tk(n)?(n.nodeName||"").toLowerCase():"#document"}function zo(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Gl(n){var e;return(e=(tk(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function tk(n){return L0()?n instanceof Node||n instanceof zo(n).Node:!1}function nl(n){return L0()?n instanceof Element||n instanceof zo(n).Element:!1}function ql(n){return L0()?n instanceof HTMLElement||n instanceof zo(n).HTMLElement:!1}function Dx(n){return!L0()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof zo(n).ShadowRoot}function Mm(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=rl(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function DD(n){return["table","td","th"].includes(Yh(n))}function k0(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Qw(n){const e=Zw(),t=nl(n)?rl(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function jD(n){let e=Yc(n);for(;ql(e)&&!Rh(e);){if(Qw(e))return e;if(k0(e))return null;e=Yc(e)}return null}function Zw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Rh(n){return["html","body","#document"].includes(Yh(n))}function rl(n){return zo(n).getComputedStyle(n)}function P0(n){return nl(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Yc(n){if(Yh(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Dx(n)&&n.host||Gl(n);return Dx(e)?e.host:e}function nk(n){const e=Yc(n);return Rh(e)?n.ownerDocument?n.ownerDocument.body:n.body:ql(e)&&Mm(e)?e:nk(e)}function am(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=nk(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=zo(i);if(s){const a=P2(o);return e.concat(o,o.visualViewport||[],Mm(i)?i:[],a&&t?am(a):[])}return e.concat(i,am(i,[],t))}function P2(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function rk(n){const e=rl(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ql(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=kv(t)!==s||kv(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function e5(n){return nl(n)?n:n.contextElement}function bh(n){const e=e5(n);if(!ql(e))return Dl(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=rk(e);let o=(s?kv(t.width):t.width)/r,a=(s?kv(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const FD=Dl(0);function ik(n){const e=zo(n);return!Zw()||!e.visualViewport?FD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function BD(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==zo(n)?!1:e}function ad(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=e5(n);let o=Dl(1);e&&(r?nl(r)&&(o=bh(r)):o=bh(n));const a=BD(s,t,r)?ik(s):Dl(0);let u=(i.left+a.x)/o.x,f=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const m=zo(s),g=r&&nl(r)?zo(r):r;let w=m,_=P2(w);for(;_&&r&&g!==w;){const x=bh(_),C=_.getBoundingClientRect(),L=rl(_),j=C.left+(_.clientLeft+parseFloat(L.paddingLeft))*x.x,D=C.top+(_.clientTop+parseFloat(L.paddingTop))*x.y;u*=x.x,f*=x.y,d*=x.x,h*=x.y,u+=j,f+=D,w=zo(_),_=P2(w)}}return Tv({width:d,height:h,x:u,y:f})}function t5(n,e){const t=P0(n).scrollLeft;return e?e.left+t:ad(Gl(n)).left+t}function sk(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:t5(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function VD(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=Gl(r),a=e?k0(e.floating):!1;if(r===o||a&&s)return t;let u={scrollLeft:0,scrollTop:0},f=Dl(1);const d=Dl(0),h=ql(r);if((h||!h&&!s)&&((Yh(r)!=="body"||Mm(o))&&(u=P0(r)),ql(r))){const g=ad(r);f=bh(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const m=o&&!h&&!s?sk(o,u,!0):Dl(0);return{width:t.width*f.x,height:t.height*f.y,x:t.x*f.x-u.scrollLeft*f.x+d.x+m.x,y:t.y*f.y-u.scrollTop*f.y+d.y+m.y}}function UD(n){return Array.from(n.getClientRects())}function zD(n){const e=Gl(n),t=P0(n),r=n.ownerDocument.body,i=jo(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=jo(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+t5(n);const a=-t.scrollTop;return rl(r).direction==="rtl"&&(o+=jo(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function $D(n,e){const t=zo(n),r=Gl(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,u=0;if(i){s=i.width,o=i.height;const f=Zw();(!f||f&&e==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:a,y:u}}function qD(n,e){const t=ad(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=ql(n)?bh(n):Dl(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,u=i*s.x,f=r*s.y;return{width:o,height:a,x:u,y:f}}function jx(n,e,t){let r;if(e==="viewport")r=$D(n,t);else if(e==="document")r=zD(Gl(n));else if(nl(e))r=qD(e,t);else{const i=ik(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Tv(r)}function ok(n,e){const t=Yc(n);return t===e||!nl(t)||Rh(t)?!1:rl(t).position==="fixed"||ok(t,e)}function WD(n,e){const t=e.get(n);if(t)return t;let r=am(n,[],!1).filter(a=>nl(a)&&Yh(a)!=="body"),i=null;const s=rl(n).position==="fixed";let o=s?Yc(n):n;for(;nl(o)&&!Rh(o);){const a=rl(o),u=Qw(o);!u&&a.position==="fixed"&&(i=null),(s?!u&&!i:!u&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Mm(o)&&!u&&ok(n,o))?r=r.filter(d=>d!==o):i=a,o=Yc(o)}return e.set(n,r),r}function HD(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?k0(e)?[]:WD(e,this._c):[].concat(t),r],a=o[0],u=o.reduce((f,d)=>{const h=jx(e,d,i);return f.top=jo(h.top,f.top),f.right=Gc(h.right,f.right),f.bottom=Gc(h.bottom,f.bottom),f.left=jo(h.left,f.left),f},jx(e,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function GD(n){const{width:e,height:t}=rk(n);return{width:e,height:t}}function KD(n,e,t){const r=ql(e),i=Gl(e),s=t==="fixed",o=ad(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const u=Dl(0);if(r||!r&&!s)if((Yh(e)!=="body"||Mm(i))&&(a=P0(e)),r){const m=ad(e,!0,s,e);u.x=m.x+e.clientLeft,u.y=m.y+e.clientTop}else i&&(u.x=t5(i));const f=i&&!r&&!s?sk(i,a):Dl(0),d=o.left+a.scrollLeft-u.x-f.x,h=o.top+a.scrollTop-u.y-f.y;return{x:d,y:h,width:o.width,height:o.height}}function g1(n){return rl(n).position==="static"}function Fx(n,e){if(!ql(n)||rl(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Gl(n)===t&&(t=t.ownerDocument.body),t}function ak(n,e){const t=zo(n);if(k0(n))return t;if(!ql(n)){let i=Yc(n);for(;i&&!Rh(i);){if(nl(i)&&!g1(i))return i;i=Yc(i)}return t}let r=Fx(n,e);for(;r&&DD(r)&&g1(r);)r=Fx(r,e);return r&&Rh(r)&&g1(r)&&!Qw(r)?t:r||jD(n)||t}const YD=async function(n){const e=this.getOffsetParent||ak,t=this.getDimensions,r=await t(n.floating);return{reference:KD(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function JD(n){return rl(n).direction==="rtl"}const XD={convertOffsetParentRelativeRectToViewportRelativeRect:VD,getDocumentElement:Gl,getClippingRect:HD,getOffsetParent:ak,getElementRects:YD,getClientRects:UD,getDimensions:GD,getScale:bh,isElement:nl,isRTL:JD};function lk(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function QD(n,e){let t=null,r;const i=Gl(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),s();const f=n.getBoundingClientRect(),{left:d,top:h,width:m,height:g}=f;if(a||e(),!m||!g)return;const w=Rg(h),_=Rg(i.clientWidth-(d+m)),x=Rg(i.clientHeight-(h+g)),C=Rg(d),j={rootMargin:-w+"px "+-_+"px "+-x+"px "+-C+"px",threshold:jo(0,Gc(1,u))||1};let D=!0;function $(H){const R=H[0].intersectionRatio;if(R!==u){if(!D)return o();R?o(!1,R):r=setTimeout(()=>{o(!1,1e-7)},1e3)}R===1&&!lk(f,n.getBoundingClientRect())&&o(),D=!1}try{t=new IntersectionObserver($,{...j,root:i.ownerDocument})}catch{t=new IntersectionObserver($,j)}t.observe(n)}return o(!0),s}function ZD(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,f=e5(n),d=i||s?[...f?am(f):[],...am(e)]:[];d.forEach(C=>{i&&C.addEventListener("scroll",t,{passive:!0}),s&&C.addEventListener("resize",t)});const h=f&&a?QD(f,t):null;let m=-1,g=null;o&&(g=new ResizeObserver(C=>{let[L]=C;L&&L.target===f&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var j;(j=g)==null||j.observe(e)})),t()}),f&&!u&&g.observe(f),g.observe(e));let w,_=u?ad(n):null;u&&x();function x(){const C=ad(n);_&&!lk(_,C)&&t(),_=C,w=requestAnimationFrame(x)}return t(),()=>{var C;d.forEach(L=>{i&&L.removeEventListener("scroll",t),s&&L.removeEventListener("resize",t)}),h==null||h(),(C=g)==null||C.disconnect(),g=null,u&&cancelAnimationFrame(w)}}const ej=ND,tj=RD,nj=PD,rj=MD,ij=TD,Bx=kD,sj=OD,oj=(n,e,t)=>{const r=new Map,i={platform:XD,...t},s={...i.platform,_c:r};return LD(n,e,{...i,platform:s})};var iv=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Iv(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Iv(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!Iv(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function uk(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Vx(n,e){const t=uk(n);return Math.round(e*t)/t}function v1(n){const e=S.useRef(n);return iv(()=>{e.current=n}),e}function aj(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:u,open:f}=n,[d,h]=S.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=S.useState(r);Iv(m,r)||g(r);const[w,_]=S.useState(null),[x,C]=S.useState(null),L=S.useCallback(te=>{te!==H.current&&(H.current=te,_(te))},[]),j=S.useCallback(te=>{te!==R.current&&(R.current=te,C(te))},[]),D=s||w,$=o||x,H=S.useRef(null),R=S.useRef(null),I=S.useRef(d),N=u!=null,W=v1(u),O=v1(i),P=v1(f),B=S.useCallback(()=>{if(!H.current||!R.current)return;const te={placement:e,strategy:t,middleware:m};O.current&&(te.platform=O.current),oj(H.current,R.current,te).then(ce=>{const fe={...ce,isPositioned:P.current!==!1};Y.current&&!Iv(I.current,fe)&&(I.current=fe,ju.flushSync(()=>{h(fe)}))})},[m,e,t,O,P]);iv(()=>{f===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,h(te=>({...te,isPositioned:!1})))},[f]);const Y=S.useRef(!1);iv(()=>(Y.current=!0,()=>{Y.current=!1}),[]),iv(()=>{if(D&&(H.current=D),$&&(R.current=$),D&&$){if(W.current)return W.current(D,$,B);B()}},[D,$,B,W,N]);const ue=S.useMemo(()=>({reference:H,floating:R,setReference:L,setFloating:j}),[L,j]),ae=S.useMemo(()=>({reference:D,floating:$}),[D,$]),le=S.useMemo(()=>{const te={position:t,left:0,top:0};if(!ae.floating)return te;const ce=Vx(ae.floating,d.x),fe=Vx(ae.floating,d.y);return a?{...te,transform:"translate("+ce+"px, "+fe+"px)",...uk(ae.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ce,top:fe}},[t,a,ae.floating,d.x,d.y]);return S.useMemo(()=>({...d,update:B,refs:ue,elements:ae,floatingStyles:le}),[d,B,ue,ae,le])}const lj=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?Bx({element:r.current,padding:i}).fn(t):{}:r?Bx({element:r,padding:i}).fn(t):{}}}},uj=(n,e)=>({...ej(n),options:[n,e]}),cj=(n,e)=>({...tj(n),options:[n,e]}),fj=(n,e)=>({...sj(n),options:[n,e]}),dj=(n,e)=>({...nj(n),options:[n,e]}),hj=(n,e)=>({...rj(n),options:[n,e]}),pj=(n,e)=>({...ij(n),options:[n,e]}),mj=(n,e)=>({...lj(n),options:[n,e]});var gj="Arrow",ck=S.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return F.jsx(Ur.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:F.jsx("polygon",{points:"0,0 30,0 15,10"})})});ck.displayName=gj;var vj=ck;function fk(n){const[e,t]=S.useState(void 0);return od(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const u=s.borderBoxSize,f=Array.isArray(u)?u[0]:u;o=f.inlineSize,a=f.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var n5="Popper",[dk,hk]=xd(n5),[yj,pk]=dk(n5),mk=n=>{const{__scopePopper:e,children:t}=n,[r,i]=S.useState(null);return F.jsx(yj,{scope:e,anchor:r,onAnchorChange:i,children:t})};mk.displayName=n5;var gk="PopperAnchor",vk=S.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=pk(gk,t),o=S.useRef(null),a=Oi(e,o);return S.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:F.jsx(Ur.div,{...i,ref:a})});vk.displayName=gk;var r5="PopperContent",[wj,_j]=dk(r5),yk=S.forwardRef((n,e)=>{var ye,ve,we,Ie,Me,Be;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:u=!0,collisionBoundary:f=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:w,..._}=n,x=pk(r5,t),[C,L]=S.useState(null),j=Oi(e,We=>L(We)),[D,$]=S.useState(null),H=fk(D),R=(H==null?void 0:H.width)??0,I=(H==null?void 0:H.height)??0,N=r+(s!=="center"?"-"+s:""),W=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(f)?f:[f],P=O.length>0,B={padding:W,boundary:O.filter(xj),altBoundary:P},{refs:Y,floatingStyles:ue,placement:ae,isPositioned:le,middlewareData:te}=aj({strategy:"fixed",placement:N,whileElementsMounted:(...We)=>ZD(...We,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[uj({mainAxis:i+I,alignmentAxis:o}),u&&cj({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?fj():void 0,...B}),u&&dj({...B}),hj({...B,apply:({elements:We,rects:ft,availableWidth:Te,availableHeight:me})=>{const{width:St,height:vt}=ft.reference,Je=We.floating.style;Je.setProperty("--radix-popper-available-width",`${Te}px`),Je.setProperty("--radix-popper-available-height",`${me}px`),Je.setProperty("--radix-popper-anchor-width",`${St}px`),Je.setProperty("--radix-popper-anchor-height",`${vt}px`)}}),D&&mj({element:D,padding:a}),Sj({arrowWidth:R,arrowHeight:I}),m&&pj({strategy:"referenceHidden",...B})]}),[ce,fe]=bk(ae),ne=tl(w);od(()=>{le&&(ne==null||ne())},[le,ne]);const z=(ye=te.arrow)==null?void 0:ye.x,J=(ve=te.arrow)==null?void 0:ve.y,se=((we=te.arrow)==null?void 0:we.centerOffset)!==0,[Z,pe]=S.useState();return od(()=>{C&&pe(window.getComputedStyle(C).zIndex)},[C]),F.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...ue,transform:le?ue.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[(Ie=te.transformOrigin)==null?void 0:Ie.x,(Me=te.transformOrigin)==null?void 0:Me.y].join(" "),...((Be=te.hide)==null?void 0:Be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:F.jsx(wj,{scope:t,placedSide:ce,onArrowChange:$,arrowX:z,arrowY:J,shouldHideArrow:se,children:F.jsx(Ur.div,{"data-side":ce,"data-align":fe,..._,ref:j,style:{..._.style,animation:le?void 0:"none"}})})})});yk.displayName=r5;var wk="PopperArrow",bj={top:"bottom",right:"left",bottom:"top",left:"right"},_k=S.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=_j(wk,r),o=bj[s.placedSide];return F.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:F.jsx(vj,{...i,ref:t,style:{...i.style,display:"block"}})})});_k.displayName=wk;function xj(n){return n!==null}var Sj=n=>({name:"transformOrigin",options:n,fn(e){var x,C,L;const{placement:t,rects:r,middlewareData:i}=e,o=((x=i.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:n.arrowWidth,u=o?0:n.arrowHeight,[f,d]=bk(t),h={start:"0%",center:"50%",end:"100%"}[d],m=(((C=i.arrow)==null?void 0:C.x)??0)+a/2,g=(((L=i.arrow)==null?void 0:L.y)??0)+u/2;let w="",_="";return f==="bottom"?(w=o?h:`${m}px`,_=`${-u}px`):f==="top"?(w=o?h:`${m}px`,_=`${r.floating.height+u}px`):f==="right"?(w=`${-u}px`,_=o?h:`${g}px`):f==="left"&&(w=`${r.floating.width+u}px`,_=o?h:`${g}px`),{data:{x:w,y:_}}}});function bk(n){const[e,t="center"]=n.split("-");return[e,t]}var Ej=mk,Cj=vk,Aj=yk,Lj=_k,kj="Portal",i5=S.forwardRef((n,e)=>{var a;const{container:t,...r}=n,[i,s]=S.useState(!1);od(()=>s(!0),[]);const o=t||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?B6.createPortal(F.jsx(Ur.div,{...r,ref:e}),o):null});i5.displayName=kj;function Pj(n,e){return S.useReducer((t,r)=>e[t][r]??t,n)}var Fu=n=>{const{present:e,children:t}=n,r=Tj(e),i=typeof t=="function"?t({present:r.isPresent}):S.Children.only(t),s=Oi(r.ref,Ij(i));return typeof t=="function"||r.isPresent?S.cloneElement(i,{ref:s}):null};Fu.displayName="Presence";function Tj(n){const[e,t]=S.useState(),r=S.useRef({}),i=S.useRef(n),s=S.useRef("none"),o=n?"mounted":"unmounted",[a,u]=Pj(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const f=Og(r.current);s.current=a==="mounted"?f:"none"},[a]),od(()=>{const f=r.current,d=i.current;if(d!==n){const m=s.current,g=Og(f);n?u("MOUNT"):g==="none"||(f==null?void 0:f.display)==="none"?u("UNMOUNT"):u(d&&m!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,u]),od(()=>{if(e){let f;const d=e.ownerDocument.defaultView??window,h=g=>{const _=Og(r.current).includes(g.animationName);if(g.target===e&&_&&(u("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",f=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},m=g=>{g.target===e&&(s.current=Og(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(f),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:S.useCallback(f=>{f&&(r.current=getComputedStyle(f)),t(f)},[])}}function Og(n){return(n==null?void 0:n.animationName)||"none"}function Ij(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var y1="rovingFocusGroup.onEntryFocus",Nj={bubbles:!1,cancelable:!0},T0="RovingFocusGroup",[T2,xk,Rj]=KL(T0),[Oj,Sk]=xd(T0,[Rj]),[Mj,Dj]=Oj(T0),Ek=S.forwardRef((n,e)=>F.jsx(T2.Provider,{scope:n.__scopeRovingFocusGroup,children:F.jsx(T2.Slot,{scope:n.__scopeRovingFocusGroup,children:F.jsx(jj,{...n,ref:e})})}));Ek.displayName=T0;var jj=S.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:u,onEntryFocus:f,preventScrollOnEntryFocus:d=!1,...h}=n,m=S.useRef(null),g=Oi(e,m),w=YL(s),[_=null,x]=A0({prop:o,defaultProp:a,onChange:u}),[C,L]=S.useState(!1),j=tl(f),D=xk(t),$=S.useRef(!1),[H,R]=S.useState(0);return S.useEffect(()=>{const I=m.current;if(I)return I.addEventListener(y1,j),()=>I.removeEventListener(y1,j)},[j]),F.jsx(Mj,{scope:t,orientation:r,dir:w,loop:i,currentTabStopId:_,onItemFocus:S.useCallback(I=>x(I),[x]),onItemShiftTab:S.useCallback(()=>L(!0),[]),onFocusableItemAdd:S.useCallback(()=>R(I=>I+1),[]),onFocusableItemRemove:S.useCallback(()=>R(I=>I-1),[]),children:F.jsx(Ur.div,{tabIndex:C||H===0?-1:0,"data-orientation":r,...h,ref:g,style:{outline:"none",...n.style},onMouseDown:un(n.onMouseDown,()=>{$.current=!0}),onFocus:un(n.onFocus,I=>{const N=!$.current;if(I.target===I.currentTarget&&N&&!C){const W=new CustomEvent(y1,Nj);if(I.currentTarget.dispatchEvent(W),!W.defaultPrevented){const O=D().filter(ae=>ae.focusable),P=O.find(ae=>ae.active),B=O.find(ae=>ae.id===_),ue=[P,B,...O].filter(Boolean).map(ae=>ae.ref.current);Lk(ue,d)}}$.current=!1}),onBlur:un(n.onBlur,()=>L(!1))})})}),Ck="RovingFocusGroupItem",Ak=S.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:s,...o}=n,a=_h(),u=s||a,f=Dj(Ck,t),d=f.currentTabStopId===u,h=xk(t),{onFocusableItemAdd:m,onFocusableItemRemove:g}=f;return S.useEffect(()=>{if(r)return m(),()=>g()},[r,m,g]),F.jsx(T2.ItemSlot,{scope:t,id:u,focusable:r,active:i,children:F.jsx(Ur.span,{tabIndex:d?0:-1,"data-orientation":f.orientation,...o,ref:e,onMouseDown:un(n.onMouseDown,w=>{r?f.onItemFocus(u):w.preventDefault()}),onFocus:un(n.onFocus,()=>f.onItemFocus(u)),onKeyDown:un(n.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){f.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const _=Vj(w,f.orientation,f.dir);if(_!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let C=h().filter(L=>L.focusable).map(L=>L.ref.current);if(_==="last")C.reverse();else if(_==="prev"||_==="next"){_==="prev"&&C.reverse();const L=C.indexOf(w.currentTarget);C=f.loop?Uj(C,L+1):C.slice(L+1)}setTimeout(()=>Lk(C))}})})})});Ak.displayName=Ck;var Fj={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Bj(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function Vj(n,e,t){const r=Bj(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Fj[r]}function Lk(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function Uj(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var zj=Ek,$j=Ak,qj=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},eh=new WeakMap,Mg=new WeakMap,Dg={},w1=0,kk=function(n){return n&&(n.host||kk(n.parentNode))},Wj=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=kk(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},Hj=function(n,e,t,r){var i=Wj(e,Array.isArray(n)?n:[n]);Dg[t]||(Dg[t]=new WeakMap);var s=Dg[t],o=[],a=new Set,u=new Set(i),f=function(h){!h||a.has(h)||(a.add(h),f(h.parentNode))};i.forEach(f);var d=function(h){!h||u.has(h)||Array.prototype.forEach.call(h.children,function(m){if(a.has(m))d(m);else try{var g=m.getAttribute(r),w=g!==null&&g!=="false",_=(eh.get(m)||0)+1,x=(s.get(m)||0)+1;eh.set(m,_),s.set(m,x),o.push(m),_===1&&w&&Mg.set(m,!0),x===1&&m.setAttribute(t,"true"),w||m.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",m,C)}})};return d(e),a.clear(),w1++,function(){o.forEach(function(h){var m=eh.get(h)-1,g=s.get(h)-1;eh.set(h,m),s.set(h,g),m||(Mg.has(h)||h.removeAttribute(r),Mg.delete(h)),g||h.removeAttribute(t)}),w1--,w1||(eh=new WeakMap,eh=new WeakMap,Mg=new WeakMap,Dg={})}},Pk=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=qj(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Hj(r,i,t,"aria-hidden")):function(){return null}},Nl=function(){return Nl=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Nl.apply(this,arguments)};function Tk(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Gj(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var sv="right-scroll-bar-position",ov="width-before-scroll-bar",Kj="with-scroll-bars-hidden",Yj="--removed-body-scroll-bar-size";function _1(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function Jj(n,e){var t=S.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var Xj=typeof window<"u"?S.useLayoutEffect:S.useEffect,Ux=new WeakMap;function Qj(n,e){var t=Jj(null,function(r){return n.forEach(function(i){return _1(i,r)})});return Xj(function(){var r=Ux.get(t);if(r){var i=new Set(r),s=new Set(n),o=t.current;i.forEach(function(a){s.has(a)||_1(a,null)}),s.forEach(function(a){i.has(a)||_1(a,o)})}Ux.set(t,n)},[n]),t}function Zj(n){return n}function e8(n,e){e===void 0&&(e=Zj);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var o=e(s,r);return t.push(o),function(){t=t.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;t.length;){var o=t;t=[],o.forEach(s)}t={push:function(a){return s(a)},filter:function(){return t}}},assignMedium:function(s){r=!0;var o=[];if(t.length){var a=t;t=[],a.forEach(s),o=t}var u=function(){var d=o;o=[],d.forEach(s)},f=function(){return Promise.resolve().then(u)};f(),t={push:function(d){o.push(d),f()},filter:function(d){return o=o.filter(d),t}}}};return i}function t8(n){n===void 0&&(n={});var e=e8(null);return e.options=Nl({async:!0,ssr:!1},n),e}var Ik=function(n){var e=n.sideCar,t=Tk(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,Nl({},t))};Ik.isSideCarExport=!0;function n8(n,e){return n.useMedium(e),Ik}var Nk=t8(),b1=function(){},I0=S.forwardRef(function(n,e){var t=S.useRef(null),r=S.useState({onScrollCapture:b1,onWheelCapture:b1,onTouchMoveCapture:b1}),i=r[0],s=r[1],o=n.forwardProps,a=n.children,u=n.className,f=n.removeScrollBar,d=n.enabled,h=n.shards,m=n.sideCar,g=n.noIsolation,w=n.inert,_=n.allowPinchZoom,x=n.as,C=x===void 0?"div":x,L=n.gapMode,j=Tk(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=m,$=Qj([t,e]),H=Nl(Nl({},j),i);return S.createElement(S.Fragment,null,d&&S.createElement(D,{sideCar:Nk,removeScrollBar:f,shards:h,noIsolation:g,inert:w,setCallbacks:s,allowPinchZoom:!!_,lockRef:t,gapMode:L}),o?S.cloneElement(S.Children.only(a),Nl(Nl({},H),{ref:$})):S.createElement(C,Nl({},H,{className:u,ref:$}),a))});I0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};I0.classNames={fullWidth:ov,zeroRight:sv};var r8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function i8(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=r8();return e&&n.setAttribute("nonce",e),n}function s8(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function o8(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var a8=function(){var n=0,e=null;return{add:function(t){n==0&&(e=i8())&&(s8(e,t),o8(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},l8=function(){var n=a8();return function(e,t){S.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},Rk=function(){var n=l8(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},u8={left:0,top:0,right:0,gap:0},x1=function(n){return parseInt(n||"",10)||0},c8=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[x1(t),x1(r),x1(i)]},f8=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return u8;var e=c8(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},d8=Rk(),xh="data-scroll-locked",h8=function(n,e,t,r){var i=n.left,s=n.top,o=n.right,a=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(Kj,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(xh,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sv,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ov,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(sv," .").concat(sv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ov," .").concat(ov,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(xh,`] {
    `).concat(Yj,": ").concat(a,`px;
  }
`)},zx=function(){var n=parseInt(document.body.getAttribute(xh)||"0",10);return isFinite(n)?n:0},p8=function(){S.useEffect(function(){return document.body.setAttribute(xh,(zx()+1).toString()),function(){var n=zx()-1;n<=0?document.body.removeAttribute(xh):document.body.setAttribute(xh,n.toString())}},[])},m8=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;p8();var s=S.useMemo(function(){return f8(i)},[i]);return S.createElement(d8,{styles:h8(s,!e,i,t?"":"!important")})},I2=!1;if(typeof window<"u")try{var jg=Object.defineProperty({},"passive",{get:function(){return I2=!0,!0}});window.addEventListener("test",jg,jg),window.removeEventListener("test",jg,jg)}catch{I2=!1}var th=I2?{passive:!1}:!1,g8=function(n){return n.tagName==="TEXTAREA"},Ok=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!g8(n)&&t[e]==="visible")},v8=function(n){return Ok(n,"overflowY")},y8=function(n){return Ok(n,"overflowX")},$x=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Mk(n,r);if(i){var s=Dk(n,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},w8=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},_8=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},Mk=function(n,e){return n==="v"?v8(e):y8(e)},Dk=function(n,e){return n==="v"?w8(e):_8(e)},b8=function(n,e){return n==="h"&&e==="rtl"?-1:1},x8=function(n,e,t,r,i){var s=b8(n,window.getComputedStyle(e).direction),o=s*r,a=t.target,u=e.contains(a),f=!1,d=o>0,h=0,m=0;do{var g=Dk(n,a),w=g[0],_=g[1],x=g[2],C=_-x-s*w;(w||C)&&Mk(n,a)&&(h+=C,m+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!u&&a!==document.body||u&&(e.contains(a)||e===a));return(d&&Math.abs(h)<1||!d&&Math.abs(m)<1)&&(f=!0),f},Fg=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},qx=function(n){return[n.deltaX,n.deltaY]},Wx=function(n){return n&&"current"in n?n.current:n},S8=function(n,e){return n[0]===e[0]&&n[1]===e[1]},E8=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},C8=0,nh=[];function A8(n){var e=S.useRef([]),t=S.useRef([0,0]),r=S.useRef(),i=S.useState(C8++)[0],s=S.useState(Rk)[0],o=S.useRef(n);S.useEffect(function(){o.current=n},[n]),S.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var _=Gj([n.lockRef.current],(n.shards||[]).map(Wx),!0).filter(Boolean);return _.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var a=S.useCallback(function(_,x){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var C=Fg(_),L=t.current,j="deltaX"in _?_.deltaX:L[0]-C[0],D="deltaY"in _?_.deltaY:L[1]-C[1],$,H=_.target,R=Math.abs(j)>Math.abs(D)?"h":"v";if("touches"in _&&R==="h"&&H.type==="range")return!1;var I=$x(R,H);if(!I)return!0;if(I?$=R:($=R==="v"?"h":"v",I=$x(R,H)),!I)return!1;if(!r.current&&"changedTouches"in _&&(j||D)&&(r.current=$),!$)return!0;var N=r.current||$;return x8(N,x,_,N==="h"?j:D)},[]),u=S.useCallback(function(_){var x=_;if(!(!nh.length||nh[nh.length-1]!==s)){var C="deltaY"in x?qx(x):Fg(x),L=e.current.filter(function($){return $.name===x.type&&($.target===x.target||x.target===$.shadowParent)&&S8($.delta,C)})[0];if(L&&L.should){x.cancelable&&x.preventDefault();return}if(!L){var j=(o.current.shards||[]).map(Wx).filter(Boolean).filter(function($){return $.contains(x.target)}),D=j.length>0?a(x,j[0]):!o.current.noIsolation;D&&x.cancelable&&x.preventDefault()}}},[]),f=S.useCallback(function(_,x,C,L){var j={name:_,delta:x,target:C,should:L,shadowParent:L8(C)};e.current.push(j),setTimeout(function(){e.current=e.current.filter(function(D){return D!==j})},1)},[]),d=S.useCallback(function(_){t.current=Fg(_),r.current=void 0},[]),h=S.useCallback(function(_){f(_.type,qx(_),_.target,a(_,n.lockRef.current))},[]),m=S.useCallback(function(_){f(_.type,Fg(_),_.target,a(_,n.lockRef.current))},[]);S.useEffect(function(){return nh.push(s),n.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",u,th),document.addEventListener("touchmove",u,th),document.addEventListener("touchstart",d,th),function(){nh=nh.filter(function(_){return _!==s}),document.removeEventListener("wheel",u,th),document.removeEventListener("touchmove",u,th),document.removeEventListener("touchstart",d,th)}},[]);var g=n.removeScrollBar,w=n.inert;return S.createElement(S.Fragment,null,w?S.createElement(s,{styles:E8(i)}):null,g?S.createElement(m8,{gapMode:n.gapMode}):null)}function L8(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const k8=n8(Nk,A8);var s5=S.forwardRef(function(n,e){return S.createElement(I0,Nl({},n,{ref:e,sideCar:k8}))});s5.classNames=I0.classNames;var N2=["Enter"," "],P8=["ArrowDown","PageUp","Home"],jk=["ArrowUp","PageDown","End"],T8=[...P8,...jk],I8={ltr:[...N2,"ArrowRight"],rtl:[...N2,"ArrowLeft"]},N8={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Dm="Menu",[lm,R8,O8]=KL(Dm),[Sd,Fk]=xd(Dm,[O8,hk,Sk]),N0=hk(),Bk=Sk(),[M8,Ed]=Sd(Dm),[D8,jm]=Sd(Dm),Vk=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=n,a=N0(e),[u,f]=S.useState(null),d=S.useRef(!1),h=tl(s),m=YL(i);return S.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),F.jsx(Ej,{...a,children:F.jsx(M8,{scope:e,open:t,onOpenChange:h,content:u,onContentChange:f,children:F.jsx(D8,{scope:e,onClose:S.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:m,modal:o,children:r})})})};Vk.displayName=Dm;var j8="MenuAnchor",o5=S.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=N0(t);return F.jsx(Cj,{...i,...r,ref:e})});o5.displayName=j8;var a5="MenuPortal",[F8,Uk]=Sd(a5,{forceMount:void 0}),zk=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:i}=n,s=Ed(a5,e);return F.jsx(F8,{scope:e,forceMount:t,children:F.jsx(Fu,{present:t||s.open,children:F.jsx(i5,{asChild:!0,container:i,children:r})})})};zk.displayName=a5;var ba="MenuContent",[B8,l5]=Sd(ba),$k=S.forwardRef((n,e)=>{const t=Uk(ba,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,s=Ed(ba,n.__scopeMenu),o=jm(ba,n.__scopeMenu);return F.jsx(lm.Provider,{scope:n.__scopeMenu,children:F.jsx(Fu,{present:r||s.open,children:F.jsx(lm.Slot,{scope:n.__scopeMenu,children:o.modal?F.jsx(V8,{...i,ref:e}):F.jsx(U8,{...i,ref:e})})})})}),V8=S.forwardRef((n,e)=>{const t=Ed(ba,n.__scopeMenu),r=S.useRef(null),i=Oi(e,r);return S.useEffect(()=>{const s=r.current;if(s)return Pk(s)},[]),F.jsx(u5,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:un(n.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),U8=S.forwardRef((n,e)=>{const t=Ed(ba,n.__scopeMenu);return F.jsx(u5,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),u5=S.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:u,onEscapeKeyDown:f,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:g,disableOutsideScroll:w,..._}=n,x=Ed(ba,t),C=jm(ba,t),L=N0(t),j=Bk(t),D=R8(t),[$,H]=S.useState(null),R=S.useRef(null),I=Oi(e,R,x.onContentChange),N=S.useRef(0),W=S.useRef(""),O=S.useRef(0),P=S.useRef(null),B=S.useRef("right"),Y=S.useRef(0),ue=w?s5:S.Fragment,ae=w?{as:sd,allowPinchZoom:!0}:void 0,le=ce=>{var ye,ve;const fe=W.current+ce,ne=D().filter(we=>!we.disabled),z=document.activeElement,J=(ye=ne.find(we=>we.ref.current===z))==null?void 0:ye.textValue,se=ne.map(we=>we.textValue),Z=Z8(se,fe,J),pe=(ve=ne.find(we=>we.textValue===Z))==null?void 0:ve.ref.current;(function we(Ie){W.current=Ie,window.clearTimeout(N.current),Ie!==""&&(N.current=window.setTimeout(()=>we(""),1e3))})(fe),pe&&setTimeout(()=>pe.focus())};S.useEffect(()=>()=>window.clearTimeout(N.current),[]),QL();const te=S.useCallback(ce=>{var ne,z;return B.current===((ne=P.current)==null?void 0:ne.side)&&t7(ce,(z=P.current)==null?void 0:z.area)},[]);return F.jsx(B8,{scope:t,searchRef:W,onItemEnter:S.useCallback(ce=>{te(ce)&&ce.preventDefault()},[te]),onItemLeave:S.useCallback(ce=>{var fe;te(ce)||((fe=R.current)==null||fe.focus(),H(null))},[te]),onTriggerLeave:S.useCallback(ce=>{te(ce)&&ce.preventDefault()},[te]),pointerGraceTimerRef:O,onPointerGraceIntentChange:S.useCallback(ce=>{P.current=ce},[]),children:F.jsx(ue,{...ae,children:F.jsx(Kw,{asChild:!0,trapped:i,onMountAutoFocus:un(s,ce=>{var fe;ce.preventDefault(),(fe=R.current)==null||fe.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:F.jsx(Gw,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:f,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:g,children:F.jsx(zj,{asChild:!0,...j,dir:C.dir,orientation:"vertical",loop:r,currentTabStopId:$,onCurrentTabStopIdChange:H,onEntryFocus:un(u,ce=>{C.isUsingKeyboardRef.current||ce.preventDefault()}),preventScrollOnEntryFocus:!0,children:F.jsx(Aj,{role:"menu","aria-orientation":"vertical","data-state":sP(x.open),"data-radix-menu-content":"",dir:C.dir,...L,..._,ref:I,style:{outline:"none",..._.style},onKeyDown:un(_.onKeyDown,ce=>{const ne=ce.target.closest("[data-radix-menu-content]")===ce.currentTarget,z=ce.ctrlKey||ce.altKey||ce.metaKey,J=ce.key.length===1;ne&&(ce.key==="Tab"&&ce.preventDefault(),!z&&J&&le(ce.key));const se=R.current;if(ce.target!==se||!T8.includes(ce.key))return;ce.preventDefault();const pe=D().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);jk.includes(ce.key)&&pe.reverse(),X8(pe)}),onBlur:un(n.onBlur,ce=>{ce.currentTarget.contains(ce.target)||(window.clearTimeout(N.current),W.current="")}),onPointerMove:un(n.onPointerMove,um(ce=>{const fe=ce.target,ne=Y.current!==ce.clientX;if(ce.currentTarget.contains(fe)&&ne){const z=ce.clientX>Y.current?"right":"left";B.current=z,Y.current=ce.clientX}}))})})})})})})});$k.displayName=ba;var z8="MenuGroup",c5=S.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return F.jsx(Ur.div,{role:"group",...r,ref:e})});c5.displayName=z8;var $8="MenuLabel",qk=S.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return F.jsx(Ur.div,{...r,ref:e})});qk.displayName=$8;var Nv="MenuItem",Hx="menu.itemSelect",R0=S.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...i}=n,s=S.useRef(null),o=jm(Nv,n.__scopeMenu),a=l5(Nv,n.__scopeMenu),u=Oi(e,s),f=S.useRef(!1),d=()=>{const h=s.current;if(!t&&h){const m=new CustomEvent(Hx,{bubbles:!0,cancelable:!0});h.addEventListener(Hx,g=>r==null?void 0:r(g),{once:!0}),GL(h,m),m.defaultPrevented?f.current=!1:o.onClose()}};return F.jsx(Wk,{...i,ref:u,disabled:t,onClick:un(n.onClick,d),onPointerDown:h=>{var m;(m=n.onPointerDown)==null||m.call(n,h),f.current=!0},onPointerUp:un(n.onPointerUp,h=>{var m;f.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:un(n.onKeyDown,h=>{const m=a.searchRef.current!=="";t||m&&h.key===" "||N2.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});R0.displayName=Nv;var Wk=S.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:i,...s}=n,o=l5(Nv,t),a=Bk(t),u=S.useRef(null),f=Oi(e,u),[d,h]=S.useState(!1),[m,g]=S.useState("");return S.useEffect(()=>{const w=u.current;w&&g((w.textContent??"").trim())},[s.children]),F.jsx(lm.ItemSlot,{scope:t,disabled:r,textValue:i??m,children:F.jsx($j,{asChild:!0,...a,focusable:!r,children:F.jsx(Ur.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:f,onPointerMove:un(n.onPointerMove,um(w=>{r?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:un(n.onPointerLeave,um(w=>o.onItemLeave(w))),onFocus:un(n.onFocus,()=>h(!0)),onBlur:un(n.onBlur,()=>h(!1))})})})}),q8="MenuCheckboxItem",Hk=S.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...i}=n;return F.jsx(Xk,{scope:n.__scopeMenu,checked:t,children:F.jsx(R0,{role:"menuitemcheckbox","aria-checked":Rv(t)?"mixed":t,...i,ref:e,"data-state":d5(t),onSelect:un(i.onSelect,()=>r==null?void 0:r(Rv(t)?!0:!t),{checkForDefaultPrevented:!1})})})});Hk.displayName=q8;var Gk="MenuRadioGroup",[W8,H8]=Sd(Gk,{value:void 0,onValueChange:()=>{}}),Kk=S.forwardRef((n,e)=>{const{value:t,onValueChange:r,...i}=n,s=tl(r);return F.jsx(W8,{scope:n.__scopeMenu,value:t,onValueChange:s,children:F.jsx(c5,{...i,ref:e})})});Kk.displayName=Gk;var Yk="MenuRadioItem",Jk=S.forwardRef((n,e)=>{const{value:t,...r}=n,i=H8(Yk,n.__scopeMenu),s=t===i.value;return F.jsx(Xk,{scope:n.__scopeMenu,checked:s,children:F.jsx(R0,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":d5(s),onSelect:un(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,t)},{checkForDefaultPrevented:!1})})})});Jk.displayName=Yk;var f5="MenuItemIndicator",[Xk,G8]=Sd(f5,{checked:!1}),Qk=S.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...i}=n,s=G8(f5,t);return F.jsx(Fu,{present:r||Rv(s.checked)||s.checked===!0,children:F.jsx(Ur.span,{...i,ref:e,"data-state":d5(s.checked)})})});Qk.displayName=f5;var K8="MenuSeparator",Zk=S.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return F.jsx(Ur.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});Zk.displayName=K8;var Y8="MenuArrow",eP=S.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=N0(t);return F.jsx(Lj,{...i,...r,ref:e})});eP.displayName=Y8;var J8="MenuSub",[uZ,tP]=Sd(J8),Mp="MenuSubTrigger",nP=S.forwardRef((n,e)=>{const t=Ed(Mp,n.__scopeMenu),r=jm(Mp,n.__scopeMenu),i=tP(Mp,n.__scopeMenu),s=l5(Mp,n.__scopeMenu),o=S.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:u}=s,f={__scopeMenu:n.__scopeMenu},d=S.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return S.useEffect(()=>d,[d]),S.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),u(null)}},[a,u]),F.jsx(o5,{asChild:!0,...f,children:F.jsx(Wk,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":i.contentId,"data-state":sP(t.open),...n,ref:C0(e,i.onTriggerChange),onClick:h=>{var m;(m=n.onClick)==null||m.call(n,h),!(n.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:un(n.onPointerMove,um(h=>{s.onItemEnter(h),!h.defaultPrevented&&!n.disabled&&!t.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{t.onOpenChange(!0),d()},100))})),onPointerLeave:un(n.onPointerLeave,um(h=>{var g,w;d();const m=(g=t.content)==null?void 0:g.getBoundingClientRect();if(m){const _=(w=t.content)==null?void 0:w.dataset.side,x=_==="right",C=x?-5:5,L=m[x?"left":"right"],j=m[x?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+C,y:h.clientY},{x:L,y:m.top},{x:j,y:m.top},{x:j,y:m.bottom},{x:L,y:m.bottom}],side:_}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:un(n.onKeyDown,h=>{var g;const m=s.searchRef.current!=="";n.disabled||m&&h.key===" "||I8[r.dir].includes(h.key)&&(t.onOpenChange(!0),(g=t.content)==null||g.focus(),h.preventDefault())})})})});nP.displayName=Mp;var rP="MenuSubContent",iP=S.forwardRef((n,e)=>{const t=Uk(ba,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,s=Ed(ba,n.__scopeMenu),o=jm(ba,n.__scopeMenu),a=tP(rP,n.__scopeMenu),u=S.useRef(null),f=Oi(e,u);return F.jsx(lm.Provider,{scope:n.__scopeMenu,children:F.jsx(Fu,{present:r||s.open,children:F.jsx(lm.Slot,{scope:n.__scopeMenu,children:F.jsx(u5,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:f,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=u.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:un(n.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:un(n.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:un(n.onKeyDown,d=>{var g;const h=d.currentTarget.contains(d.target),m=N8[o.dir].includes(d.key);h&&m&&(s.onOpenChange(!1),(g=a.trigger)==null||g.focus(),d.preventDefault())})})})})})});iP.displayName=rP;function sP(n){return n?"open":"closed"}function Rv(n){return n==="indeterminate"}function d5(n){return Rv(n)?"indeterminate":n?"checked":"unchecked"}function X8(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function Q8(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function Z8(n,e,t){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let o=Q8(n,Math.max(s,0));i.length===1&&(o=o.filter(f=>f!==t));const u=o.find(f=>f.toLowerCase().startsWith(i.toLowerCase()));return u!==t?u:void 0}function e7(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,u=e[s].y,f=e[o].x,d=e[o].y;u>r!=d>r&&t<(f-a)*(r-u)/(d-u)+a&&(i=!i)}return i}function t7(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return e7(t,e)}function um(n){return e=>e.pointerType==="mouse"?n(e):void 0}var n7=Vk,r7=o5,i7=zk,s7=$k,o7=c5,a7=qk,l7=R0,u7=Hk,c7=Kk,f7=Jk,d7=Qk,h7=Zk,p7=eP,m7=nP,g7=iP,h5="DropdownMenu",[v7,cZ]=xd(h5,[Fk]),Vs=Fk(),[y7,oP]=v7(h5),aP=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=n,u=Vs(e),f=S.useRef(null),[d=!1,h]=A0({prop:i,defaultProp:s,onChange:o});return F.jsx(y7,{scope:e,triggerId:_h(),triggerRef:f,contentId:_h(),open:d,onOpenChange:h,onOpenToggle:S.useCallback(()=>h(m=>!m),[h]),modal:a,children:F.jsx(n7,{...u,open:d,onOpenChange:h,dir:r,modal:a,children:t})})};aP.displayName=h5;var lP="DropdownMenuTrigger",uP=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...i}=n,s=oP(lP,t),o=Vs(t);return F.jsx(r7,{asChild:!0,...o,children:F.jsx(Ur.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:C0(e,s.triggerRef),onPointerDown:un(n.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:un(n.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});uP.displayName=lP;var w7="DropdownMenuPortal",cP=n=>{const{__scopeDropdownMenu:e,...t}=n,r=Vs(e);return F.jsx(i7,{...r,...t})};cP.displayName=w7;var fP="DropdownMenuContent",dP=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=oP(fP,t),s=Vs(t),o=S.useRef(!1);return F.jsx(s7,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:un(n.onCloseAutoFocus,a=>{var u;o.current||(u=i.triggerRef.current)==null||u.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:un(n.onInteractOutside,a=>{const u=a.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,d=u.button===2||f;(!i.modal||d)&&(o.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});dP.displayName=fP;var _7="DropdownMenuGroup",b7=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Vs(t);return F.jsx(o7,{...i,...r,ref:e})});b7.displayName=_7;var x7="DropdownMenuLabel",hP=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Vs(t);return F.jsx(a7,{...i,...r,ref:e})});hP.displayName=x7;var S7="DropdownMenuItem",pP=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Vs(t);return F.jsx(l7,{...i,...r,ref:e})});pP.displayName=S7;var E7="DropdownMenuCheckboxItem",mP=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Vs(t);return F.jsx(u7,{...i,...r,ref:e})});mP.displayName=E7;var C7="DropdownMenuRadioGroup",A7=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Vs(t);return F.jsx(c7,{...i,...r,ref:e})});A7.displayName=C7;var L7="DropdownMenuRadioItem",gP=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Vs(t);return F.jsx(f7,{...i,...r,ref:e})});gP.displayName=L7;var k7="DropdownMenuItemIndicator",vP=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Vs(t);return F.jsx(d7,{...i,...r,ref:e})});vP.displayName=k7;var P7="DropdownMenuSeparator",yP=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Vs(t);return F.jsx(h7,{...i,...r,ref:e})});yP.displayName=P7;var T7="DropdownMenuArrow",I7=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Vs(t);return F.jsx(p7,{...i,...r,ref:e})});I7.displayName=T7;var N7="DropdownMenuSubTrigger",wP=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Vs(t);return F.jsx(m7,{...i,...r,ref:e})});wP.displayName=N7;var R7="DropdownMenuSubContent",_P=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Vs(t);return F.jsx(g7,{...i,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_P.displayName=R7;var O7=aP,M7=uP,D7=cP,bP=dP,xP=hP,SP=pP,EP=mP,CP=gP,AP=vP,LP=yP,kP=wP,PP=_P;/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),TP=(...n)=>n.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ");/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var F7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=S.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},u)=>S.createElement("svg",{ref:u,...F7,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:TP("lucide",i),...a},[...o.map(([f,d])=>S.createElement(f,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=(n,e)=>{const t=S.forwardRef(({className:r,...i},s)=>S.createElement(B7,{ref:s,iconNode:e,className:TP(`lucide-${j7(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=Qr("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=Qr("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=Qr("BusFront",[["path",{d:"M4 6 2 7",key:"1mqr15"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"m22 7-2-1",key:"1umjhc"}],["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M16 15h.01",key:"rnfrdf"}],["path",{d:"M6 19v2",key:"1loha6"}],["path",{d:"M18 21v-2",key:"sqyl04"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=Qr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=Qr("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=Qr("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=Qr("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=Qr("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=Qr("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=Qr("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=Qr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=Qr("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=Qr("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=Qr("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=Qr("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=Qr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=Qr("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=Qr("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=Qr("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=Qr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=Qr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);function MP(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=MP(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function DP(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=MP(n))&&(r&&(r+=" "),r+=e);return r}const p5="-",nF=n=>{const e=iF(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:o=>{const a=o.split(p5);return a[0]===""&&a.length!==1&&a.shift(),jP(a,e)||rF(o)},getConflictingClassGroupIds:(o,a)=>{const u=t[o]||[];return a&&r[o]?[...u,...r[o]]:u}}},jP=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?jP(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=n.join(p5);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},Kx=/^\[(.+)\]$/,rF=n=>{if(Kx.test(n)){const e=Kx.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},iF=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return oF(Object.entries(n.classGroups),t).forEach(([s,o])=>{R2(o,r,s,e)}),r},R2=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Yx(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(sF(i)){R2(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([s,o])=>{R2(o,Yx(e,s),t,r)})})},Yx=(n,e)=>{let t=n;return e.split(p5).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},sF=n=>n.isThemeGetter,oF=(n,e)=>e?n.map(([t,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[t,i]}):n,aF=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(s,o)=>{t.set(s,o),e++,e>n&&(e=0,r=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){t.has(s)?t.set(s,o):i(s,o)}}},FP="!",lF=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],s=e.length,o=a=>{const u=[];let f=0,d=0,h;for(let x=0;x<a.length;x++){let C=a[x];if(f===0){if(C===i&&(r||a.slice(x,x+s)===e)){u.push(a.slice(d,x)),d=x+s;continue}if(C==="/"){h=x;continue}}C==="["?f++:C==="]"&&f--}const m=u.length===0?a:a.substring(d),g=m.startsWith(FP),w=g?m.substring(1):m,_=h&&h>d?h-d:void 0;return{modifiers:u,hasImportantModifier:g,baseClassName:w,maybePostfixModifierPosition:_}};return t?a=>t({className:a,parseClassName:o}):o},uF=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},cF=n=>({cache:aF(n.cacheSize),parseClassName:lF(n),...nF(n)}),fF=/\s+/,dF=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=n.trim().split(fF);let a="";for(let u=o.length-1;u>=0;u-=1){const f=o[u],{modifiers:d,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:g}=t(f);let w=!!g,_=r(w?m.substring(0,g):m);if(!_){if(!w){a=f+(a.length>0?" "+a:a);continue}if(_=r(m),!_){a=f+(a.length>0?" "+a:a);continue}w=!1}const x=uF(d).join(":"),C=h?x+FP:x,L=C+_;if(s.includes(L))continue;s.push(L);const j=i(_,w);for(let D=0;D<j.length;++D){const $=j[D];s.push(C+$)}a=f+(a.length>0?" "+a:a)}return a};function hF(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=BP(e))&&(r&&(r+=" "),r+=t);return r}const BP=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=BP(n[r]))&&(t&&(t+=" "),t+=e);return t};function pF(n,...e){let t,r,i,s=o;function o(u){const f=e.reduce((d,h)=>h(d),n());return t=cF(f),r=t.cache.get,i=t.cache.set,s=a,a(u)}function a(u){const f=r(u);if(f)return f;const d=dF(u,t);return i(u,d),d}return function(){return s(hF.apply(null,arguments))}}const gr=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},VP=/^\[(?:([a-z-]+):)?(.+)\]$/i,mF=/^\d+\/\d+$/,gF=new Set(["px","full","screen"]),vF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_F=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bu=n=>Sh(n)||gF.has(n)||mF.test(n),bc=n=>Jh(n,"length",PF),Sh=n=>!!n&&!Number.isNaN(Number(n)),S1=n=>Jh(n,"number",Sh),Ep=n=>!!n&&Number.isInteger(Number(n)),xF=n=>n.endsWith("%")&&Sh(n.slice(0,-1)),ln=n=>VP.test(n),xc=n=>vF.test(n),SF=new Set(["length","size","percentage"]),EF=n=>Jh(n,SF,UP),CF=n=>Jh(n,"position",UP),AF=new Set(["image","url"]),LF=n=>Jh(n,AF,IF),kF=n=>Jh(n,"",TF),Cp=()=>!0,Jh=(n,e,t)=>{const r=VP.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},PF=n=>yF.test(n)&&!wF.test(n),UP=()=>!1,TF=n=>_F.test(n),IF=n=>bF.test(n),NF=()=>{const n=gr("colors"),e=gr("spacing"),t=gr("blur"),r=gr("brightness"),i=gr("borderColor"),s=gr("borderRadius"),o=gr("borderSpacing"),a=gr("borderWidth"),u=gr("contrast"),f=gr("grayscale"),d=gr("hueRotate"),h=gr("invert"),m=gr("gap"),g=gr("gradientColorStops"),w=gr("gradientColorStopPositions"),_=gr("inset"),x=gr("margin"),C=gr("opacity"),L=gr("padding"),j=gr("saturate"),D=gr("scale"),$=gr("sepia"),H=gr("skew"),R=gr("space"),I=gr("translate"),N=()=>["auto","contain","none"],W=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",ln,e],P=()=>[ln,e],B=()=>["",bu,bc],Y=()=>["auto",Sh,ln],ue=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ae=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>["start","end","center","between","around","evenly","stretch"],ce=()=>["","0",ln],fe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[Sh,ln];return{cacheSize:500,separator:":",theme:{colors:[Cp],spacing:[bu,bc],blur:["none","",xc,ln],brightness:ne(),borderColor:[n],borderRadius:["none","","full",xc,ln],borderSpacing:P(),borderWidth:B(),contrast:ne(),grayscale:ce(),hueRotate:ne(),invert:ce(),gap:P(),gradientColorStops:[n],gradientColorStopPositions:[xF,bc],inset:O(),margin:O(),opacity:ne(),padding:P(),saturate:ne(),scale:ne(),sepia:ce(),skew:ne(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",ln]}],container:["container"],columns:[{columns:[xc]}],"break-after":[{"break-after":fe()}],"break-before":[{"break-before":fe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ue(),ln]}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ep,ln]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ln]}],grow:[{grow:ce()}],shrink:[{shrink:ce()}],order:[{order:["first","last","none",Ep,ln]}],"grid-cols":[{"grid-cols":[Cp]}],"col-start-end":[{col:["auto",{span:["full",Ep,ln]},ln]}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":[Cp]}],"row-start-end":[{row:["auto",{span:[Ep,ln]},ln]}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ln]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ln]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...te()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...te(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...te(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[L]}],px:[{px:[L]}],py:[{py:[L]}],ps:[{ps:[L]}],pe:[{pe:[L]}],pt:[{pt:[L]}],pr:[{pr:[L]}],pb:[{pb:[L]}],pl:[{pl:[L]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ln,e]}],"min-w":[{"min-w":[ln,e,"min","max","fit"]}],"max-w":[{"max-w":[ln,e,"none","full","min","max","fit","prose",{screen:[xc]},xc]}],h:[{h:[ln,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ln,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ln,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ln,e,"auto","min","max","fit"]}],"font-size":[{text:["base",xc,bc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",S1]}],"font-family":[{font:[Cp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ln]}],"line-clamp":[{"line-clamp":["none",Sh,S1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",bu,ln]}],"list-image":[{"list-image":["none",ln]}],"list-style-type":[{list:["none","disc","decimal",ln]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",bu,bc]}],"underline-offset":[{"underline-offset":["auto",bu,ln]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ln]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ln]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ue(),CF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",EF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},LF]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...ae(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:ae()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ae()]}],"outline-offset":[{"outline-offset":[bu,ln]}],"outline-w":[{outline:[bu,bc]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[bu,bc]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",xc,kF]}],"shadow-color":[{shadow:[Cp]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",xc,ln]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[j]}],sepia:[{sepia:[$]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[$]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ln]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",ln]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",ln]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[Ep,ln]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[H]}],"skew-y":[{"skew-y":[H]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ln]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ln]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ln]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[bu,bc,S1]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},RF=pF(NF);function Wn(...n){return RF(DP(n))}const OF=O7,MF=M7,DF=S.forwardRef(({className:n,inset:e,children:t,...r},i)=>F.jsxs(kP,{ref:i,className:Wn("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",n),...r,children:[t,F.jsx($7,{className:"ml-auto h-4 w-4"})]}));DF.displayName=kP.displayName;const jF=S.forwardRef(({className:n,...e},t)=>F.jsx(PP,{ref:t,className:Wn("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));jF.displayName=PP.displayName;const zP=S.forwardRef(({className:n,sideOffset:e=4,...t},r)=>F.jsx(D7,{children:F.jsx(bP,{ref:r,sideOffset:e,className:Wn("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));zP.displayName=bP.displayName;const Dp=S.forwardRef(({className:n,inset:e,...t},r)=>F.jsx(SP,{ref:r,className:Wn("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",n),...t}));Dp.displayName=SP.displayName;const FF=S.forwardRef(({className:n,children:e,checked:t,...r},i)=>F.jsxs(EP,{ref:i,className:Wn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...r,children:[F.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:F.jsx(AP,{children:F.jsx(IP,{className:"h-4 w-4"})})}),e]}));FF.displayName=EP.displayName;const BF=S.forwardRef(({className:n,children:e,...t},r)=>F.jsxs(CP,{ref:r,className:Wn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[F.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:F.jsx(AP,{children:F.jsx(q7,{className:"h-2 w-2 fill-current"})})}),e]}));BF.displayName=CP.displayName;const $P=S.forwardRef(({className:n,inset:e,...t},r)=>F.jsx(xP,{ref:r,className:Wn("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));$P.displayName=xP.displayName;const O2=S.forwardRef(({className:n,...e},t)=>F.jsx(LP,{ref:t,className:Wn("-mx-1 my-1 h-px bg-muted",n),...e}));O2.displayName=LP.displayName;const VF={theme:"system",setTheme:()=>null},qP=S.createContext(VF);function UF({children:n,defaultTheme:e="system",storageKey:t="vite-ui-theme"}){const[r,i]=S.useState(()=>localStorage.getItem(t)||e),s=S.useRef(null);S.useEffect(()=>{const a=document.documentElement;a.classList.remove("light","dark");const u=r==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":r;a.classList.add(u)},[r]),S.useEffect(()=>{const a=u=>{s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{const f=u.clientX/window.innerWidth*100,d=u.clientY/window.innerHeight*100;document.body.style.backgroundPosition=`${f}% ${d}%`,console.log(`Background position: ${f}% ${d}%`)},50)};return window.addEventListener("mousemove",a),()=>{window.removeEventListener("mousemove",a),s.current&&clearTimeout(s.current)}},[]),S.useEffect(()=>{const a=u=>{u.key===t&&i(u.newValue||"system")};return window.addEventListener("storage",a),()=>window.removeEventListener("storage",a)},[t]);const o={theme:r,setTheme:a=>{localStorage.setItem(t,a),i(a)}};return F.jsx(qP.Provider,{value:o,children:n})}const zF=()=>{const n=S.useContext(qP);if(!n)throw new Error("useTheme must be used within a ThemeProvider");return n},Jx=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,Xx=DP,$F=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return Xx(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(f=>{const d=t==null?void 0:t[f],h=s==null?void 0:s[f];if(d===null)return null;const m=Jx(d)||Jx(h);return i[f][m]}),a=t&&Object.entries(t).reduce((f,d)=>{let[h,m]=d;return m===void 0||(f[h]=m),f},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((f,d)=>{let{class:h,className:m,...g}=d;return Object.entries(g).every(w=>{let[_,x]=w;return Array.isArray(x)?x.includes({...s,...a}[_]):{...s,...a}[_]===x})?[...f,h,m]:f},[]);return Xx(n,o,u,t==null?void 0:t.class,t==null?void 0:t.className)},qF=$F("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Br=S.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},s)=>{const o=r?sd:"button";return F.jsx(o,{className:Wn(qF({variant:e,size:t,className:n})),ref:s,...i})});Br.displayName="Button";const WF=()=>{const{theme:n,setTheme:e}=zF(),t=()=>{e(n==="dark"?"light":"dark")};return F.jsxs(Br,{variant:"outline",size:"icon",onClick:t,children:[n==="dark"?F.jsx(X7,{className:"h-[1.2rem] w-[1.2rem]"}):F.jsx(tF,{className:"h-[1.2rem] w-[1.2rem]"}),F.jsx("span",{className:"sr-only",children:"Toggle theme"})]})};function HF({headerRef:n}){const{user:e,isAuthenticated:t,logout:r,loginWithPopup:i}=S.useContext(Ho);return F.jsxs("header",{ref:n,className:"w-full flex items-center justify-between shadow-md p-4 md:px-20 border-b bg-white dark:bg-gray-900",style:{height:"80px",minHeight:"80px"},children:[F.jsxs(ya,{to:"/",className:"flex items-center",children:[F.jsx("div",{className:"logo-container",children:F.jsx("img",{src:"/logo2.png",alt:"Aurora Go Logo",className:"logo-image object-contain transition-transform duration-300 hover:scale-110"})}),F.jsx("h1",{className:"text-xl md:text-3xl font-bold bg-gradient-to-r from-blue-400 to-blue-700 bg-clip-text text-transparent",children:"Aurora Go"})]}),F.jsxs("div",{className:"flex items-center gap-4",children:[F.jsx(WF,{}),t?F.jsxs(OF,{children:[F.jsxs(MF,{className:"flex items-center gap-2 cursor-pointer",children:[F.jsxs("h2",{className:"hidden sm:block text-lg md:text-xl font-semibold capitalize bg-gradient-to-b from-primary/90 to-primary/60 bg-clip-text text-transparent",children:["Hi, ",e.given_name||e.nickname]}),F.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden border border-gray-300 dark:border-gray-600",children:e.picture?F.jsx("img",{src:e.picture,alt:e.name,className:"w-full h-full object-cover"}):F.jsx(Gx,{className:"h-full w-full p-2 text-gray-500"})})]}),F.jsxs(zP,{className:"w-56 text-center sm:text-left bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg",children:[F.jsxs($P,{className:"text-lg font-semibold flex items-center gap-2 p-3",children:[F.jsx(Gx,{className:"h-5 w-5"})," My Account"]}),F.jsx(O2,{}),F.jsx(ya,{to:"/all-trips",children:F.jsxs(Dp,{className:"flex items-center gap-2 text-lg p-3 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",children:[F.jsx(Q7,{className:"h-5 w-5"})," My Trips"]})}),F.jsx(ya,{to:"/plan-a-trip",children:F.jsxs(Dp,{className:"flex items-center gap-2 text-lg p-3 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",children:[F.jsx(RP,{className:"h-5 w-5"})," Create Trip"]})}),F.jsx(ya,{to:"/checklist",children:F.jsxs(Dp,{className:"flex items-center gap-2 text-lg p-3 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",children:[F.jsx(H7,{className:"h-5 w-5"})," Checklist"]})}),F.jsx(ya,{to:"/transportation",children:F.jsxs(Dp,{className:"flex items-center gap-2 text-lg p-3 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",children:[F.jsx(z7,{className:"h-5 w-5"})," Transportation"]})}),F.jsx(O2,{}),F.jsx("div",{className:"p-3",children:F.jsxs(Br,{variant:"destructive",className:"w-full flex items-center justify-center gap-2",onClick:r,children:["Log Out ",F.jsx(Y7,{className:"h-5 w-5"})]})})]})]}):F.jsxs(Br,{onClick:i,className:"flex items-center gap-2",children:["Sign In ",F.jsx(K7,{className:"h-5 w-5"})]})]})]})}function Qx({className:n,reverse:e=!1,pauseOnHover:t=!1,children:r,vertical:i=!1,repeat:s=4,...o}){return F.jsx("div",{...o,className:Wn("group flex overflow-hidden p-2 [--duration:40s] [--gap:1rem] [gap:var(--gap)]",{"flex-row":!i,"flex-col":i},n),children:Array(s).fill(0).map((a,u)=>F.jsx("div",{className:Wn("flex shrink-0 justify-around [gap:var(--gap)]",{"animate-marquee flex-row":!i,"animate-marquee-vertical flex-col":i,"group-hover:[animation-play-state:paused]":t,"[animation-direction:reverse]":e}),children:r},u))})}var m5="Dialog",[WP,fZ]=xd(m5),[GF,sl]=WP(m5),HP=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=n,a=S.useRef(null),u=S.useRef(null),[f=!1,d]=A0({prop:r,defaultProp:i,onChange:s});return F.jsx(GF,{scope:e,triggerRef:a,contentRef:u,contentId:_h(),titleId:_h(),descriptionId:_h(),open:f,onOpenChange:d,onOpenToggle:S.useCallback(()=>d(h=>!h),[d]),modal:o,children:t})};HP.displayName=m5;var GP="DialogTrigger",KF=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=sl(GP,t),s=Oi(e,i.triggerRef);return F.jsx(Ur.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":y5(i.open),...r,ref:s,onClick:un(n.onClick,i.onOpenToggle)})});KF.displayName=GP;var g5="DialogPortal",[YF,KP]=WP(g5,{forceMount:void 0}),YP=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,s=sl(g5,e);return F.jsx(YF,{scope:e,forceMount:t,children:S.Children.map(r,o=>F.jsx(Fu,{present:t||s.open,children:F.jsx(i5,{asChild:!0,container:i,children:o})}))})};YP.displayName=g5;var Ov="DialogOverlay",JP=S.forwardRef((n,e)=>{const t=KP(Ov,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=sl(Ov,n.__scopeDialog);return s.modal?F.jsx(Fu,{present:r||s.open,children:F.jsx(JF,{...i,ref:e})}):null});JP.displayName=Ov;var JF=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=sl(Ov,t);return F.jsx(s5,{as:sd,allowPinchZoom:!0,shards:[i.contentRef],children:F.jsx(Ur.div,{"data-state":y5(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ld="DialogContent",XP=S.forwardRef((n,e)=>{const t=KP(ld,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=sl(ld,n.__scopeDialog);return F.jsx(Fu,{present:r||s.open,children:s.modal?F.jsx(XF,{...i,ref:e}):F.jsx(QF,{...i,ref:e})})});XP.displayName=ld;var XF=S.forwardRef((n,e)=>{const t=sl(ld,n.__scopeDialog),r=S.useRef(null),i=Oi(e,t.contentRef,r);return S.useEffect(()=>{const s=r.current;if(s)return Pk(s)},[]),F.jsx(QP,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:un(n.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=t.triggerRef.current)==null||o.focus()}),onPointerDownOutside:un(n.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:un(n.onFocusOutside,s=>s.preventDefault())})}),QF=S.forwardRef((n,e)=>{const t=sl(ld,n.__scopeDialog),r=S.useRef(!1),i=S.useRef(!1);return F.jsx(QP,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=n.onCloseAutoFocus)==null||o.call(n,s),s.defaultPrevented||(r.current||(a=t.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var u,f;(u=n.onInteractOutside)==null||u.call(n,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((f=t.triggerRef.current)==null?void 0:f.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),QP=S.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=n,a=sl(ld,t),u=S.useRef(null),f=Oi(e,u);return QL(),F.jsxs(F.Fragment,{children:[F.jsx(Kw,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:F.jsx(Gw,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":y5(a.open),...o,ref:f,onDismiss:()=>a.onOpenChange(!1)})}),F.jsxs(F.Fragment,{children:[F.jsx(ZF,{titleId:a.titleId}),F.jsx(t9,{contentRef:u,descriptionId:a.descriptionId})]})]})}),v5="DialogTitle",ZP=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=sl(v5,t);return F.jsx(Ur.h2,{id:i.titleId,...r,ref:e})});ZP.displayName=v5;var e4="DialogDescription",t4=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=sl(e4,t);return F.jsx(Ur.p,{id:i.descriptionId,...r,ref:e})});t4.displayName=e4;var n4="DialogClose",r4=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=sl(n4,t);return F.jsx(Ur.button,{type:"button",...r,ref:e,onClick:un(n.onClick,()=>i.onOpenChange(!1))})});r4.displayName=n4;function y5(n){return n?"open":"closed"}var i4="DialogTitleWarning",[dZ,s4]=GM(i4,{contentName:ld,titleName:v5,docsSlug:"dialog"}),ZF=({titleId:n})=>{const e=s4(i4),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},e9="DialogDescriptionWarning",t9=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${s4(e9).contentName}}.`;return S.useEffect(()=>{var s;const i=(s=n.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},n9=HP,r9=YP,o4=JP,a4=XP,l4=ZP,u4=t4,c4=r4;const M2=n9,i9=r9,f4=c4,d4=S.forwardRef(({className:n,...e},t)=>F.jsx(o4,{ref:t,className:Wn("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));d4.displayName=o4.displayName;const Mv=S.forwardRef(({className:n,children:e,...t},r)=>F.jsxs(i9,{children:[F.jsx(d4,{}),F.jsxs(a4,{ref:r,className:Wn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,F.jsx(c4,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:F.jsx("span",{className:"sr-only",children:"Close"})})]})]}));Mv.displayName=a4.displayName;const Dv=({className:n,...e})=>F.jsx("div",{className:Wn("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});Dv.displayName="DialogHeader";const h4=({className:n,...e})=>F.jsx("div",{className:Wn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});h4.displayName="DialogFooter";const jv=S.forwardRef(({className:n,...e},t)=>F.jsx(l4,{ref:t,className:Wn("text-lg font-semibold leading-none tracking-tight",n),...e}));jv.displayName=l4.displayName;const p4=S.forwardRef(({className:n,...e},t)=>F.jsx(u4,{ref:t,className:Wn("text-sm text-muted-foreground",n),...e}));p4.displayName=u4.displayName;const Ic=S.forwardRef(({className:n,type:e,...t},r)=>F.jsx("input",{type:e,className:Wn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:r,...t}));Ic.displayName="Input";var Zx;(function(n){n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT"})(Zx||(Zx={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eS;(function(n){n.LANGUAGE_UNSPECIFIED="language_unspecified",n.PYTHON="python"})(eS||(eS={}));var tS;(function(n){n.OUTCOME_UNSPECIFIED="outcome_unspecified",n.OUTCOME_OK="outcome_ok",n.OUTCOME_FAILED="outcome_failed",n.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(tS||(tS={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=["user","model","function","system"];var mh;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(mh||(mh={}));var gh;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(gh||(gh={}));var rS;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(rS||(rS={}));var iS;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER"})(iS||(iS={}));var Wp;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER"})(Wp||(Wp={}));var sS;(function(n){n.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",n.RETRIEVAL_QUERY="RETRIEVAL_QUERY",n.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",n.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",n.CLASSIFICATION="CLASSIFICATION",n.CLUSTERING="CLUSTERING"})(sS||(sS={}));var oS;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(oS||(oS={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class rh extends ao{constructor(e,t){super(e),this.response=t}}class m4 extends ao{constructor(e,t,r,i){super(e),this.status=t,this.statusText=r,this.errorDetails=i}}class Qf extends ao{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9="https://generativelanguage.googleapis.com",o9="v1beta",a9="0.15.0",l9="genai-js";var ud;(function(n){n.GENERATE_CONTENT="generateContent",n.STREAM_GENERATE_CONTENT="streamGenerateContent",n.COUNT_TOKENS="countTokens",n.EMBED_CONTENT="embedContent",n.BATCH_EMBED_CONTENTS="batchEmbedContents"})(ud||(ud={}));class u9{constructor(e,t,r,i,s){this.model=e,this.task=t,this.apiKey=r,this.stream=i,this.requestOptions=s}toString(){var e,t;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||o9;let s=`${((t=this.requestOptions)===null||t===void 0?void 0:t.baseUrl)||s9}/${r}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}function c9(n){const e=[];return n!=null&&n.apiClient&&e.push(n.apiClient),e.push(`${l9}/${a9}`),e.join(" ")}async function f9(n){var e;const t=new Headers;t.append("Content-Type","application/json"),t.append("x-goog-api-client",c9(n.requestOptions)),t.append("x-goog-api-key",n.apiKey);let r=(e=n.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new Qf(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,s]of r.entries()){if(i==="x-goog-api-key")throw new Qf(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new Qf(`Header name ${i} can only be set using the apiClient field`);t.append(i,s)}}return t}async function d9(n,e,t,r,i,s){const o=new u9(n,e,t,r,s);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},g9(s)),{method:"POST",headers:await f9(o),body:i})}}async function Fm(n,e,t,r,i,s,o=fetch){const{url:a,fetchOptions:u}=await d9(n,e,t,r,i,s);return h9(a,u,o)}async function h9(n,e,t=fetch){let r;try{r=await t(n,e)}catch(i){p9(i,n)}return r.ok||await m9(r,n),r}function p9(n,e){let t=n;throw n instanceof m4||n instanceof Qf||(t=new ao(`Error fetching from ${e.toString()}: ${n.message}`),t.stack=n.stack),t}async function m9(n,e){let t="",r;try{const i=await n.json();t=i.error.message,i.error.details&&(t+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new m4(`Error fetching from ${e.toString()}: [${n.status} ${n.statusText}] ${t}`,n.status,n.statusText,r)}function g9(n){const e={};if((n==null?void 0:n.timeout)>=0){const t=new AbortController,r=t.signal;setTimeout(()=>t.abort(),n.timeout),e.signal=r}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(n){return n.text=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),av(n.candidates[0]))throw new rh(`${kc(n)}`,n);return v9(n)}else if(n.promptFeedback)throw new rh(`Text not available. ${kc(n)}`,n);return""},n.functionCall=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),av(n.candidates[0]))throw new rh(`${kc(n)}`,n);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),aS(n)[0]}else if(n.promptFeedback)throw new rh(`Function call not available. ${kc(n)}`,n)},n.functionCalls=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),av(n.candidates[0]))throw new rh(`${kc(n)}`,n);return aS(n)}else if(n.promptFeedback)throw new rh(`Function call not available. ${kc(n)}`,n)},n}function v9(n){var e,t,r,i;const s=[];if(!((t=(e=n.candidates)===null||e===void 0?void 0:e[0].content)===null||t===void 0)&&t.parts)for(const o of(i=(r=n.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.text&&s.push(o.text),o.executableCode&&s.push("\n```python\n"+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&s.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function aS(n){var e,t,r,i;const s=[];if(!((t=(e=n.candidates)===null||e===void 0?void 0:e[0].content)===null||t===void 0)&&t.parts)for(const o of(i=(r=n.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.functionCall&&s.push(o.functionCall);if(s.length>0)return s}const y9=[Wp.RECITATION,Wp.SAFETY,Wp.LANGUAGE];function av(n){return!!n.finishReason&&y9.includes(n.finishReason)}function kc(n){var e,t,r;let i="";if((!n.candidates||n.candidates.length===0)&&n.promptFeedback)i+="Response was blocked",!((e=n.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${n.promptFeedback.blockReason}`),!((t=n.promptFeedback)===null||t===void 0)&&t.blockReasonMessage&&(i+=`: ${n.promptFeedback.blockReasonMessage}`);else if(!((r=n.candidates)===null||r===void 0)&&r[0]){const s=n.candidates[0];av(s)&&(i+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(i+=`: ${s.finishMessage}`))}return i}function cm(n){return this instanceof cm?(this.v=n,this):new cm(n)}function w9(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(m){r[m]&&(i[m]=function(g){return new Promise(function(w,_){s.push([m,g,w,_])>1||a(m,g)})})}function a(m,g){try{u(r[m](g))}catch(w){h(s[0][3],w)}}function u(m){m.value instanceof cm?Promise.resolve(m.value.v).then(f,d):h(s[0][2],m)}function f(m){a("next",m)}function d(m){a("throw",m)}function h(m,g){m(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function _9(n){const e=n.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),t=S9(e),[r,i]=t.tee();return{stream:x9(r),response:b9(i)}}async function b9(n){const e=[],t=n.getReader();for(;;){const{done:r,value:i}=await t.read();if(r)return w5(E9(e));e.push(i)}}function x9(n){return w9(this,arguments,function*(){const t=n.getReader();for(;;){const{value:r,done:i}=yield cm(t.read());if(i)break;yield yield cm(w5(r))}})}function S9(n){const e=n.getReader();return new ReadableStream({start(r){let i="";return s();function s(){return e.read().then(({value:o,done:a})=>{if(a){if(i.trim()){r.error(new ao("Failed to parse stream"));return}r.close();return}i+=o;let u=i.match(lS),f;for(;u;){try{f=JSON.parse(u[1])}catch{r.error(new ao(`Error parsing JSON response: "${u[1]}"`));return}r.enqueue(f),i=i.substring(u[0].length),u=i.match(lS)}return s()})}}})}function E9(n){const e=n[n.length-1],t={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of n){if(r.candidates)for(const i of r.candidates){const s=i.index;if(t.candidates||(t.candidates=[]),t.candidates[s]||(t.candidates[s]={index:i.index}),t.candidates[s].citationMetadata=i.citationMetadata,t.candidates[s].finishReason=i.finishReason,t.candidates[s].finishMessage=i.finishMessage,t.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){t.candidates[s].content||(t.candidates[s].content={role:i.content.role||"user",parts:[]});const o={};for(const a of i.content.parts)a.text&&(o.text=a.text),a.functionCall&&(o.functionCall=a.functionCall),a.executableCode&&(o.executableCode=a.executableCode),a.codeExecutionResult&&(o.codeExecutionResult=a.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),t.candidates[s].content.parts.push(o)}}r.usageMetadata&&(t.usageMetadata=r.usageMetadata)}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g4(n,e,t,r){const i=await Fm(e,ud.STREAM_GENERATE_CONTENT,n,!0,JSON.stringify(t),r);return _9(i)}async function v4(n,e,t,r){const s=await(await Fm(e,ud.GENERATE_CONTENT,n,!1,JSON.stringify(t),r)).json();return{response:w5(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(n){if(n!=null){if(typeof n=="string")return{role:"system",parts:[{text:n}]};if(n.text)return{role:"system",parts:[n]};if(n.parts)return n.role?n:{role:"system",parts:n.parts}}}function fm(n){let e=[];if(typeof n=="string")e=[{text:n}];else for(const t of n)typeof t=="string"?e.push({text:t}):e.push(t);return C9(e)}function C9(n){const e={role:"user",parts:[]},t={role:"function",parts:[]};let r=!1,i=!1;for(const s of n)"functionResponse"in s?(t.parts.push(s),i=!0):(e.parts.push(s),r=!0);if(r&&i)throw new ao("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new ao("No content is provided for sending chat message.");return r?e:t}function A9(n,e){var t;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(t=e==null?void 0:e.cachedContent)===null||t===void 0?void 0:t.name,contents:[]};const i=n.generateContentRequest!=null;if(n.contents){if(i)throw new Qf("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=n.contents}else if(i)r=Object.assign(Object.assign({},r),n.generateContentRequest);else{const s=fm(n);r.contents=[s]}return{generateContentRequest:r}}function uS(n){let e;return n.contents?e=n:e={contents:[fm(n)]},n.systemInstruction&&(e.systemInstruction=y4(n.systemInstruction)),e}function L9(n){return typeof n=="string"||Array.isArray(n)?{content:fm(n)}:n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],k9={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function P9(n){let e=!1;for(const t of n){const{role:r,parts:i}=t;if(!e&&r!=="user")throw new ao(`First content should be with role 'user', got ${r}`);if(!nS.includes(r))throw new ao(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(nS)}`);if(!Array.isArray(i))throw new ao("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new ao("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const a of i)for(const u of cS)u in a&&(s[u]+=1);const o=k9[r];for(const a of cS)if(!o.includes(a)&&s[a]>0)throw new ao(`Content with role '${r}' can't contain '${a}' part`);e=!0}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="SILENT_ERROR";class T9{constructor(e,t,r,i){this.model=t,this.params=r,this.requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(P9(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e){var t,r,i,s,o,a;await this._sendPromise;const u=fm(e),f={safetySettings:(t=this.params)===null||t===void 0?void 0:t.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(a=this.params)===null||a===void 0?void 0:a.cachedContent,contents:[...this._history,u]};let d;return this._sendPromise=this._sendPromise.then(()=>v4(this._apiKey,this.model,f,this.requestOptions)).then(h=>{var m;if(h.response.candidates&&h.response.candidates.length>0){this._history.push(u);const g=Object.assign({parts:[],role:"model"},(m=h.response.candidates)===null||m===void 0?void 0:m[0].content);this._history.push(g)}else{const g=kc(h.response);g&&console.warn(`sendMessage() was unsuccessful. ${g}. Inspect response object for details.`)}d=h}),await this._sendPromise,d}async sendMessageStream(e){var t,r,i,s,o,a;await this._sendPromise;const u=fm(e),f={safetySettings:(t=this.params)===null||t===void 0?void 0:t.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(a=this.params)===null||a===void 0?void 0:a.cachedContent,contents:[...this._history,u]},d=g4(this._apiKey,this.model,f,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>d).catch(h=>{throw new Error(fS)}).then(h=>h.response).then(h=>{if(h.candidates&&h.candidates.length>0){this._history.push(u);const m=Object.assign({},h.candidates[0].content);m.role||(m.role="model"),this._history.push(m)}else{const m=kc(h);m&&console.warn(`sendMessageStream() was unsuccessful. ${m}. Inspect response object for details.`)}}).catch(h=>{h.message!==fS&&console.error(h)}),d}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I9(n,e,t,r){return(await Fm(e,ud.COUNT_TOKENS,n,!1,JSON.stringify(t),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N9(n,e,t,r){return(await Fm(e,ud.EMBED_CONTENT,n,!1,JSON.stringify(t),r)).json()}async function R9(n,e,t,r){const i=t.requests.map(o=>Object.assign(Object.assign({},o),{model:e}));return(await Fm(e,ud.BATCH_EMBED_CONTENTS,n,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,t,r){this.apiKey=e,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=y4(t.systemInstruction),this.cachedContent=t.cachedContent,this.requestOptions=r||{}}async generateContent(e){var t;const r=uS(e);return v4(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(t=this.cachedContent)===null||t===void 0?void 0:t.name},r),this.requestOptions)}async generateContentStream(e){var t;const r=uS(e);return g4(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(t=this.cachedContent)===null||t===void 0?void 0:t.name},r),this.requestOptions)}startChat(e){var t;return new T9(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(t=this.cachedContent)===null||t===void 0?void 0:t.name},e),this.requestOptions)}async countTokens(e){const t=A9(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent});return I9(this.apiKey,this.model,t,this.requestOptions)}async embedContent(e){const t=L9(e);return N9(this.apiKey,this.model,t,this.requestOptions)}async batchEmbedContents(e){return R9(this.apiKey,this.model,e,this.requestOptions)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this.apiKey=e}getGenerativeModel(e,t){if(!e.model)throw new ao("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new dS(this.apiKey,e,t)}getGenerativeModelFromCachedContent(e,t){if(!e.name)throw new Qf("Cached content must contain a `name` field.");if(!e.model)throw new Qf("Cached content must contain a `model` field.");const r={model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e};return new dS(this.apiKey,r,t)}}const O9="AIzaSyDT4EQDktj2PDlQnU_j5pD358JNLMRNWZQ",M9=new w4(O9),D9=M9.getGenerativeModel({model:"gemini-1.5-flash"}),j9={temperature:1,topP:.95,topK:64,maxOutputTokens:8192,responseMimeType:"text/plain"},F9=[{category:mh.HARM_CATEGORY_HARASSMENT,threshold:gh.BLOCK_MEDIUM_AND_ABOVE},{category:mh.HARM_CATEGORY_HATE_SPEECH,threshold:gh.BLOCK_MEDIUM_AND_ABOVE},{category:mh.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:gh.BLOCK_MEDIUM_AND_ABOVE},{category:mh.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:gh.BLOCK_MEDIUM_AND_ABOVE}],E1=D9.startChat({generationConfig:j9,safetySettings:F9,history:[]});function _4(n,e){return function(){return n.apply(e,arguments)}}const{toString:B9}=Object.prototype,{getPrototypeOf:_5}=Object,{iterator:O0,toStringTag:b4}=Symbol,M0=(n=>e=>{const t=B9.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ol=n=>(n=n.toLowerCase(),e=>M0(e)===n),D0=n=>e=>typeof e===n,{isArray:Xh}=Array,dm=D0("undefined");function V9(n){return n!==null&&!dm(n)&&n.constructor!==null&&!dm(n.constructor)&&lo(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const x4=ol("ArrayBuffer");function U9(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&x4(n.buffer),e}const z9=D0("string"),lo=D0("function"),S4=D0("number"),j0=n=>n!==null&&typeof n=="object",$9=n=>n===!0||n===!1,lv=n=>{if(M0(n)!=="object")return!1;const e=_5(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(b4 in n)&&!(O0 in n)},q9=ol("Date"),W9=ol("File"),H9=ol("Blob"),G9=ol("FileList"),K9=n=>j0(n)&&lo(n.pipe),Y9=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||lo(n.append)&&((e=M0(n))==="formdata"||e==="object"&&lo(n.toString)&&n.toString()==="[object FormData]"))},J9=ol("URLSearchParams"),[X9,Q9,Z9,eB]=["ReadableStream","Request","Response","Headers"].map(ol),tB=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Bm(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Xh(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,n[a],a,n)}}function E4(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const Gf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,C4=n=>!dm(n)&&n!==Gf;function D2(){const{caseless:n}=C4(this)&&this||{},e={},t=(r,i)=>{const s=n&&E4(e,i)||i;lv(e[s])&&lv(r)?e[s]=D2(e[s],r):lv(r)?e[s]=D2({},r):Xh(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Bm(arguments[r],t);return e}const nB=(n,e,t,{allOwnKeys:r}={})=>(Bm(e,(i,s)=>{t&&lo(i)?n[s]=_4(i,t):n[s]=i},{allOwnKeys:r}),n),rB=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),iB=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},sB=(n,e,t,r)=>{let i,s,o;const a={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)o=i[s],(!r||r(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&_5(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},oB=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},aB=n=>{if(!n)return null;if(Xh(n))return n;let e=n.length;if(!S4(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},lB=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&_5(Uint8Array)),uB=(n,e)=>{const r=(n&&n[O0]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},cB=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},fB=ol("HTMLFormElement"),dB=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),hS=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),hB=ol("RegExp"),A4=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Bm(t,(i,s)=>{let o;(o=e(i,s,n))!==!1&&(r[s]=o||i)}),Object.defineProperties(n,r)},pB=n=>{A4(n,(e,t)=>{if(lo(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(lo(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},mB=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return Xh(n)?r(n):r(String(n).split(e)),t},gB=()=>{},vB=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function yB(n){return!!(n&&lo(n.append)&&n[b4]==="FormData"&&n[O0])}const wB=n=>{const e=new Array(10),t=(r,i)=>{if(j0(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Xh(r)?[]:{};return Bm(r,(o,a)=>{const u=t(o,i+1);!dm(u)&&(s[a]=u)}),e[i]=void 0,s}}return r};return t(n,0)},_B=ol("AsyncFunction"),bB=n=>n&&(j0(n)||lo(n))&&lo(n.then)&&lo(n.catch),L4=((n,e)=>n?setImmediate:e?((t,r)=>(Gf.addEventListener("message",({source:i,data:s})=>{i===Gf&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Gf.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",lo(Gf.postMessage)),xB=typeof queueMicrotask<"u"?queueMicrotask.bind(Gf):typeof process<"u"&&process.nextTick||L4,SB=n=>n!=null&&lo(n[O0]),$e={isArray:Xh,isArrayBuffer:x4,isBuffer:V9,isFormData:Y9,isArrayBufferView:U9,isString:z9,isNumber:S4,isBoolean:$9,isObject:j0,isPlainObject:lv,isReadableStream:X9,isRequest:Q9,isResponse:Z9,isHeaders:eB,isUndefined:dm,isDate:q9,isFile:W9,isBlob:H9,isRegExp:hB,isFunction:lo,isStream:K9,isURLSearchParams:J9,isTypedArray:lB,isFileList:G9,forEach:Bm,merge:D2,extend:nB,trim:tB,stripBOM:rB,inherits:iB,toFlatObject:sB,kindOf:M0,kindOfTest:ol,endsWith:oB,toArray:aB,forEachEntry:uB,matchAll:cB,isHTMLForm:fB,hasOwnProperty:hS,hasOwnProp:hS,reduceDescriptors:A4,freezeMethods:pB,toObjectSet:mB,toCamelCase:dB,noop:gB,toFiniteNumber:vB,findKey:E4,global:Gf,isContextDefined:C4,isSpecCompliantForm:yB,toJSONObject:wB,isAsyncFn:_B,isThenable:bB,setImmediate:L4,asap:xB,isIterable:SB};function sn(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}$e.inherits(sn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$e.toJSONObject(this.config),code:this.code,status:this.status}}});const k4=sn.prototype,P4={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{P4[n]={value:n}});Object.defineProperties(sn,P4);Object.defineProperty(k4,"isAxiosError",{value:!0});sn.from=(n,e,t,r,i,s)=>{const o=Object.create(k4);return $e.toFlatObject(n,o,function(u){return u!==Error.prototype},a=>a!=="isAxiosError"),sn.call(o,n.message,e,t,r,i),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const EB=null;function j2(n){return $e.isPlainObject(n)||$e.isArray(n)}function T4(n){return $e.endsWith(n,"[]")?n.slice(0,-2):n}function pS(n,e,t){return n?n.concat(e).map(function(i,s){return i=T4(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function CB(n){return $e.isArray(n)&&!n.some(j2)}const AB=$e.toFlatObject($e,{},null,function(e){return/^is[A-Z]/.test(e)});function F0(n,e,t){if(!$e.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=$e.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,x){return!$e.isUndefined(x[_])});const r=t.metaTokens,i=t.visitor||d,s=t.dots,o=t.indexes,u=(t.Blob||typeof Blob<"u"&&Blob)&&$e.isSpecCompliantForm(e);if(!$e.isFunction(i))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if($e.isDate(w))return w.toISOString();if(!u&&$e.isBlob(w))throw new sn("Blob is not supported. Use a Buffer instead.");return $e.isArrayBuffer(w)||$e.isTypedArray(w)?u&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function d(w,_,x){let C=w;if(w&&!x&&typeof w=="object"){if($e.endsWith(_,"{}"))_=r?_:_.slice(0,-2),w=JSON.stringify(w);else if($e.isArray(w)&&CB(w)||($e.isFileList(w)||$e.endsWith(_,"[]"))&&(C=$e.toArray(w)))return _=T4(_),C.forEach(function(j,D){!($e.isUndefined(j)||j===null)&&e.append(o===!0?pS([_],D,s):o===null?_:_+"[]",f(j))}),!1}return j2(w)?!0:(e.append(pS(x,_,s),f(w)),!1)}const h=[],m=Object.assign(AB,{defaultVisitor:d,convertValue:f,isVisitable:j2});function g(w,_){if(!$e.isUndefined(w)){if(h.indexOf(w)!==-1)throw Error("Circular reference detected in "+_.join("."));h.push(w),$e.forEach(w,function(C,L){(!($e.isUndefined(C)||C===null)&&i.call(e,C,$e.isString(L)?L.trim():L,_,m))===!0&&g(C,_?_.concat(L):[L])}),h.pop()}}if(!$e.isObject(n))throw new TypeError("data must be an object");return g(n),e}function mS(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function b5(n,e){this._pairs=[],n&&F0(n,this,e)}const I4=b5.prototype;I4.append=function(e,t){this._pairs.push([e,t])};I4.toString=function(e){const t=e?function(r){return e.call(this,r,mS)}:mS;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function LB(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function N4(n,e,t){if(!e)return n;const r=t&&t.encode||LB;$e.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(e,t):s=$e.isURLSearchParams(e)?e.toString():new b5(e,t).toString(r),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class gS{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$e.forEach(this.handlers,function(r){r!==null&&e(r)})}}const R4={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kB=typeof URLSearchParams<"u"?URLSearchParams:b5,PB=typeof FormData<"u"?FormData:null,TB=typeof Blob<"u"?Blob:null,IB={isBrowser:!0,classes:{URLSearchParams:kB,FormData:PB,Blob:TB},protocols:["http","https","file","blob","url","data"]},x5=typeof window<"u"&&typeof document<"u",F2=typeof navigator=="object"&&navigator||void 0,NB=x5&&(!F2||["ReactNative","NativeScript","NS"].indexOf(F2.product)<0),RB=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",OB=x5&&window.location.href||"http://localhost",MB=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:x5,hasStandardBrowserEnv:NB,hasStandardBrowserWebWorkerEnv:RB,navigator:F2,origin:OB},Symbol.toStringTag,{value:"Module"})),ws={...MB,...IB};function DB(n,e){return F0(n,new ws.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return ws.isNode&&$e.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function jB(n){return $e.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function FB(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function O4(n){function e(t,r,i,s){let o=t[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),u=s>=t.length;return o=!o&&$e.isArray(i)?i.length:o,u?($e.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!$e.isObject(i[o]))&&(i[o]=[]),e(t,r,i[o],s)&&$e.isArray(i[o])&&(i[o]=FB(i[o])),!a)}if($e.isFormData(n)&&$e.isFunction(n.entries)){const t={};return $e.forEachEntry(n,(r,i)=>{e(jB(r),i,t,0)}),t}return null}function BB(n,e,t){if($e.isString(n))try{return(e||JSON.parse)(n),$e.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Vm={transitional:R4,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=$e.isObject(e);if(s&&$e.isHTMLForm(e)&&(e=new FormData(e)),$e.isFormData(e))return i?JSON.stringify(O4(e)):e;if($e.isArrayBuffer(e)||$e.isBuffer(e)||$e.isStream(e)||$e.isFile(e)||$e.isBlob(e)||$e.isReadableStream(e))return e;if($e.isArrayBufferView(e))return e.buffer;if($e.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return DB(e,this.formSerializer).toString();if((a=$e.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return F0(a?{"files[]":e}:e,u&&new u,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),BB(e)):e}],transformResponse:[function(e){const t=this.transitional||Vm.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if($e.isResponse(e)||$e.isReadableStream(e))return e;if(e&&$e.isString(e)&&(r&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?sn.from(a,sn.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ws.classes.FormData,Blob:ws.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$e.forEach(["delete","get","head","post","put","patch"],n=>{Vm.headers[n]={}});const VB=$e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),UB=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!t||e[t]&&VB[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},vS=Symbol("internals");function Ap(n){return n&&String(n).trim().toLowerCase()}function uv(n){return n===!1||n==null?n:$e.isArray(n)?n.map(uv):String(n)}function zB(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const $B=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function C1(n,e,t,r,i){if($e.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!$e.isString(e)){if($e.isString(r))return e.indexOf(r)!==-1;if($e.isRegExp(r))return r.test(e)}}function qB(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function WB(n,e){const t=$e.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let uo=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(a,u,f){const d=Ap(u);if(!d)throw new Error("header name must be a non-empty string");const h=$e.findKey(i,d);(!h||i[h]===void 0||f===!0||f===void 0&&i[h]!==!1)&&(i[h||u]=uv(a))}const o=(a,u)=>$e.forEach(a,(f,d)=>s(f,d,u));if($e.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if($e.isString(e)&&(e=e.trim())&&!$B(e))o(UB(e),t);else if($e.isObject(e)&&$e.isIterable(e)){let a={},u,f;for(const d of e){if(!$e.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[f=d[0]]=(u=a[f])?$e.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}o(a,t)}else e!=null&&s(t,e,r);return this}get(e,t){if(e=Ap(e),e){const r=$e.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return zB(i);if($e.isFunction(t))return t.call(this,i,r);if($e.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ap(e),e){const r=$e.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||C1(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(o){if(o=Ap(o),o){const a=$e.findKey(r,o);a&&(!t||C1(r,r[a],a,t))&&(delete r[a],i=!0)}}return $e.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||C1(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return $e.forEach(this,(i,s)=>{const o=$e.findKey(r,s);if(o){t[o]=uv(i),delete t[s];return}const a=e?qB(s):String(s).trim();a!==s&&delete t[s],t[a]=uv(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return $e.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&$e.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[vS]=this[vS]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Ap(o);r[a]||(WB(i,o),r[a]=!0)}return $e.isArray(e)?e.forEach(s):s(e),this}};uo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$e.reduceDescriptors(uo.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});$e.freezeMethods(uo);function A1(n,e){const t=this||Vm,r=e||t,i=uo.from(r.headers);let s=r.data;return $e.forEach(n,function(a){s=a.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function M4(n){return!!(n&&n.__CANCEL__)}function Qh(n,e,t){sn.call(this,n??"canceled",sn.ERR_CANCELED,e,t),this.name="CanceledError"}$e.inherits(Qh,sn,{__CANCEL__:!0});function D4(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new sn("Request failed with status code "+t.status,[sn.ERR_BAD_REQUEST,sn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function HB(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function GB(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(u){const f=Date.now(),d=r[s];o||(o=f),t[i]=u,r[i]=f;let h=s,m=0;for(;h!==i;)m+=t[h++],h=h%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),f-o<e)return;const g=d&&f-d;return g?Math.round(m*1e3/g):void 0}}function KB(n,e){let t=0,r=1e3/e,i,s;const o=(f,d=Date.now())=>{t=d,i=null,s&&(clearTimeout(s),s=null),n.apply(null,f)};return[(...f)=>{const d=Date.now(),h=d-t;h>=r?o(f,d):(i=f,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const Fv=(n,e,t=3)=>{let r=0;const i=GB(50,250);return KB(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,u=o-r,f=i(u),d=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:u,rate:f||void 0,estimated:f&&a&&d?(a-o)/f:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(h)},t)},yS=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},wS=n=>(...e)=>$e.asap(()=>n(...e)),YB=ws.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,ws.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(ws.origin),ws.navigator&&/(msie|trident)/i.test(ws.navigator.userAgent)):()=>!0,JB=ws.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const o=[n+"="+encodeURIComponent(e)];$e.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),$e.isString(r)&&o.push("path="+r),$e.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function XB(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function QB(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function j4(n,e,t){let r=!XB(e);return n&&(r||t==!1)?QB(n,e):e}const _S=n=>n instanceof uo?{...n}:n;function cd(n,e){e=e||{};const t={};function r(f,d,h,m){return $e.isPlainObject(f)&&$e.isPlainObject(d)?$e.merge.call({caseless:m},f,d):$e.isPlainObject(d)?$e.merge({},d):$e.isArray(d)?d.slice():d}function i(f,d,h,m){if($e.isUndefined(d)){if(!$e.isUndefined(f))return r(void 0,f,h,m)}else return r(f,d,h,m)}function s(f,d){if(!$e.isUndefined(d))return r(void 0,d)}function o(f,d){if($e.isUndefined(d)){if(!$e.isUndefined(f))return r(void 0,f)}else return r(void 0,d)}function a(f,d,h){if(h in e)return r(f,d);if(h in n)return r(void 0,f)}const u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(f,d,h)=>i(_S(f),_S(d),h,!0)};return $e.forEach(Object.keys(Object.assign({},n,e)),function(d){const h=u[d]||i,m=h(n[d],e[d],d);$e.isUndefined(m)&&h!==a||(t[d]=m)}),t}const F4=n=>{const e=cd({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=uo.from(o),e.url=N4(j4(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let u;if($e.isFormData(t)){if(ws.hasStandardBrowserEnv||ws.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[f,...d]=u?u.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([f||"multipart/form-data",...d].join("; "))}}if(ws.hasStandardBrowserEnv&&(r&&$e.isFunction(r)&&(r=r(e)),r||r!==!1&&YB(e.url))){const f=i&&s&&JB.read(s);f&&o.set(i,f)}return e},ZB=typeof XMLHttpRequest<"u",eV=ZB&&function(n){return new Promise(function(t,r){const i=F4(n);let s=i.data;const o=uo.from(i.headers).normalize();let{responseType:a,onUploadProgress:u,onDownloadProgress:f}=i,d,h,m,g,w;function _(){g&&g(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function C(){if(!x)return;const j=uo.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),$={data:!a||a==="text"||a==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:j,config:n,request:x};D4(function(R){t(R),_()},function(R){r(R),_()},$),x=null}"onloadend"in x?x.onloadend=C:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(C)},x.onabort=function(){x&&(r(new sn("Request aborted",sn.ECONNABORTED,n,x)),x=null)},x.onerror=function(){r(new sn("Network Error",sn.ERR_NETWORK,n,x)),x=null},x.ontimeout=function(){let D=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const $=i.transitional||R4;i.timeoutErrorMessage&&(D=i.timeoutErrorMessage),r(new sn(D,$.clarifyTimeoutError?sn.ETIMEDOUT:sn.ECONNABORTED,n,x)),x=null},s===void 0&&o.setContentType(null),"setRequestHeader"in x&&$e.forEach(o.toJSON(),function(D,$){x.setRequestHeader($,D)}),$e.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),a&&a!=="json"&&(x.responseType=i.responseType),f&&([m,w]=Fv(f,!0),x.addEventListener("progress",m)),u&&x.upload&&([h,g]=Fv(u),x.upload.addEventListener("progress",h),x.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(d=j=>{x&&(r(!j||j.type?new Qh(null,n,x):j),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const L=HB(i.url);if(L&&ws.protocols.indexOf(L)===-1){r(new sn("Unsupported protocol "+L+":",sn.ERR_BAD_REQUEST,n));return}x.send(s||null)})},tV=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const s=function(f){if(!i){i=!0,a();const d=f instanceof Error?f:this.reason;r.abort(d instanceof sn?d:new Qh(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new sn(`timeout ${e} of ms exceeded`,sn.ETIMEDOUT))},e);const a=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(f=>{f.unsubscribe?f.unsubscribe(s):f.removeEventListener("abort",s)}),n=null)};n.forEach(f=>f.addEventListener("abort",s));const{signal:u}=r;return u.unsubscribe=()=>$e.asap(a),u}},nV=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},rV=async function*(n,e){for await(const t of iV(n))yield*nV(t,e)},iV=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},bS=(n,e,t,r)=>{const i=rV(n,e);let s=0,o,a=u=>{o||(o=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:f,value:d}=await i.next();if(f){a(),u.close();return}let h=d.byteLength;if(t){let m=s+=h;t(m)}u.enqueue(new Uint8Array(d))}catch(f){throw a(f),f}},cancel(u){return a(u),i.return()}},{highWaterMark:2})},B0=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",B4=B0&&typeof ReadableStream=="function",sV=B0&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),V4=(n,...e)=>{try{return!!n(...e)}catch{return!1}},oV=B4&&V4(()=>{let n=!1;const e=new Request(ws.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),xS=64*1024,B2=B4&&V4(()=>$e.isReadableStream(new Response("").body)),Bv={stream:B2&&(n=>n.body)};B0&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Bv[e]&&(Bv[e]=$e.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new sn(`Response type '${e}' is not supported`,sn.ERR_NOT_SUPPORT,r)})})})(new Response);const aV=async n=>{if(n==null)return 0;if($e.isBlob(n))return n.size;if($e.isSpecCompliantForm(n))return(await new Request(ws.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if($e.isArrayBufferView(n)||$e.isArrayBuffer(n))return n.byteLength;if($e.isURLSearchParams(n)&&(n=n+""),$e.isString(n))return(await sV(n)).byteLength},lV=async(n,e)=>{const t=$e.toFiniteNumber(n.getContentLength());return t??aV(e)},uV=B0&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:u,responseType:f,headers:d,withCredentials:h="same-origin",fetchOptions:m}=F4(n);f=f?(f+"").toLowerCase():"text";let g=tV([i,s&&s.toAbortSignal()],o),w;const _=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let x;try{if(u&&oV&&t!=="get"&&t!=="head"&&(x=await lV(d,r))!==0){let $=new Request(e,{method:"POST",body:r,duplex:"half"}),H;if($e.isFormData(r)&&(H=$.headers.get("content-type"))&&d.setContentType(H),$.body){const[R,I]=yS(x,Fv(wS(u)));r=bS($.body,xS,R,I)}}$e.isString(h)||(h=h?"include":"omit");const C="credentials"in Request.prototype;w=new Request(e,{...m,signal:g,method:t.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:C?h:void 0});let L=await fetch(w);const j=B2&&(f==="stream"||f==="response");if(B2&&(a||j&&_)){const $={};["status","statusText","headers"].forEach(N=>{$[N]=L[N]});const H=$e.toFiniteNumber(L.headers.get("content-length")),[R,I]=a&&yS(H,Fv(wS(a),!0))||[];L=new Response(bS(L.body,xS,R,()=>{I&&I(),_&&_()}),$)}f=f||"text";let D=await Bv[$e.findKey(Bv,f)||"text"](L,n);return!j&&_&&_(),await new Promise(($,H)=>{D4($,H,{data:D,headers:uo.from(L.headers),status:L.status,statusText:L.statusText,config:n,request:w})})}catch(C){throw _&&_(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new sn("Network Error",sn.ERR_NETWORK,n,w),{cause:C.cause||C}):sn.from(C,C&&C.code,n,w)}}),V2={http:EB,xhr:eV,fetch:uV};$e.forEach(V2,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const SS=n=>`- ${n}`,cV=n=>$e.isFunction(n)||n===null||n===!1,U4={getAdapter:n=>{n=$e.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let s=0;s<e;s++){t=n[s];let o;if(r=t,!cV(t)&&(r=V2[(o=String(t)).toLowerCase()],r===void 0))throw new sn(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,u])=>`adapter ${a} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(SS).join(`
`):" "+SS(s[0]):"as no adapter specified";throw new sn("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:V2};function L1(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Qh(null,n)}function ES(n){return L1(n),n.headers=uo.from(n.headers),n.data=A1.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),U4.getAdapter(n.adapter||Vm.adapter)(n).then(function(r){return L1(n),r.data=A1.call(n,n.transformResponse,r),r.headers=uo.from(r.headers),r},function(r){return M4(r)||(L1(n),r&&r.response&&(r.response.data=A1.call(n,n.transformResponse,r.response),r.response.headers=uo.from(r.response.headers))),Promise.reject(r)})}const z4="1.9.0",V0={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{V0[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const CS={};V0.transitional=function(e,t,r){function i(s,o){return"[Axios v"+z4+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new sn(i(o," has been removed"+(t?" in "+t:"")),sn.ERR_DEPRECATED);return t&&!CS[o]&&(CS[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};V0.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function fV(n,e,t){if(typeof n!="object")throw new sn("options must be an object",sn.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=n[s],u=a===void 0||o(a,s,n);if(u!==!0)throw new sn("option "+s+" must be "+u,sn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new sn("Unknown option "+s,sn.ERR_BAD_OPTION)}}const cv={assertOptions:fV,validators:V0},Ll=cv.validators;let Zf=class{constructor(e){this.defaults=e||{},this.interceptors={request:new gS,response:new gS}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=cd(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&cv.assertOptions(r,{silentJSONParsing:Ll.transitional(Ll.boolean),forcedJSONParsing:Ll.transitional(Ll.boolean),clarifyTimeoutError:Ll.transitional(Ll.boolean)},!1),i!=null&&($e.isFunction(i)?t.paramsSerializer={serialize:i}:cv.assertOptions(i,{encode:Ll.function,serialize:Ll.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),cv.assertOptions(t,{baseUrl:Ll.spelling("baseURL"),withXsrfToken:Ll.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&$e.merge(s.common,s[t.method]);s&&$e.forEach(["delete","get","head","post","put","patch","common"],w=>{delete s[w]}),t.headers=uo.concat(o,s);const a=[];let u=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(t)===!1||(u=u&&_.synchronous,a.unshift(_.fulfilled,_.rejected))});const f=[];this.interceptors.response.forEach(function(_){f.push(_.fulfilled,_.rejected)});let d,h=0,m;if(!u){const w=[ES.bind(this),void 0];for(w.unshift.apply(w,a),w.push.apply(w,f),m=w.length,d=Promise.resolve(t);h<m;)d=d.then(w[h++],w[h++]);return d}m=a.length;let g=t;for(h=0;h<m;){const w=a[h++],_=a[h++];try{g=w(g)}catch(x){_.call(this,x);break}}try{d=ES.call(this,g)}catch(w){return Promise.reject(w)}for(h=0,m=f.length;h<m;)d=d.then(f[h++],f[h++]);return d}getUri(e){e=cd(this.defaults,e);const t=j4(e.baseURL,e.url,e.allowAbsoluteUrls);return N4(t,e.params,e.paramsSerializer)}};$e.forEach(["delete","get","head","options"],function(e){Zf.prototype[e]=function(t,r){return this.request(cd(r||{},{method:e,url:t,data:(r||{}).data}))}});$e.forEach(["post","put","patch"],function(e){function t(r){return function(s,o,a){return this.request(cd(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Zf.prototype[e]=t(),Zf.prototype[e+"Form"]=t(!0)});let dV=class $4{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Qh(s,o,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new $4(function(i){e=i}),cancel:e}}};function hV(n){return function(t){return n.apply(null,t)}}function pV(n){return $e.isObject(n)&&n.isAxiosError===!0}const U2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(U2).forEach(([n,e])=>{U2[e]=n});function q4(n){const e=new Zf(n),t=_4(Zf.prototype.request,e);return $e.extend(t,Zf.prototype,e,{allOwnKeys:!0}),$e.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return q4(cd(n,i))},t}const Xn=q4(Vm);Xn.Axios=Zf;Xn.CanceledError=Qh;Xn.CancelToken=dV;Xn.isCancel=M4;Xn.VERSION=z4;Xn.toFormData=F0;Xn.AxiosError=sn;Xn.Cancel=Xn.CanceledError;Xn.all=function(e){return Promise.all(e)};Xn.spread=hV;Xn.isAxiosError=pV;Xn.mergeConfig=cd;Xn.AxiosHeaders=uo;Xn.formToJSON=n=>O4($e.isHTMLForm(n)?new FormData(n):n);Xn.getAdapter=U4.getAdapter;Xn.HttpStatusCode=U2;Xn.default=Xn;const{Axios:mZ,AxiosError:gZ,CanceledError:vZ,isCancel:yZ,CancelToken:wZ,VERSION:_Z,all:bZ,Cancel:xZ,isAxiosError:SZ,spread:EZ,toFormData:CZ,AxiosHeaders:AZ,HttpStatusCode:LZ,formToJSON:kZ,getAdapter:PZ,mergeConfig:TZ}=Xn,mV="modulepreload",gV=function(n){return"/"+n},AS={},z2=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let o=function(f){return Promise.all(f.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=o(t.map(f=>{if(f=gV(f),f in AS)return;AS[f]=!0;const d=f.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${h}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":mV,d||(m.as="script"),m.crossOrigin="",m.href=f,u&&m.setAttribute("nonce",u),document.head.appendChild(m),d)return new Promise((g,w)=>{m.addEventListener("load",g),m.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function ir(n){"@babel/helpers - typeof";return ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ir(n)}var _s=Uint8Array,Vo=Uint16Array,S5=Int32Array,U0=new _s([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),z0=new _s([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),$2=new _s([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),W4=function(n,e){for(var t=new Vo(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new S5(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},H4=W4(U0,2),G4=H4.b,q2=H4.r;G4[28]=258,q2[258]=28;var K4=W4(z0,0),vV=K4.b,LS=K4.r,W2=new Vo(32768);for(var yr=0;yr<32768;++yr){var Sc=(yr&43690)>>1|(yr&21845)<<1;Sc=(Sc&52428)>>2|(Sc&13107)<<2,Sc=(Sc&61680)>>4|(Sc&3855)<<4,W2[yr]=((Sc&65280)>>8|(Sc&255)<<8)>>1}var jl=function(n,e,t){for(var r=n.length,i=0,s=new Vo(e);i<r;++i)n[i]&&++s[n[i]-1];var o=new Vo(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(t){a=new Vo(1<<e);var u=15-e;for(i=0;i<r;++i)if(n[i])for(var f=i<<4|n[i],d=e-n[i],h=o[n[i]-1]++<<d,m=h|(1<<d)-1;h<=m;++h)a[W2[h]>>u]=f}else for(a=new Vo(r),i=0;i<r;++i)n[i]&&(a[i]=W2[o[n[i]-1]++]>>15-n[i]);return a},Jc=new _s(288);for(var yr=0;yr<144;++yr)Jc[yr]=8;for(var yr=144;yr<256;++yr)Jc[yr]=9;for(var yr=256;yr<280;++yr)Jc[yr]=7;for(var yr=280;yr<288;++yr)Jc[yr]=8;var hm=new _s(32);for(var yr=0;yr<32;++yr)hm[yr]=5;var yV=jl(Jc,9,0),wV=jl(Jc,9,1),_V=jl(hm,5,0),bV=jl(hm,5,1),k1=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Ja=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},P1=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},E5=function(n){return(n+7)/8|0},Y4=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new _s(n.subarray(e,t))},xV=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Qa=function(n,e,t){var r=new Error(e||xV[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,Qa),!t)throw r;return r},SV=function(n,e,t,r){var i=n.length,s=0;if(!i||e.f&&!e.l)return t||new _s(0);var o=!t,a=o||e.i!=2,u=e.i;o&&(t=new _s(i*3));var f=function(Me){var Be=t.length;if(Me>Be){var We=new _s(Math.max(Be*2,Me));We.set(t),t=We}},d=e.f||0,h=e.p||0,m=e.b||0,g=e.l,w=e.d,_=e.m,x=e.n,C=i*8;do{if(!g){d=Ja(n,h,1);var L=Ja(n,h+1,3);if(h+=3,L)if(L==1)g=wV,w=bV,_=9,x=5;else if(L==2){var H=Ja(n,h,31)+257,R=Ja(n,h+10,15)+4,I=H+Ja(n,h+5,31)+1;h+=14;for(var N=new _s(I),W=new _s(19),O=0;O<R;++O)W[$2[O]]=Ja(n,h+O*3,7);h+=R*3;for(var P=k1(W),B=(1<<P)-1,Y=jl(W,P,1),O=0;O<I;){var ue=Y[Ja(n,h,B)];h+=ue&15;var j=ue>>4;if(j<16)N[O++]=j;else{var ae=0,le=0;for(j==16?(le=3+Ja(n,h,3),h+=2,ae=N[O-1]):j==17?(le=3+Ja(n,h,7),h+=3):j==18&&(le=11+Ja(n,h,127),h+=7);le--;)N[O++]=ae}}var te=N.subarray(0,H),ce=N.subarray(H);_=k1(te),x=k1(ce),g=jl(te,_,1),w=jl(ce,x,1)}else Qa(1);else{var j=E5(h)+4,D=n[j-4]|n[j-3]<<8,$=j+D;if($>i){u&&Qa(0);break}a&&f(m+D),t.set(n.subarray(j,$),m),e.b=m+=D,e.p=h=$*8,e.f=d;continue}if(h>C){u&&Qa(0);break}}a&&f(m+131072);for(var fe=(1<<_)-1,ne=(1<<x)-1,z=h;;z=h){var ae=g[P1(n,h)&fe],J=ae>>4;if(h+=ae&15,h>C){u&&Qa(0);break}if(ae||Qa(2),J<256)t[m++]=J;else if(J==256){z=h,g=null;break}else{var se=J-254;if(J>264){var O=J-257,Z=U0[O];se=Ja(n,h,(1<<Z)-1)+G4[O],h+=Z}var pe=w[P1(n,h)&ne],ye=pe>>4;pe||Qa(3),h+=pe&15;var ce=vV[ye];if(ye>3){var Z=z0[ye];ce+=P1(n,h)&(1<<Z)-1,h+=Z}if(h>C){u&&Qa(0);break}a&&f(m+131072);var ve=m+se;if(m<ce){var we=s-ce,Ie=Math.min(ce,ve);for(we+m<0&&Qa(3);m<Ie;++m)t[m]=r[we+m]}for(;m<ve;++m)t[m]=t[m-ce]}}e.l=g,e.p=z,e.b=m,e.f=d,g&&(d=1,e.m=_,e.d=w,e.n=x)}while(!d);return m!=t.length&&o?Y4(t,0,m):t.subarray(0,m)},xu=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Lp=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},T1=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:X4,l:0};if(i==1){var o=new _s(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function($,H){return $.f-H.f}),t.push({s:-1,f:25001});var a=t[0],u=t[1],f=0,d=1,h=2;for(t[0]={s:-1,f:a.f+u.f,l:a,r:u};d!=i-1;)a=t[t[f].f<t[h].f?f++:h++],u=t[f!=d&&t[f].f<t[h].f?f++:h++],t[d++]={s:-1,f:a.f+u.f,l:a,r:u};for(var m=s[0].s,r=1;r<i;++r)s[r].s>m&&(m=s[r].s);var g=new Vo(m+1),w=H2(t[d-1],g,0);if(w>e){var r=0,_=0,x=w-e,C=1<<x;for(s.sort(function(H,R){return g[R.s]-g[H.s]||H.f-R.f});r<i;++r){var L=s[r].s;if(g[L]>e)_+=C-(1<<w-g[L]),g[L]=e;else break}for(_>>=x;_>0;){var j=s[r].s;g[j]<e?_-=1<<e-g[j]++-1:++r}for(;r>=0&&_;--r){var D=s[r].s;g[D]==e&&(--g[D],++_)}w=e}return{t:new _s(g),l:w}},H2=function(n,e,t){return n.s==-1?Math.max(H2(n.l,e,t+1),H2(n.r,e,t+1)):e[n.s]=t},kS=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Vo(++e),r=0,i=n[0],s=1,o=function(u){t[r++]=u},a=1;a<=e;++a)if(n[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=n[a]}return{c:t.subarray(0,r),n:e}},kp=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},J4=function(n,e,t){var r=t.length,i=E5(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},PS=function(n,e,t,r,i,s,o,a,u,f,d){xu(e,d++,t),++i[256];for(var h=T1(i,15),m=h.t,g=h.l,w=T1(s,15),_=w.t,x=w.l,C=kS(m),L=C.c,j=C.n,D=kS(_),$=D.c,H=D.n,R=new Vo(19),I=0;I<L.length;++I)++R[L[I]&31];for(var I=0;I<$.length;++I)++R[$[I]&31];for(var N=T1(R,7),W=N.t,O=N.l,P=19;P>4&&!W[$2[P-1]];--P);var B=f+5<<3,Y=kp(i,Jc)+kp(s,hm)+o,ue=kp(i,m)+kp(s,_)+o+14+3*P+kp(R,W)+2*R[16]+3*R[17]+7*R[18];if(u>=0&&B<=Y&&B<=ue)return J4(e,d,n.subarray(u,u+f));var ae,le,te,ce;if(xu(e,d,1+(ue<Y)),d+=2,ue<Y){ae=jl(m,g,0),le=m,te=jl(_,x,0),ce=_;var fe=jl(W,O,0);xu(e,d,j-257),xu(e,d+5,H-1),xu(e,d+10,P-4),d+=14;for(var I=0;I<P;++I)xu(e,d+3*I,W[$2[I]]);d+=3*P;for(var ne=[L,$],z=0;z<2;++z)for(var J=ne[z],I=0;I<J.length;++I){var se=J[I]&31;xu(e,d,fe[se]),d+=W[se],se>15&&(xu(e,d,J[I]>>5&127),d+=J[I]>>12)}}else ae=yV,le=Jc,te=_V,ce=hm;for(var I=0;I<a;++I){var Z=r[I];if(Z>255){var se=Z>>18&31;Lp(e,d,ae[se+257]),d+=le[se+257],se>7&&(xu(e,d,Z>>23&31),d+=U0[se]);var pe=Z&31;Lp(e,d,te[pe]),d+=ce[pe],pe>3&&(Lp(e,d,Z>>5&8191),d+=z0[pe])}else Lp(e,d,ae[Z]),d+=le[Z]}return Lp(e,d,ae[256]),d+le[256]},EV=new S5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),X4=new _s(0),CV=function(n,e,t,r,i,s){var o=s.z||n.length,a=new _s(r+o+5*(1+Math.ceil(o/7e3))+i),u=a.subarray(r,a.length-i),f=s.l,d=(s.r||0)&7;if(e){d&&(u[0]=s.r>>3);for(var h=EV[e-1],m=h>>13,g=h&8191,w=(1<<t)-1,_=s.p||new Vo(32768),x=s.h||new Vo(w+1),C=Math.ceil(t/3),L=2*C,j=function(ft){return(n[ft]^n[ft+1]<<C^n[ft+2]<<L)&w},D=new S5(25e3),$=new Vo(288),H=new Vo(32),R=0,I=0,N=s.i||0,W=0,O=s.w||0,P=0;N+2<o;++N){var B=j(N),Y=N&32767,ue=x[B];if(_[Y]=ue,x[B]=Y,O<=N){var ae=o-N;if((R>7e3||W>24576)&&(ae>423||!f)){d=PS(n,u,0,D,$,H,I,W,P,N-P,d),W=R=I=0,P=N;for(var le=0;le<286;++le)$[le]=0;for(var le=0;le<30;++le)H[le]=0}var te=2,ce=0,fe=g,ne=Y-ue&32767;if(ae>2&&B==j(N-ne))for(var z=Math.min(m,ae)-1,J=Math.min(32767,N),se=Math.min(258,ae);ne<=J&&--fe&&Y!=ue;){if(n[N+te]==n[N+te-ne]){for(var Z=0;Z<se&&n[N+Z]==n[N+Z-ne];++Z);if(Z>te){if(te=Z,ce=ne,Z>z)break;for(var pe=Math.min(ne,Z-2),ye=0,le=0;le<pe;++le){var ve=N-ne+le&32767,we=_[ve],Ie=ve-we&32767;Ie>ye&&(ye=Ie,ue=ve)}}}Y=ue,ue=_[Y],ne+=Y-ue&32767}if(ce){D[W++]=268435456|q2[te]<<18|LS[ce];var Me=q2[te]&31,Be=LS[ce]&31;I+=U0[Me]+z0[Be],++$[257+Me],++H[Be],O=N+te,++R}else D[W++]=n[N],++$[n[N]]}}for(N=Math.max(N,O);N<o;++N)D[W++]=n[N],++$[n[N]];d=PS(n,u,f,D,$,H,I,W,P,N-P,d),f||(s.r=d&7|u[d/8|0]<<3,d-=7,s.h=x,s.p=_,s.i=N,s.w=O)}else{for(var N=s.w||0;N<o+f;N+=65535){var We=N+65535;We>=o&&(u[d/8|0]=f,We=o),d=J4(u,d+1,n.subarray(N,We))}s.i=o}return Y4(a,0,r+E5(d)+i)},Q4=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=t[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},AV=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new _s(s.length+n.length);o.set(s),o.set(n,s.length),n=o,i.w=s.length}return CV(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},Z4=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},LV=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=Q4();i.p(e.dictionary),Z4(n,2,i.d())}},kV=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Qa(6,"invalid zlib data"),(n[1]>>5&1)==1&&Qa(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function G2(n,e){e||(e={});var t=Q4();t.p(n);var r=AV(n,e,e.dictionary?6:2,4);return LV(r,e),Z4(r,r.length-4,t.d()),r}function PV(n,e){return SV(n.subarray(kV(n),-4),{i:2},e,e)}var TV=typeof TextDecoder<"u"&&new TextDecoder,IV=0;try{TV.decode(X4,{stream:!0}),IV=1}catch{}var Ht=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function I1(){Ht.console&&typeof Ht.console.log=="function"&&Ht.console.log.apply(Ht.console,arguments)}var ur={log:I1,warn:function(n){Ht.console&&(typeof Ht.console.warn=="function"?Ht.console.warn.apply(Ht.console,arguments):I1.call(null,arguments))},error:function(n){Ht.console&&(typeof Ht.console.error=="function"?Ht.console.error.apply(Ht.console,arguments):I1(n))}};function N1(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Bf(r.response,e,t)},r.onerror=function(){ur.error("could not download file")},r.send()}function TS(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Bg(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Hp,K2,Bf=Ht.saveAs||((typeof window>"u"?"undefined":ir(window))!=="object"||window!==Ht?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Ht.URL||Ht.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?TS(i.href)?N1(n,e,t):Bg(i,i.target="_blank"):Bg(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Bg(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(TS(n))N1(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Bg(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:ir(s)!=="object"&&(ur.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return N1(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(Ht.HTMLElement)||Ht.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":ir(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var d=a.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},a.readAsDataURL(n)}else{var u=Ht.URL||Ht.webkitURL,f=u.createObjectURL(n);r?r.location=f:location.href=f,r=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function eT(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,o=i.exec(n);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),u=this.g.toString(16),f=this.b.toString(16);return a.length==1&&(a="0"+a),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),"#"+a+u+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function R1(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=ds(t,r,i,s,e[0],7,-680876936),s=ds(s,t,r,i,e[1],12,-389564586),i=ds(i,s,t,r,e[2],17,606105819),r=ds(r,i,s,t,e[3],22,-1044525330),t=ds(t,r,i,s,e[4],7,-176418897),s=ds(s,t,r,i,e[5],12,1200080426),i=ds(i,s,t,r,e[6],17,-1473231341),r=ds(r,i,s,t,e[7],22,-45705983),t=ds(t,r,i,s,e[8],7,1770035416),s=ds(s,t,r,i,e[9],12,-1958414417),i=ds(i,s,t,r,e[10],17,-42063),r=ds(r,i,s,t,e[11],22,-1990404162),t=ds(t,r,i,s,e[12],7,1804603682),s=ds(s,t,r,i,e[13],12,-40341101),i=ds(i,s,t,r,e[14],17,-1502002290),t=hs(t,r=ds(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=hs(s,t,r,i,e[6],9,-1069501632),i=hs(i,s,t,r,e[11],14,643717713),r=hs(r,i,s,t,e[0],20,-373897302),t=hs(t,r,i,s,e[5],5,-701558691),s=hs(s,t,r,i,e[10],9,38016083),i=hs(i,s,t,r,e[15],14,-660478335),r=hs(r,i,s,t,e[4],20,-405537848),t=hs(t,r,i,s,e[9],5,568446438),s=hs(s,t,r,i,e[14],9,-1019803690),i=hs(i,s,t,r,e[3],14,-187363961),r=hs(r,i,s,t,e[8],20,1163531501),t=hs(t,r,i,s,e[13],5,-1444681467),s=hs(s,t,r,i,e[2],9,-51403784),i=hs(i,s,t,r,e[7],14,1735328473),t=ps(t,r=hs(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=ps(s,t,r,i,e[8],11,-2022574463),i=ps(i,s,t,r,e[11],16,1839030562),r=ps(r,i,s,t,e[14],23,-35309556),t=ps(t,r,i,s,e[1],4,-1530992060),s=ps(s,t,r,i,e[4],11,1272893353),i=ps(i,s,t,r,e[7],16,-155497632),r=ps(r,i,s,t,e[10],23,-1094730640),t=ps(t,r,i,s,e[13],4,681279174),s=ps(s,t,r,i,e[0],11,-358537222),i=ps(i,s,t,r,e[3],16,-722521979),r=ps(r,i,s,t,e[6],23,76029189),t=ps(t,r,i,s,e[9],4,-640364487),s=ps(s,t,r,i,e[12],11,-421815835),i=ps(i,s,t,r,e[15],16,530742520),t=ms(t,r=ps(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=ms(s,t,r,i,e[7],10,1126891415),i=ms(i,s,t,r,e[14],15,-1416354905),r=ms(r,i,s,t,e[5],21,-57434055),t=ms(t,r,i,s,e[12],6,1700485571),s=ms(s,t,r,i,e[3],10,-1894986606),i=ms(i,s,t,r,e[10],15,-1051523),r=ms(r,i,s,t,e[1],21,-2054922799),t=ms(t,r,i,s,e[8],6,1873313359),s=ms(s,t,r,i,e[15],10,-30611744),i=ms(i,s,t,r,e[6],15,-1560198380),r=ms(r,i,s,t,e[13],21,1309151649),t=ms(t,r,i,s,e[4],6,-145523070),s=ms(s,t,r,i,e[11],10,-1120210379),i=ms(i,s,t,r,e[2],15,718787259),r=ms(r,i,s,t,e[9],21,-343485551),n[0]=Rc(t,n[0]),n[1]=Rc(r,n[1]),n[2]=Rc(i,n[2]),n[3]=Rc(s,n[3])}function $0(n,e,t,r,i,s){return e=Rc(Rc(e,n),Rc(r,s)),Rc(e<<i|e>>>32-i,t)}function ds(n,e,t,r,i,s,o){return $0(e&t|~e&r,n,e,i,s,o)}function hs(n,e,t,r,i,s,o){return $0(e&r|t&~r,n,e,i,s,o)}function ps(n,e,t,r,i,s,o){return $0(e^t^r,n,e,i,s,o)}function ms(n,e,t,r,i,s,o){return $0(t^(e|~r),n,e,i,s,o)}function tT(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)R1(r,NV(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(R1(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,R1(r,i),r}function NV(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}Hp=Ht.atob.bind(Ht),K2=Ht.btoa.bind(Ht);var IS="0123456789abcdef".split("");function RV(n){for(var e="",t=0;t<4;t++)e+=IS[n>>8*t+4&15]+IS[n>>8*t&15];return e}function OV(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function Y2(n){return tT(n).map(OV).join("")}var MV=function(n){for(var e=0;e<n.length;e++)n[e]=RV(n[e]);return n.join("")}(tT("hello"))!="5d41402abc4b2a76b9719d911017c592";function Rc(n,e){if(MV){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function J2(n,e){var t,r,i,s;if(n!==t){for(var o=(i=n,s=1+(256/n.length>>0),new Array(s+1).join(i)),a=[],u=0;u<256;u++)a[u]=u;var f=0;for(u=0;u<256;u++){var d=a[u];f=(f+d+o.charCodeAt(u))%256,a[u]=a[f],a[f]=d}t=n,r=a}else a=r;var h=e.length,m=0,g=0,w="";for(u=0;u<h;u++)g=(g+(d=a[m=(m+1)%256]))%256,a[m]=a[g],a[g]=d,o=a[(a[m]+a[g])%256],w+=String.fromCharCode(e.charCodeAt(u)^o);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var NS={print:4,modify:8,copy:16,"annot-forms":32};function uh(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(a){if(NS.perm!==void 0)throw new Error("Invalid permission: "+a);i+=NS[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=Y2(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=J2(this.encryptionKey,this.padding)}function ch(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=n[r]}return e}function RS(n){if(ir(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(n,r)}catch(a){Ht.console&&ur.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Vv(n){if(!(this instanceof Vv))return new Vv(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function nT(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function $f(n,e,t,r,i){if(!(this instanceof $f))return new $f(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,nT.call(this,r,i)}function vh(n,e,t,r,i){if(!(this instanceof vh))return new vh(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,nT.call(this,r,i)}function zt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,u=16,f="S",d=null;ir(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(d=n.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),a=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(u=n.floatPrecision),f=n.defaultPathOperation||"S"),o=n.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",t=(""+(t||"P")).toLowerCase();var h=n.putOnlyUsedFonts||!1,m={},g={internal:{},__private__:{}};g.__private__.PubSub=RS;var w="1.3",_=g.__private__.getPdfVersion=function(){return w};g.__private__.setPdfVersion=function(A){w=A};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return x};var C=g.__private__.getPageFormat=function(A){return x[A]};i=i||"a4";var L={COMPAT:"compat",ADVANCED:"advanced"},j=L.COMPAT;function D(){this.saveGraphicsState(),me(new yt(ot,0,0,-ot,0,Si()*ot).toString()+" cm"),this.setFontSize(this.getFontSize()/ot),f="n",j=L.ADVANCED}function $(){this.restoreGraphicsState(),f="S",j=L.COMPAT}var H=g.__private__.combineFontStyleAndFontWeight=function(A,K){if(A=="bold"&&K=="normal"||A=="bold"&&K==400||A=="normal"&&K=="italic"||A=="bold"&&K=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return K&&(A=K==400||K==="normal"?A==="italic"?"italic":"normal":K!=700&&K!=="bold"||A!=="normal"?(K==700?"bold":K)+""+A:"bold"),A};g.advancedAPI=function(A){var K=j===L.COMPAT;return K&&D.call(this),typeof A!="function"||(A(this),K&&$.call(this)),this},g.compatAPI=function(A){var K=j===L.ADVANCED;return K&&$.call(this),typeof A!="function"||(A(this),K&&D.call(this)),this},g.isAdvancedAPI=function(){return j===L.ADVANCED};var R,I=function(A){if(j!==L.ADVANCED)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},N=g.roundToPrecision=g.__private__.roundToPrecision=function(A,K){var he=e||K;if(isNaN(A)||isNaN(he))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(he).replace(/0+$/,"")};R=g.hpf=g.__private__.hpf=typeof u=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return N(A,u)}:u==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return N(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return N(A,16)};var W=g.f2=g.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return N(A,2)},O=g.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return N(A,3)},P=g.scale=g.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return j===L.COMPAT?A*ot:j===L.ADVANCED?A:void 0},B=function(A){return j===L.COMPAT?Si()-A:j===L.ADVANCED?A:void 0},Y=function(A){return P(B(A))};g.__private__.setPrecision=g.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var ue,ae="00000000000000000000000000000000",le=g.__private__.getFileId=function(){return ae},te=g.__private__.setFileId=function(A){return ae=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(En=new uh(d.userPermissions,d.userPassword,d.ownerPassword,ae)),ae};g.setFileId=function(A){return te(A),this},g.getFileId=function(){return le()};var ce=g.__private__.convertDateToPDFDate=function(A){var K=A.getTimezoneOffset(),he=K<0?"+":"-",_e=Math.floor(Math.abs(K/60)),Pe=Math.abs(K%60),qe=[he,se(_e),"'",se(Pe),"'"].join("");return["D:",A.getFullYear(),se(A.getMonth()+1),se(A.getDate()),se(A.getHours()),se(A.getMinutes()),se(A.getSeconds()),qe].join("")},fe=g.__private__.convertPDFDateToDate=function(A){var K=parseInt(A.substr(2,4),10),he=parseInt(A.substr(6,2),10)-1,_e=parseInt(A.substr(8,2),10),Pe=parseInt(A.substr(10,2),10),qe=parseInt(A.substr(12,2),10),tt=parseInt(A.substr(14,2),10);return new Date(K,he,_e,Pe,qe,tt,0)},ne=g.__private__.setCreationDate=function(A){var K;if(A===void 0&&(A=new Date),A instanceof Date)K=ce(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");K=A}return ue=K},z=g.__private__.getCreationDate=function(A){var K=ue;return A==="jsDate"&&(K=fe(ue)),K};g.setCreationDate=function(A){return ne(A),this},g.getCreationDate=function(A){return z(A)};var J,se=g.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},Z=g.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},pe=0,ye=[],ve=[],we=0,Ie=[],Me=[],Be=!1,We=ve,ft=function(){pe=0,we=0,ve=[],ye=[],Ie=[],es=Fn(),Gn=Fn()};g.__private__.setCustomOutputDestination=function(A){Be=!0,We=A};var Te=function(A){Be||(We=A)};g.__private__.resetCustomOutputDestination=function(){Be=!1,We=ve};var me=g.__private__.out=function(A){return A=A.toString(),we+=A.length+1,We.push(A),We},St=g.__private__.write=function(A){return me(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},vt=g.__private__.getArrayBuffer=function(A){for(var K=A.length,he=new ArrayBuffer(K),_e=new Uint8Array(he);K--;)_e[K]=A.charCodeAt(K);return he},Je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Je};var st=n.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(A){return st=j===L.ADVANCED?A/ot:A,this};var Ce,Ne=g.__private__.getFontSize=g.getFontSize=function(){return j===L.COMPAT?st:st*ot},Ve=n.R2L||!1;g.__private__.setR2L=g.setR2L=function(A){return Ve=A,this},g.__private__.getR2L=g.getR2L=function(){return Ve};var Ze,ct=g.__private__.setZoomMode=function(A){var K=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))Ce=A;else if(isNaN(A)){if(K.indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');Ce=A}else Ce=parseInt(A,10)};g.__private__.getZoomMode=function(){return Ce};var nt,dt=g.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');Ze=A};g.__private__.getPageMode=function(){return Ze};var lt=g.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');nt=A};g.__private__.getLayoutMode=function(){return nt},g.__private__.setDisplayMode=g.setDisplayMode=function(A,K,he){return ct(A),lt(K),dt(he),this};var _t={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(A){if(Object.keys(_t).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return _t[A]},g.__private__.getDocumentProperties=function(){return _t},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(A){for(var K in _t)_t.hasOwnProperty(K)&&A[K]&&(_t[K]=A[K]);return this},g.__private__.setDocumentProperty=function(A,K){if(Object.keys(_t).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return _t[A]=K};var gt,ot,rn,Mt,Zn,qt={},Jt={},on=[],Rt={},Wt={},an={},dn={},Tt=null,$t=0,At=[],Ut=new RS(g),Hn=n.hotfixes||[],yn={},jn={},Zr=[],yt=function A(K,he,_e,Pe,qe,tt){if(!(this instanceof A))return new A(K,he,_e,Pe,qe,tt);isNaN(K)&&(K=1),isNaN(he)&&(he=0),isNaN(_e)&&(_e=0),isNaN(Pe)&&(Pe=1),isNaN(qe)&&(qe=0),isNaN(tt)&&(tt=0),this._matrix=[K,he,_e,Pe,qe,tt]};Object.defineProperty(yt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(yt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(yt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(yt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(yt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(yt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(yt.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(yt.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(yt.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(yt.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(yt.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(yt.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(yt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(yt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(yt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(yt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),yt.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(A)},yt.prototype.multiply=function(A){var K=A.sx*this.sx+A.shy*this.shx,he=A.sx*this.shy+A.shy*this.sy,_e=A.shx*this.sx+A.sy*this.shx,Pe=A.shx*this.shy+A.sy*this.sy,qe=A.tx*this.sx+A.ty*this.shx+this.tx,tt=A.tx*this.shy+A.ty*this.sy+this.ty;return new yt(K,he,_e,Pe,qe,tt)},yt.prototype.decompose=function(){var A=this.sx,K=this.shy,he=this.shx,_e=this.sy,Pe=this.tx,qe=this.ty,tt=Math.sqrt(A*A+K*K),pt=(A/=tt)*he+(K/=tt)*_e;he-=A*pt,_e-=K*pt;var y=Math.sqrt(he*he+_e*_e);return pt/=y,A*(_e/=y)<K*(he/=y)&&(A=-A,K=-K,pt=-pt,tt=-tt),{scale:new yt(tt,0,0,y,0,0),translate:new yt(1,0,0,1,Pe,qe),rotate:new yt(A,K,-K,A,0,0),skew:new yt(1,0,pt,1,0,0)}},yt.prototype.toString=function(A){return this.join(" ")},yt.prototype.inversed=function(){var A=this.sx,K=this.shy,he=this.shx,_e=this.sy,Pe=this.tx,qe=this.ty,tt=1/(A*_e-K*he),pt=_e*tt,y=-K*tt,M=-he*tt,q=A*tt;return new yt(pt,y,M,q,-pt*Pe-M*qe,-y*Pe-q*qe)},yt.prototype.applyToPoint=function(A){var K=A.x*this.sx+A.y*this.shx+this.tx,he=A.x*this.shy+A.y*this.sy+this.ty;return new ks(K,he)},yt.prototype.applyToRectangle=function(A){var K=this.applyToPoint(A),he=this.applyToPoint(new ks(A.x+A.w,A.y+A.h));return new Ao(K.x,K.y,he.x-K.x,he.y-K.y)},yt.prototype.clone=function(){var A=this.sx,K=this.shy,he=this.shx,_e=this.sy,Pe=this.tx,qe=this.ty;return new yt(A,K,he,_e,Pe,qe)},g.Matrix=yt;var It=g.matrixMult=function(A,K){return K.multiply(A)},Cr=new yt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Cr;var Ar=function(A,K){if(!Wt[A]){var he=(K instanceof $f?"Sh":"P")+(Object.keys(Rt).length+1).toString(10);K.id=he,Wt[A]=he,Rt[he]=K,Ut.publish("addPattern",K)}};g.ShadingPattern=$f,g.TilingPattern=vh,g.addShadingPattern=function(A,K){return I("addShadingPattern()"),Ar(A,K),this},g.beginTilingPattern=function(A){I("beginTilingPattern()"),pl(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},g.endTilingPattern=function(A,K){I("endTilingPattern()"),K.stream=Me[J].join(`
`),Ar(A,K),Ut.publish("endTilingPattern",K),Zr.pop().restore()};var er=g.__private__.newObject=function(){var A=Fn();return tr(A,!0),A},Fn=g.__private__.newObjectDeferred=function(){return pe++,ye[pe]=function(){return we},pe},tr=function(A,K){return K=typeof K=="boolean"&&K,ye[A]=we,K&&me(A+" 0 obj"),A},Us=g.__private__.newAdditionalObject=function(){var A={objId:Fn(),content:""};return Ie.push(A),A},es=Fn(),Gn=Fn(),wr=g.__private__.decodeColorString=function(A){var K=A.split(" ");if(K.length!==2||K[1]!=="g"&&K[1]!=="G")K.length===5&&(K[4]==="k"||K[4]==="K")&&(K=[(1-K[0])*(1-K[3]),(1-K[1])*(1-K[3]),(1-K[2])*(1-K[3]),"r"]);else{var he=parseFloat(K[0]);K=[he,he,he,"r"]}for(var _e="#",Pe=0;Pe<3;Pe++)_e+=("0"+Math.floor(255*parseFloat(K[Pe])).toString(16)).slice(-2);return _e},gn=g.__private__.encodeColorString=function(A){var K;typeof A=="string"&&(A={ch1:A});var he=A.ch1,_e=A.ch2,Pe=A.ch3,qe=A.ch4,tt=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof he=="string"&&he.charAt(0)!=="#"){var pt=new eT(he);if(pt.ok)he=pt.toHex();else if(!/^\d*\.?\d*$/.test(he))throw new Error('Invalid color "'+he+'" passed to jsPDF.encodeColorString.')}if(typeof he=="string"&&/^#[0-9A-Fa-f]{3}$/.test(he)&&(he="#"+he[1]+he[1]+he[2]+he[2]+he[3]+he[3]),typeof he=="string"&&/^#[0-9A-Fa-f]{6}$/.test(he)){var y=parseInt(he.substr(1),16);he=y>>16&255,_e=y>>8&255,Pe=255&y}if(_e===void 0||qe===void 0&&he===_e&&_e===Pe)if(typeof he=="string")K=he+" "+tt[0];else switch(A.precision){case 2:K=W(he/255)+" "+tt[0];break;case 3:default:K=O(he/255)+" "+tt[0]}else if(qe===void 0||ir(qe)==="object"){if(qe&&!isNaN(qe.a)&&qe.a===0)return K=["1.","1.","1.",tt[1]].join(" ");if(typeof he=="string")K=[he,_e,Pe,tt[1]].join(" ");else switch(A.precision){case 2:K=[W(he/255),W(_e/255),W(Pe/255),tt[1]].join(" ");break;default:case 3:K=[O(he/255),O(_e/255),O(Pe/255),tt[1]].join(" ")}}else if(typeof he=="string")K=[he,_e,Pe,qe,tt[2]].join(" ");else switch(A.precision){case 2:K=[W(he),W(_e),W(Pe),W(qe),tt[2]].join(" ");break;case 3:default:K=[O(he),O(_e),O(Pe),O(qe),tt[2]].join(" ")}return K},fr=g.__private__.getFilters=function(){return o},Sn=g.__private__.putStream=function(A){var K=(A=A||{}).data||"",he=A.filters||fr(),_e=A.alreadyAppliedFilters||[],Pe=A.addLength1||!1,qe=K.length,tt=A.objectId,pt=function(Xt){return Xt};if(d!==null&&tt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(pt=En.encryptor(tt,0));var y={};he===!0&&(he=["FlateEncode"]);var M=A.additionalKeyValues||[],q=(y=zt.API.processDataByFilters!==void 0?zt.API.processDataByFilters(K,he):{data:K,reverseChain:[]}).reverseChain+(Array.isArray(_e)?_e.join(" "):_e.toString());if(y.data.length!==0&&(M.push({key:"Length",value:y.data.length}),Pe===!0&&M.push({key:"Length1",value:qe})),q.length!=0)if(q.split("/").length-1==1)M.push({key:"Filter",value:q});else{M.push({key:"Filter",value:"["+q+"]"});for(var ie=0;ie<M.length;ie+=1)if(M[ie].key==="DecodeParms"){for(var Le=[],je=0;je<y.reverseChain.split("/").length-1;je+=1)Le.push("null");Le.push(M[ie].value),M[ie].value="["+Le.join(" ")+"]"}}me("<<");for(var rt=0;rt<M.length;rt++)me("/"+M[rt].key+" "+M[rt].value);me(">>"),y.data.length!==0&&(me("stream"),me(pt(y.data)),me("endstream"))},zr=g.__private__.putPage=function(A){var K=A.number,he=A.data,_e=A.objId,Pe=A.contentsObjId;tr(_e,!0),me("<</Type /Page"),me("/Parent "+A.rootDictionaryObjId+" 0 R"),me("/Resources "+A.resourceDictionaryObjId+" 0 R"),me("/MediaBox ["+parseFloat(R(A.mediaBox.bottomLeftX))+" "+parseFloat(R(A.mediaBox.bottomLeftY))+" "+R(A.mediaBox.topRightX)+" "+R(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&me("/CropBox ["+R(A.cropBox.bottomLeftX)+" "+R(A.cropBox.bottomLeftY)+" "+R(A.cropBox.topRightX)+" "+R(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&me("/BleedBox ["+R(A.bleedBox.bottomLeftX)+" "+R(A.bleedBox.bottomLeftY)+" "+R(A.bleedBox.topRightX)+" "+R(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&me("/TrimBox ["+R(A.trimBox.bottomLeftX)+" "+R(A.trimBox.bottomLeftY)+" "+R(A.trimBox.topRightX)+" "+R(A.trimBox.topRightY)+"]"),A.artBox!==null&&me("/ArtBox ["+R(A.artBox.bottomLeftX)+" "+R(A.artBox.bottomLeftY)+" "+R(A.artBox.topRightX)+" "+R(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&me("/UserUnit "+A.userUnit),Ut.publish("putPage",{objId:_e,pageContext:At[K],pageNumber:K,page:he}),me("/Contents "+Pe+" 0 R"),me(">>"),me("endobj");var qe=he.join(`
`);return j===L.ADVANCED&&(qe+=`
Q`),tr(Pe,!0),Sn({data:qe,filters:fr(),objectId:Pe}),me("endobj"),_e},ai=g.__private__.putPages=function(){var A,K,he=[];for(A=1;A<=$t;A++)At[A].objId=Fn(),At[A].contentsObjId=Fn();for(A=1;A<=$t;A++)he.push(zr({number:A,data:Me[A],objId:At[A].objId,contentsObjId:At[A].contentsObjId,mediaBox:At[A].mediaBox,cropBox:At[A].cropBox,bleedBox:At[A].bleedBox,trimBox:At[A].trimBox,artBox:At[A].artBox,userUnit:At[A].userUnit,rootDictionaryObjId:es,resourceDictionaryObjId:Gn}));tr(es,!0),me("<</Type /Pages");var _e="/Kids [";for(K=0;K<$t;K++)_e+=he[K]+" 0 R ";me(_e+"]"),me("/Count "+$t),me(">>"),me("endobj"),Ut.publish("postPutPages")},wo=function(A){Ut.publish("putFont",{font:A,out:me,newObject:er,putStream:Sn}),A.isAlreadyPutted!==!0&&(A.objectNumber=er(),me("<<"),me("/Type /Font"),me("/BaseFont /"+ch(A.postScriptName)),me("/Subtype /Type1"),typeof A.encoding=="string"&&me("/Encoding /"+A.encoding),me("/FirstChar 32"),me("/LastChar 255"),me(">>"),me("endobj"))},_o=function(){for(var A in qt)qt.hasOwnProperty(A)&&(h===!1||h===!0&&m.hasOwnProperty(A))&&wo(qt[A])},Go=function(A){A.objectNumber=er();var K=[];K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Form"}),K.push({key:"BBox",value:"["+[R(A.x),R(A.y),R(A.x+A.width),R(A.y+A.height)].join(" ")+"]"}),K.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var he=A.pages[1].join(`
`);Sn({data:he,additionalKeyValues:K,objectId:A.objectNumber}),me("endobj")},Sa=function(){for(var A in yn)yn.hasOwnProperty(A)&&Go(yn[A])},Bu=function(A,K){var he,_e=[],Pe=1/(K-1);for(he=0;he<1;he+=Pe)_e.push(he);if(_e.push(1),A[0].offset!=0){var qe={offset:0,color:A[0].color};A.unshift(qe)}if(A[A.length-1].offset!=1){var tt={offset:1,color:A[A.length-1].color};A.push(tt)}for(var pt="",y=0,M=0;M<_e.length;M++){for(he=_e[M];he>A[y+1].offset;)y++;var q=A[y].offset,ie=(he-q)/(A[y+1].offset-q),Le=A[y].color,je=A[y+1].color;pt+=Z(Math.round((1-ie)*Le[0]+ie*je[0]).toString(16))+Z(Math.round((1-ie)*Le[1]+ie*je[1]).toString(16))+Z(Math.round((1-ie)*Le[2]+ie*je[2]).toString(16))}return pt.trim()},Kn=function(A,K){K||(K=21);var he=er(),_e=Bu(A.colors,K),Pe=[];Pe.push({key:"FunctionType",value:"0"}),Pe.push({key:"Domain",value:"[0.0 1.0]"}),Pe.push({key:"Size",value:"["+K+"]"}),Pe.push({key:"BitsPerSample",value:"8"}),Pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Sn({data:_e,additionalKeyValues:Pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:he}),me("endobj"),A.objectNumber=er(),me("<< /ShadingType "+A.type),me("/ColorSpace /DeviceRGB");var qe="/Coords ["+R(parseFloat(A.coords[0]))+" "+R(parseFloat(A.coords[1]))+" ";A.type===2?qe+=R(parseFloat(A.coords[2]))+" "+R(parseFloat(A.coords[3])):qe+=R(parseFloat(A.coords[2]))+" "+R(parseFloat(A.coords[3]))+" "+R(parseFloat(A.coords[4]))+" "+R(parseFloat(A.coords[5])),me(qe+="]"),A.matrix&&me("/Matrix ["+A.matrix.toString()+"]"),me("/Function "+he+" 0 R"),me("/Extend [true true]"),me(">>"),me("endobj")},Vu=function(A,K){var he=Fn(),_e=er();K.push({resourcesOid:he,objectOid:_e}),A.objectNumber=_e;var Pe=[];Pe.push({key:"Type",value:"/Pattern"}),Pe.push({key:"PatternType",value:"1"}),Pe.push({key:"PaintType",value:"1"}),Pe.push({key:"TilingType",value:"1"}),Pe.push({key:"BBox",value:"["+A.boundingBox.map(R).join(" ")+"]"}),Pe.push({key:"XStep",value:R(A.xStep)}),Pe.push({key:"YStep",value:R(A.yStep)}),Pe.push({key:"Resources",value:he+" 0 R"}),A.matrix&&Pe.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),Sn({data:A.stream,additionalKeyValues:Pe,objectId:A.objectNumber}),me("endobj")},zs=function(A){var K;for(K in Rt)Rt.hasOwnProperty(K)&&(Rt[K]instanceof $f?Kn(Rt[K]):Rt[K]instanceof vh&&Vu(Rt[K],A))},bo=function(A){for(var K in A.objectNumber=er(),me("<<"),A)switch(K){case"opacity":me("/ca "+W(A[K]));break;case"stroke-opacity":me("/CA "+W(A[K]))}me(">>"),me("endobj")},ts=function(){var A;for(A in an)an.hasOwnProperty(A)&&bo(an[A])},Ea=function(){for(var A in me("/XObject <<"),yn)yn.hasOwnProperty(A)&&yn[A].objectNumber>=0&&me("/"+A+" "+yn[A].objectNumber+" 0 R");Ut.publish("putXobjectDict"),me(">>")},Uu=function(){En.oid=er(),me("<<"),me("/Filter /Standard"),me("/V "+En.v),me("/R "+En.r),me("/U <"+En.toHexString(En.U)+">"),me("/O <"+En.toHexString(En.O)+">"),me("/P "+En.P),me(">>"),me("endobj")},Ko=function(){for(var A in me("/Font <<"),qt)qt.hasOwnProperty(A)&&(h===!1||h===!0&&m.hasOwnProperty(A))&&me("/"+A+" "+qt[A].objectNumber+" 0 R");me(">>")},Di=function(){if(Object.keys(Rt).length>0){for(var A in me("/Shading <<"),Rt)Rt.hasOwnProperty(A)&&Rt[A]instanceof $f&&Rt[A].objectNumber>=0&&me("/"+A+" "+Rt[A].objectNumber+" 0 R");Ut.publish("putShadingPatternDict"),me(">>")}},Ca=function(A){if(Object.keys(Rt).length>0){for(var K in me("/Pattern <<"),Rt)Rt.hasOwnProperty(K)&&Rt[K]instanceof g.TilingPattern&&Rt[K].objectNumber>=0&&Rt[K].objectNumber<A&&me("/"+K+" "+Rt[K].objectNumber+" 0 R");Ut.publish("putTilingPatternDict"),me(">>")}},li=function(){if(Object.keys(an).length>0){var A;for(A in me("/ExtGState <<"),an)an.hasOwnProperty(A)&&an[A].objectNumber>=0&&me("/"+A+" "+an[A].objectNumber+" 0 R");Ut.publish("putGStateDict"),me(">>")}},sr=function(A){tr(A.resourcesOid,!0),me("<<"),me("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ko(),Di(),Ca(A.objectOid),li(),Ea(),me(">>"),me("endobj")},Yl=function(){var A=[];_o(),ts(),Sa(),zs(A),Ut.publish("putResources"),A.forEach(sr),sr({resourcesOid:Gn,objectOid:Number.MAX_SAFE_INTEGER}),Ut.publish("postPutResources")},Jl=function(){Ut.publish("putAdditionalObjects");for(var A=0;A<Ie.length;A++){var K=Ie[A];tr(K.objId,!0),me(K.content),me("endobj")}Ut.publish("postPutAdditionalObjects")},Aa=function(A){Jt[A.fontName]=Jt[A.fontName]||{},Jt[A.fontName][A.fontStyle]=A.id},Yo=function(A,K,he,_e,Pe){var qe={id:"F"+(Object.keys(qt).length+1).toString(10),postScriptName:A,fontName:K,fontStyle:he,encoding:_e,isStandardFont:Pe||!1,metadata:{}};return Ut.publish("addFont",{font:qe,instance:this}),qt[qe.id]=qe,Aa(qe),qe.id},Jo=function(A){for(var K=0,he=Je.length;K<he;K++){var _e=Yo.call(this,A[K][0],A[K][1],A[K][2],Je[K][3],!0);h===!1&&(m[_e]=!0);var Pe=A[K][0].split("-");Aa({id:_e,fontName:Pe[0],fontStyle:Pe[1]||""})}Ut.publish("addFonts",{fonts:qt,dictionary:Jt})},ui=function(A){return A.foo=function(){try{return A.apply(this,arguments)}catch(_e){var K=_e.stack||"";~K.indexOf(" at ")&&(K=K.split(" at ")[1]);var he="Error in function "+K.split(`
`)[0].split("<")[0]+": "+_e.message;if(!Ht.console)throw new Error(he);Ht.console.error(he,_e),Ht.alert&&alert(he)}},A.foo.bar=A,A.foo},ul=function(A,K){var he,_e,Pe,qe,tt,pt,y,M,q;if(Pe=(K=K||{}).sourceEncoding||"Unicode",tt=K.outputEncoding,(K.autoencode||tt)&&qt[gt].metadata&&qt[gt].metadata[Pe]&&qt[gt].metadata[Pe].encoding&&(qe=qt[gt].metadata[Pe].encoding,!tt&&qt[gt].encoding&&(tt=qt[gt].encoding),!tt&&qe.codePages&&(tt=qe.codePages[0]),typeof tt=="string"&&(tt=qe[tt]),tt)){for(y=!1,pt=[],he=0,_e=A.length;he<_e;he++)(M=tt[A.charCodeAt(he)])?pt.push(String.fromCharCode(M)):pt.push(A[he]),pt[he].charCodeAt(0)>>8&&(y=!0);A=pt.join("")}for(he=A.length;y===void 0&&he!==0;)A.charCodeAt(he-1)>>8&&(y=!0),he--;if(!y)return A;for(pt=K.noBOM?[]:[254,255],he=0,_e=A.length;he<_e;he++){if((q=(M=A.charCodeAt(he))>>8)>>8)throw new Error("Character at position "+he+" of string '"+A+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");pt.push(q),pt.push(M-(q<<8))}return String.fromCharCode.apply(void 0,pt)},_r=g.__private__.pdfEscape=g.pdfEscape=function(A,K){return ul(A,K).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ci=g.__private__.beginPage=function(A){Me[++$t]=[],At[$t]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},xo($t),Te(Me[J])},Xo=function(A,K){var he,_e,Pe;switch(t=K||t,typeof A=="string"&&(he=C(A.toLowerCase()),Array.isArray(he)&&(_e=he[0],Pe=he[1])),Array.isArray(A)&&(_e=A[0]*ot,Pe=A[1]*ot),isNaN(_e)&&(_e=i[0],Pe=i[1]),(_e>14400||Pe>14400)&&(ur.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),_e=Math.min(14400,_e),Pe=Math.min(14400,Pe)),i=[_e,Pe],t.substr(0,1)){case"l":Pe>_e&&(i=[Pe,_e]);break;case"p":_e>Pe&&(i=[Pe,_e])}ci(i),na(Ql),me(Rr),eu!==0&&me(eu+" J"),ra!==0&&me(ra+" j"),Ut.publish("addPage",{pageNumber:$t})},Qo=function(A){A>0&&A<=$t&&(Me.splice(A,1),At.splice(A,1),$t--,J>$t&&(J=$t),this.setPage(J))},xo=function(A){A>0&&A<=$t&&(J=A)},Bn=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Me.length-1},So=function(A,K,he){var _e,Pe=void 0;return he=he||{},A=A!==void 0?A:qt[gt].fontName,K=K!==void 0?K:qt[gt].fontStyle,_e=A.toLowerCase(),Jt[_e]!==void 0&&Jt[_e][K]!==void 0?Pe=Jt[_e][K]:Jt[A]!==void 0&&Jt[A][K]!==void 0?Pe=Jt[A][K]:he.disableWarning===!1&&ur.warn("Unable to look up font label for font '"+A+"', '"+K+"'. Refer to getFontList() for available fonts."),Pe||he.noFallback||(Pe=Jt.times[K])==null&&(Pe=Jt.times.normal),Pe},fn=g.__private__.putInfo=function(){var A=er(),K=function(_e){return _e};for(var he in d!==null&&(K=En.encryptor(A,0)),me("<<"),me("/Producer ("+_r(K("jsPDF "+zt.version))+")"),_t)_t.hasOwnProperty(he)&&_t[he]&&me("/"+he.substr(0,1).toUpperCase()+he.substr(1)+" ("+_r(K(_t[he]))+")");me("/CreationDate ("+_r(K(ue))+")"),me(">>"),me("endobj")},$s=g.__private__.putCatalog=function(A){var K=(A=A||{}).rootDictionaryObjId||es;switch(er(),me("<<"),me("/Type /Catalog"),me("/Pages "+K+" 0 R"),Ce||(Ce="fullwidth"),Ce){case"fullwidth":me("/OpenAction [3 0 R /FitH null]");break;case"fullheight":me("/OpenAction [3 0 R /FitV null]");break;case"fullpage":me("/OpenAction [3 0 R /Fit]");break;case"original":me("/OpenAction [3 0 R /XYZ null null 1]");break;default:var he=""+Ce;he.substr(he.length-1)==="%"&&(Ce=parseInt(Ce)/100),typeof Ce=="number"&&me("/OpenAction [3 0 R /XYZ null null "+W(Ce)+"]")}switch(nt||(nt="continuous"),nt){case"continuous":me("/PageLayout /OneColumn");break;case"single":me("/PageLayout /SinglePage");break;case"two":case"twoleft":me("/PageLayout /TwoColumnLeft");break;case"tworight":me("/PageLayout /TwoColumnRight")}Ze&&me("/PageMode /"+Ze),Ut.publish("putCatalog"),me(">>"),me("endobj")},zu=g.__private__.putTrailer=function(){me("trailer"),me("<<"),me("/Size "+(pe+1)),me("/Root "+pe+" 0 R"),me("/Info "+(pe-1)+" 0 R"),d!==null&&me("/Encrypt "+En.oid+" 0 R"),me("/ID [ <"+ae+"> <"+ae+"> ]"),me(">>")},cl=g.__private__.putHeader=function(){me("%PDF-"+w),me("%")},$u=g.__private__.putXRef=function(){var A="0000000000";me("xref"),me("0 "+(pe+1)),me("0000000000 65535 f ");for(var K=1;K<=pe;K++)typeof ye[K]=="function"?me((A+ye[K]()).slice(-10)+" 00000 n "):ye[K]!==void 0?me((A+ye[K]).slice(-10)+" 00000 n "):me("0000000000 00000 n ")},qs=g.__private__.buildDocument=function(){ft(),Te(ve),Ut.publish("buildDocument"),cl(),ai(),Jl(),Yl(),d!==null&&Uu(),fn(),$s();var A=we;return $u(),zu(),me("startxref"),me(""+A),me("%%EOF"),Te(Me[J]),ve.join(`
`)},La=g.__private__.getBlob=function(A){return new Blob([vt(A)],{type:"application/pdf"})},Zo=g.output=g.__private__.output=ui(function(A,K){switch(typeof(K=K||{})=="string"?K={filename:K}:K.filename=K.filename||"generated.pdf",A){case void 0:return qs();case"save":g.save(K.filename);break;case"arraybuffer":return vt(qs());case"blob":return La(qs());case"bloburi":case"bloburl":if(Ht.URL!==void 0&&typeof Ht.URL.createObjectURL=="function")return Ht.URL&&Ht.URL.createObjectURL(La(qs()))||void 0;ur.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var he="",_e=qs();try{he=K2(_e)}catch{he=K2(unescape(encodeURIComponent(_e)))}return"data:application/pdf;filename="+K.filename+";base64,"+he;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ht)==="[object Window]"){var Pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';K.pdfObjectUrl&&(Pe=K.pdfObjectUrl,qe="");var tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Pe+'"'+qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(K)+");<\/script></body></html>",pt=Ht.open();return pt!==null&&pt.document.write(tt),pt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ht)==="[object Window]"){var y='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(K.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+K.filename+'" width="500px" height="400px" /></body></html>',M=Ht.open();if(M!==null){M.document.write(y);var q=this;M.document.documentElement.querySelector("#pdfViewer").onload=function(){M.document.title=K.filename,M.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(q.output("bloburl"))}}return M}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ht)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ie='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",K)+'"></iframe></body></html>',Le=Ht.open();if(Le!==null&&(Le.document.write(ie),Le.document.title=K.filename),Le||typeof safari>"u")return Le;break;case"datauri":case"dataurl":return Ht.document.location.href=this.output("datauristring",K);default:return null}}),Es=function(A){return Array.isArray(Hn)===!0&&Hn.indexOf(A)>-1};switch(r){case"pt":ot=1;break;case"mm":ot=72/25.4;break;case"cm":ot=72/2.54;break;case"in":ot=72;break;case"px":ot=Es("px_scaling")==1?.75:96/72;break;case"pc":case"em":ot=12;break;case"ex":ot=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ot=r}var En=null;ne(),te();var Cs=function(A){return d!==null?En.encryptor(A,0):function(K){return K}},ns=g.__private__.getPageInfo=g.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:At[A].objId,pageNumber:A,pageContext:At[A]}},jt=g.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var K in At)if(At[K].objId===A)break;return ns(K)},rs=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:At[J].objId,pageNumber:J,pageContext:At[J]}};g.addPage=function(){return Xo.apply(this,arguments),this},g.setPage=function(){return xo.apply(this,arguments),Te.call(this,Me[J]),this},g.insertPage=function(A){return this.addPage(),this.movePage(J,A),this},g.movePage=function(A,K){var he,_e;if(A>K){he=Me[A],_e=At[A];for(var Pe=A;Pe>K;Pe--)Me[Pe]=Me[Pe-1],At[Pe]=At[Pe-1];Me[K]=he,At[K]=_e,this.setPage(K)}else if(A<K){he=Me[A],_e=At[A];for(var qe=A;qe<K;qe++)Me[qe]=Me[qe+1],At[qe]=At[qe+1];Me[K]=he,At[K]=_e,this.setPage(K)}return this},g.deletePage=function(){return Qo.apply(this,arguments),this},g.__private__.text=g.text=function(A,K,he,_e,Pe){var qe,tt,pt,y,M,q,ie,Le,je,rt=(_e=_e||{}).scope||this;if(typeof A=="number"&&typeof K=="number"&&(typeof he=="string"||Array.isArray(he))){var Xt=he;he=K,K=A,A=Xt}if(arguments[3]instanceof yt?(I("The transform parameter of text() with a Matrix value"),je=Pe):(pt=arguments[4],y=arguments[5],ir(ie=arguments[3])==="object"&&ie!==null||(typeof pt=="string"&&(y=pt,pt=null),typeof ie=="string"&&(y=ie,ie=null),typeof ie=="number"&&(pt=ie,ie=null),_e={flags:ie,angle:pt,align:y})),isNaN(K)||isNaN(he)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return rt;var hn="",Qt=!1,Nn=typeof _e.lineHeightFactor=="number"?_e.lineHeightFactor:In,Vn=rt.internal.scaleFactor;function Bi(nr){return nr=nr.split("	").join(Array(_e.TabLen||9).join(" ")),_r(nr,ie)}function hi(nr){for(var Un,Sr=nr.concat(),Or=[],aa=Sr.length;aa--;)typeof(Un=Sr.shift())=="string"?Or.push(Un):Array.isArray(nr)&&(Un.length===1||Un[1]===void 0&&Un[2]===void 0)?Or.push(Un[0]):Or.push([Un[0],Un[1],Un[2]]);return Or}function ko(nr,Un){var Sr;if(typeof nr=="string")Sr=Un(nr)[0];else if(Array.isArray(nr)){for(var Or,aa,tc=nr.concat(),au=[],gf=tc.length;gf--;)typeof(Or=tc.shift())=="string"?au.push(Un(Or)[0]):Array.isArray(Or)&&typeof Or[0]=="string"&&(aa=Un(Or[0],Or[1],Or[2]),au.push([aa[0],aa[1],aa[2]]));Sr=au}return Sr}var Po=!1,Hu=!0;if(typeof A=="string")Po=!0;else if(Array.isArray(A)){var Gu=A.concat();tt=[];for(var tu,xr=Gu.length;xr--;)(typeof(tu=Gu.shift())!="string"||Array.isArray(tu)&&typeof tu[0]!="string")&&(Hu=!1);Po=Hu}if(Po===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var Ku=st/rt.internal.scaleFactor,Yu=Ku*(Nn-1);switch(_e.baseline){case"bottom":he-=Yu;break;case"top":he+=Ku-Yu;break;case"hanging":he+=Ku-2*Yu;break;case"middle":he+=Ku/2-Yu}if((q=_e.maxWidth||0)>0&&(typeof A=="string"?A=rt.splitTextToSize(A,q):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(nr,Un){return nr.concat(rt.splitTextToSize(Un,q))},[]))),qe={text:A,x:K,y:he,options:_e,mutex:{pdfEscape:_r,activeFontKey:gt,fonts:qt,activeFontSize:st}},Ut.publish("preProcessText",qe),A=qe.text,pt=(_e=qe.options).angle,!(je instanceof yt)&&pt&&typeof pt=="number"){pt*=Math.PI/180,_e.rotationDirection===0&&(pt=-pt),j===L.ADVANCED&&(pt=-pt);var Ju=Math.cos(pt),Xu=Math.sin(pt);je=new yt(Ju,Xu,-Xu,Ju,0,0)}else pt&&pt instanceof yt&&(je=pt);j!==L.ADVANCED||je||(je=Cr),(M=_e.charSpace||Co)!==void 0&&(hn+=R(P(M))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Le=_e.horizontalScale)!==void 0&&(hn+=R(100*Le)+` Tz
`),_e.lang;var Vi=-1,nu=_e.renderingMode!==void 0?_e.renderingMode:_e.stroke,Ia=rt.internal.getCurrentPageInfo().pageContext;switch(nu){case 0:case!1:case"fill":Vi=0;break;case 1:case!0:case"stroke":Vi=1;break;case 2:case"fillThenStroke":Vi=2;break;case 3:case"invisible":Vi=3;break;case 4:case"fillAndAddForClipping":Vi=4;break;case 5:case"strokeAndAddPathForClipping":Vi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Vi=6;break;case 7:case"addToPathForClipping":Vi=7}var Id=Ia.usedRenderingMode!==void 0?Ia.usedRenderingMode:-1;Vi!==-1?hn+=Vi+` Tr
`:Id!==-1&&(hn+=`0 Tr
`),Vi!==-1&&(Ia.usedRenderingMode=Vi),y=_e.align||"left";var Ui,Qu=st*Nn,pf=rt.internal.pageSize.getWidth(),Zu=qt[gt];M=_e.charSpace||Co,q=_e.maxWidth||0,ie=Object.assign({autoencode:!0,noBOM:!0},_e.flags);var sa=[],vl=function(nr){return rt.getStringUnitWidth(nr,{font:Zu,charSpace:M,fontSize:st,doKerning:!1})*st/Vn};if(Object.prototype.toString.call(A)==="[object Array]"){var zi;tt=hi(A),y!=="left"&&(Ui=tt.map(vl));var Ei,yl=0;if(y==="right"){K-=Ui[0],A=[],xr=tt.length;for(var Na=0;Na<xr;Na++)Na===0?(Ei=Fi(K),zi=br(he)):(Ei=P(yl-Ui[Na]),zi=-Qu),A.push([tt[Na],Ei,zi]),yl=Ui[Na]}else if(y==="center"){K-=Ui[0]/2,A=[],xr=tt.length;for(var Ra=0;Ra<xr;Ra++)Ra===0?(Ei=Fi(K),zi=br(he)):(Ei=P((yl-Ui[Ra])/2),zi=-Qu),A.push([tt[Ra],Ei,zi]),yl=Ui[Ra]}else if(y==="left"){A=[],xr=tt.length;for(var ec=0;ec<xr;ec++)A.push(tt[ec])}else if(y==="justify"&&Zu.encoding==="Identity-H"){A=[],xr=tt.length,q=q!==0?q:pf;for(var Oa=0,Pn=0;Pn<xr;Pn++)if(zi=Pn===0?br(he):-Qu,Ei=Pn===0?Fi(K):Oa,Pn<xr-1){var Ma=P((q-Ui[Pn])/(tt[Pn].split(" ").length-1)),Ci=tt[Pn].split(" ");A.push([Ci[0]+" ",Ei,zi]),Oa=0;for(var Ps=1;Ps<Ci.length;Ps++){var ru=(vl(Ci[Ps-1]+" "+Ci[Ps])-vl(Ci[Ps]))*Vn+Ma;Ps==Ci.length-1?A.push([Ci[Ps],ru,0]):A.push([Ci[Ps]+" ",ru,0]),Oa-=ru}}else A.push([tt[Pn],Ei,zi]);A.push(["",Oa,0])}else{if(y!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],xr=tt.length,q=q!==0?q:pf,Pn=0;Pn<xr;Pn++)zi=Pn===0?br(he):-Qu,Ei=Pn===0?Fi(K):0,Pn<xr-1?sa.push(R(P((q-Ui[Pn])/(tt[Pn].split(" ").length-1)))):sa.push(0),A.push([tt[Pn],Ei,zi])}}var mf=typeof _e.R2L=="boolean"?_e.R2L:Ve;mf===!0&&(A=ko(A,function(nr,Un,Sr){return[nr.split("").reverse().join(""),Un,Sr]})),qe={text:A,x:K,y:he,options:_e,mutex:{pdfEscape:_r,activeFontKey:gt,fonts:qt,activeFontSize:st}},Ut.publish("postProcessText",qe),A=qe.text,Qt=qe.mutex.isHex||!1;var iu=qt[gt].encoding;iu!=="WinAnsiEncoding"&&iu!=="StandardEncoding"||(A=ko(A,function(nr,Un,Sr){return[Bi(nr),Un,Sr]})),tt=hi(A),A=[];for(var su,ou,Ts,Da=0,oa=1,ja=Array.isArray(tt[0])?oa:Da,Fa="",wl=function(nr,Un,Sr){var Or="";return Sr instanceof yt?(Sr=typeof _e.angle=="number"?It(Sr,new yt(1,0,0,1,nr,Un)):It(new yt(1,0,0,1,nr,Un),Sr),j===L.ADVANCED&&(Sr=It(new yt(1,0,0,-1,0,0),Sr)),Or=Sr.join(" ")+` Tm
`):Or=R(nr)+" "+R(Un)+` Td
`,Or},pi=0;pi<tt.length;pi++){switch(Fa="",ja){case oa:Ts=(Qt?"<":"(")+tt[pi][0]+(Qt?">":")"),su=parseFloat(tt[pi][1]),ou=parseFloat(tt[pi][2]);break;case Da:Ts=(Qt?"<":"(")+tt[pi]+(Qt?">":")"),su=Fi(K),ou=br(he)}sa!==void 0&&sa[pi]!==void 0&&(Fa=sa[pi]+` Tw
`),pi===0?A.push(Fa+wl(su,ou,je)+Ts):ja===Da?A.push(Fa+Ts):ja===oa&&A.push(Fa+wl(su,ou,je)+Ts)}A=ja===Da?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var is=`BT
/`;return is+=gt+" "+st+` Tf
`,is+=R(st*Nn)+` TL
`,is+=dr+`
`,is+=hn,is+=A,me(is+="ET"),m[gt]=!0,rt};var Ws=g.__private__.clip=g.clip=function(A){return me(A==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Ws("evenodd")},g.__private__.discardPath=g.discardPath=function(){return me("n"),this};var Hs=g.__private__.isValidStyle=function(A){var K=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(K=!0),K};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(A){return Hs(A)&&(f=A),this};var Xl=g.__private__.getStyle=g.getStyle=function(A){var K=f;switch(A){case"D":case"S":K="S";break;case"F":K="f";break;case"FD":case"DF":K="B";break;case"f":case"f*":case"B":case"B*":K=A}return K},fi=g.close=function(){return me("h"),this};g.stroke=function(){return me("S"),this},g.fill=function(A){return fl("f",A),this},g.fillEvenOdd=function(A){return fl("f*",A),this},g.fillStroke=function(A){return fl("B",A),this},g.fillStrokeEvenOdd=function(A){return fl("B*",A),this};var fl=function(A,K){ir(K)==="object"?ka(K,A):me(A)},dl=function(A){A===null||j===L.ADVANCED&&A===void 0||(A=Xl(A),me(A))};function Eo(A,K,he,_e,Pe){var qe=new vh(K||this.boundingBox,he||this.xStep,_e||this.yStep,this.gState,Pe||this.matrix);qe.stream=this.stream;var tt=A+"$$"+this.cloneIndex+++"$$";return Ar(tt,qe),qe}var ka=function(A,K){var he=Wt[A.key],_e=Rt[he];if(_e instanceof $f)me("q"),me(qu(K)),_e.gState&&g.setGState(_e.gState),me(A.matrix.toString()+" cm"),me("/"+he+" sh"),me("Q");else if(_e instanceof vh){var Pe=new yt(1,0,0,-1,0,Si());A.matrix&&(Pe=Pe.multiply(A.matrix||Cr),he=Eo.call(_e,A.key,A.boundingBox,A.xStep,A.yStep,Pe).id),me("q"),me("/Pattern cs"),me("/"+he+" scn"),_e.gState&&g.setGState(_e.gState),me(K),me("Q")}},qu=function(A){switch(A){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ji=g.moveTo=function(A,K){return me(R(P(A))+" "+R(Y(K))+" m"),this},di=g.lineTo=function(A,K){return me(R(P(A))+" "+R(Y(K))+" l"),this},bi=g.curveTo=function(A,K,he,_e,Pe,qe){return me([R(P(A)),R(Y(K)),R(P(he)),R(Y(_e)),R(P(Pe)),R(Y(qe)),"c"].join(" ")),this};g.__private__.line=g.line=function(A,K,he,_e,Pe){if(isNaN(A)||isNaN(K)||isNaN(he)||isNaN(_e)||!Hs(Pe))throw new Error("Invalid arguments passed to jsPDF.line");return j===L.COMPAT?this.lines([[he-A,_e-K]],A,K,[1,1],Pe||"S"):this.lines([[he-A,_e-K]],A,K,[1,1]).stroke()},g.__private__.lines=g.lines=function(A,K,he,_e,Pe,qe){var tt,pt,y,M,q,ie,Le,je,rt,Xt,hn,Qt;if(typeof A=="number"&&(Qt=he,he=K,K=A,A=Qt),_e=_e||[1,1],qe=qe||!1,isNaN(K)||isNaN(he)||!Array.isArray(A)||!Array.isArray(_e)||!Hs(Pe)||typeof qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ji(K,he),tt=_e[0],pt=_e[1],M=A.length,Xt=K,hn=he,y=0;y<M;y++)(q=A[y]).length===2?(Xt=q[0]*tt+Xt,hn=q[1]*pt+hn,di(Xt,hn)):(ie=q[0]*tt+Xt,Le=q[1]*pt+hn,je=q[2]*tt+Xt,rt=q[3]*pt+hn,Xt=q[4]*tt+Xt,hn=q[5]*pt+hn,bi(ie,Le,je,rt,Xt,hn));return qe&&fi(),dl(Pe),this},g.path=function(A){for(var K=0;K<A.length;K++){var he=A[K],_e=he.c;switch(he.op){case"m":ji(_e[0],_e[1]);break;case"l":di(_e[0],_e[1]);break;case"c":bi.apply(this,_e);break;case"h":fi()}}return this},g.__private__.rect=g.rect=function(A,K,he,_e,Pe){if(isNaN(A)||isNaN(K)||isNaN(he)||isNaN(_e)||!Hs(Pe))throw new Error("Invalid arguments passed to jsPDF.rect");return j===L.COMPAT&&(_e=-_e),me([R(P(A)),R(Y(K)),R(P(he)),R(P(_e)),"re"].join(" ")),dl(Pe),this},g.__private__.triangle=g.triangle=function(A,K,he,_e,Pe,qe,tt){if(isNaN(A)||isNaN(K)||isNaN(he)||isNaN(_e)||isNaN(Pe)||isNaN(qe)||!Hs(tt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[he-A,_e-K],[Pe-he,qe-_e],[A-Pe,K-qe]],A,K,[1,1],tt,!0),this},g.__private__.roundedRect=g.roundedRect=function(A,K,he,_e,Pe,qe,tt){if(isNaN(A)||isNaN(K)||isNaN(he)||isNaN(_e)||isNaN(Pe)||isNaN(qe)||!Hs(tt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var pt=4/3*(Math.SQRT2-1);return Pe=Math.min(Pe,.5*he),qe=Math.min(qe,.5*_e),this.lines([[he-2*Pe,0],[Pe*pt,0,Pe,qe-qe*pt,Pe,qe],[0,_e-2*qe],[0,qe*pt,-Pe*pt,qe,-Pe,qe],[2*Pe-he,0],[-Pe*pt,0,-Pe,-qe*pt,-Pe,-qe],[0,2*qe-_e],[0,-qe*pt,Pe*pt,-qe,Pe,-qe]],A+Pe,K,[1,1],tt,!0),this},g.__private__.ellipse=g.ellipse=function(A,K,he,_e,Pe){if(isNaN(A)||isNaN(K)||isNaN(he)||isNaN(_e)||!Hs(Pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var qe=4/3*(Math.SQRT2-1)*he,tt=4/3*(Math.SQRT2-1)*_e;return ji(A+he,K),bi(A+he,K-tt,A+qe,K-_e,A,K-_e),bi(A-qe,K-_e,A-he,K-tt,A-he,K),bi(A-he,K+tt,A-qe,K+_e,A,K+_e),bi(A+qe,K+_e,A+he,K+tt,A+he,K),dl(Pe),this},g.__private__.circle=g.circle=function(A,K,he,_e){if(isNaN(A)||isNaN(K)||isNaN(he)||!Hs(_e))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,K,he,he,_e)},g.setFont=function(A,K,he){return he&&(K=H(K,he)),gt=So(A,K,{disableWarning:!1}),this};var ea=g.__private__.getFont=g.getFont=function(){return qt[So.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var A,K,he={};for(A in Jt)if(Jt.hasOwnProperty(A))for(K in he[A]=[],Jt[A])Jt[A].hasOwnProperty(K)&&he[A].push(K);return he},g.addFont=function(A,K,he,_e,Pe){var qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&qe.indexOf(arguments[3])!==-1?Pe=arguments[3]:arguments[3]&&qe.indexOf(arguments[3])==-1&&(he=H(he,_e)),Pe=Pe||"Identity-H",Yo.call(this,A,K,he,Pe)};var In,Ql=n.lineWidth||.200025,ta=g.__private__.getLineWidth=g.getLineWidth=function(){return Ql},na=g.__private__.setLineWidth=g.setLineWidth=function(A){return Ql=A,me(R(P(A))+" w"),this};g.__private__.setLineDash=zt.API.setLineDash=zt.API.setLineDashPattern=function(A,K){if(A=A||[],K=K||0,isNaN(K)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(he){return R(P(he))}).join(" "),K=R(P(K)),me("["+A+"] "+K+" d"),this};var Pa=g.__private__.getLineHeight=g.getLineHeight=function(){return st*In};g.__private__.getLineHeight=g.getLineHeight=function(){return st*In};var hl=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(In=A),this},xi=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return In};hl(n.lineHeight);var Fi=g.__private__.getHorizontalCoordinate=function(A){return P(A)},br=g.__private__.getVerticalCoordinate=function(A){return j===L.ADVANCED?A:At[J].mediaBox.topRightY-At[J].mediaBox.bottomLeftY-P(A)},Zl=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(A){return R(Fi(A))},As=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(A){return R(br(A))},Rr=n.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return wr(Rr)},g.__private__.setStrokeColor=g.setDrawColor=function(A,K,he,_e){return Rr=gn({ch1:A,ch2:K,ch3:he,ch4:_e,pdfColorType:"draw",precision:2}),me(Rr),this};var Ta=n.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return wr(Ta)},g.__private__.setFillColor=g.setFillColor=function(A,K,he,_e){return Ta=gn({ch1:A,ch2:K,ch3:he,ch4:_e,pdfColorType:"fill",precision:2}),me(Ta),this};var dr=n.textColor||"0 g",Ls=g.__private__.getTextColor=g.getTextColor=function(){return wr(dr)};g.__private__.setTextColor=g.setTextColor=function(A,K,he,_e){return dr=gn({ch1:A,ch2:K,ch3:he,ch4:_e,pdfColorType:"text",precision:3}),this};var Co=n.charSpace,Gs=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Co||0)};g.__private__.setCharSpace=g.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Co=A,this};var eu=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(A){var K=g.CapJoinStyles[A];if(K===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return eu=K,me(K+" J"),this};var ra=0;g.__private__.setLineJoin=g.setLineJoin=function(A){var K=g.CapJoinStyles[A];if(K===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ra=K,me(K+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return me(R(P(A))+" M"),this},g.GState=Vv,g.setGState=function(A){(A=typeof A=="string"?an[dn[A]]:Ks(null,A)).equals(Tt)||(me("/"+A.id+" gs"),Tt=A)};var Ks=function(A,K){if(!A||!dn[A]){var he=!1;for(var _e in an)if(an.hasOwnProperty(_e)&&an[_e].equals(K)){he=!0;break}if(he)K=an[_e];else{var Pe="GS"+(Object.keys(an).length+1).toString(10);an[Pe]=K,K.id=Pe}return A&&(dn[A]=K.id),Ut.publish("addGState",K),K}};g.addGState=function(A,K){return Ks(A,K),this},g.saveGraphicsState=function(){return me("q"),on.push({key:gt,size:st,color:dr}),this},g.restoreGraphicsState=function(){me("Q");var A=on.pop();return gt=A.key,st=A.size,dr=A.color,Tt=null,this},g.setCurrentTransformationMatrix=function(A){return me(A.toString()+" cm"),this},g.comment=function(A){return me("#"+A),this};var ks=function(A,K){var he=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return he},set:function(qe){isNaN(qe)||(he=parseFloat(qe))}});var _e=K||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return _e},set:function(qe){isNaN(qe)||(_e=parseFloat(qe))}});var Pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Pe},set:function(qe){Pe=qe.toString()}}),this},Ao=function(A,K,he,_e){ks.call(this,A,K),this.type="rect";var Pe=he||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Pe},set:function(tt){isNaN(tt)||(Pe=parseFloat(tt))}});var qe=_e||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return qe},set:function(tt){isNaN(tt)||(qe=parseFloat(tt))}}),this},ia=function(){this.page=$t,this.currentPage=J,this.pages=Me.slice(0),this.pagesContext=At.slice(0),this.x=rn,this.y=Mt,this.matrix=Zn,this.width=Ys(J),this.height=Si(J),this.outputDestination=We,this.id="",this.objectNumber=-1};ia.prototype.restore=function(){$t=this.page,J=this.currentPage,At=this.pagesContext,Me=this.pages,rn=this.x,Mt=this.y,Zn=this.matrix,ml(J,this.width),gl(J,this.height),We=this.outputDestination};var pl=function(A,K,he,_e,Pe){Zr.push(new ia),$t=J=0,Me=[],rn=A,Mt=K,Zn=Pe,ci([he,_e])},Wu=function(A){if(jn[A])Zr.pop().restore();else{var K=new ia,he="Xo"+(Object.keys(yn).length+1).toString(10);K.id=he,jn[A]=he,yn[he]=K,Ut.publish("addFormObject",K),Zr.pop().restore()}};for(var Lo in g.beginFormObject=function(A,K,he,_e,Pe){return pl(A,K,he,_e,Pe),this},g.endFormObject=function(A){return Wu(A),this},g.doFormObject=function(A,K){var he=yn[jn[A]];return me("q"),me(K.toString()+" cm"),me("/"+he.id+" Do"),me("Q"),this},g.getFormObject=function(A){var K=yn[jn[A]];return{x:K.x,y:K.y,width:K.width,height:K.height,matrix:K.matrix}},g.save=function(A,K){return A=A||"generated.pdf",(K=K||{}).returnPromise=K.returnPromise||!1,K.returnPromise===!1?(Bf(La(qs()),A),typeof Bf.unload=="function"&&Ht.setTimeout&&setTimeout(Bf.unload,911),this):new Promise(function(he,_e){try{var Pe=Bf(La(qs()),A);typeof Bf.unload=="function"&&Ht.setTimeout&&setTimeout(Bf.unload,911),he(Pe)}catch(qe){_e(qe.message)}})},zt.API)zt.API.hasOwnProperty(Lo)&&(Lo==="events"&&zt.API.events.length?function(A,K){var he,_e,Pe;for(Pe=K.length-1;Pe!==-1;Pe--)he=K[Pe][0],_e=K[Pe][1],A.subscribe.apply(A,[he].concat(typeof _e=="function"?[_e]:_e))}(Ut,zt.API.events):g[Lo]=zt.API[Lo]);var Ys=g.getPageWidth=function(A){return(At[A=A||J].mediaBox.topRightX-At[A].mediaBox.bottomLeftX)/ot},ml=g.setPageWidth=function(A,K){At[A].mediaBox.topRightX=K*ot+At[A].mediaBox.bottomLeftX},Si=g.getPageHeight=function(A){return(At[A=A||J].mediaBox.topRightY-At[A].mediaBox.bottomLeftY)/ot},gl=g.setPageHeight=function(A,K){At[A].mediaBox.topRightY=K*ot+At[A].mediaBox.bottomLeftY};return g.internal={pdfEscape:_r,getStyle:Xl,getFont:ea,getFontSize:Ne,getCharSpace:Gs,getTextColor:Ls,getLineHeight:Pa,getLineHeightFactor:xi,getLineWidth:ta,write:St,getHorizontalCoordinate:Fi,getVerticalCoordinate:br,getCoordinateString:Zl,getVerticalCoordinateString:As,collections:{},newObject:er,newAdditionalObject:Us,newObjectDeferred:Fn,newObjectDeferredBegin:tr,getFilters:fr,putStream:Sn,events:Ut,scaleFactor:ot,pageSize:{getWidth:function(){return Ys(J)},setWidth:function(A){ml(J,A)},getHeight:function(){return Si(J)},setHeight:function(A){gl(J,A)}},encryptionOptions:d,encryption:En,getEncryptor:Cs,output:Zo,getNumberOfPages:Bn,pages:Me,out:me,f2:W,f3:O,getPageInfo:ns,getPageInfoByObjId:jt,getCurrentPageInfo:rs,getPDFVersion:_,Point:ks,Rectangle:Ao,Matrix:yt,hasHotfix:Es},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Ys(J)},set:function(A){ml(J,A)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Si(J)},set:function(A){gl(J,A)},enumerable:!0,configurable:!0}),Jo.call(g,Je),gt="F1",Xo(i,t),Ut.publish("initialized"),g}uh.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},uh.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},uh.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},uh.prototype.processOwnerPassword=function(n,e){return J2(Y2(e).substr(0,5),n)},uh.prototype.encryptor=function(n,e){var t=Y2(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return J2(t,r)}},Vv.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||ir(n)!==ir(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},zt.API={events:[]},zt.version="3.0.1";var Fr=zt.API,C5=1,Cd=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ih=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},en=function(n){return n.toFixed(2)},Ec=function(n){return n.toFixed(5)};Fr.__acroform__={};var yo=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},OS=function(n){return n*C5},kl=function(n){var e=new iT,t=Pt.internal.getHeight(n)||0,r=Pt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(en(r)),Number(en(t))],e},DV=Fr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},jV=Fr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},FV=Fr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},Yr=Fr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return FV(n,e-1)},Jr=Fr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return DV(n,e-1)},Xr=Fr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return jV(n,e-1)},BV=Fr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],o=n[2],a=n[3],u={};return u.lowerLeft_X=t(i)||0,u.lowerLeft_Y=r(s+a)||0,u.upperRight_X=t(i+o)||0,u.upperRight_Y=r(s)||0,[Number(en(u.lowerLeft_X)),Number(en(u.lowerLeft_Y)),Number(en(u.upperRight_X)),Number(en(u.upperRight_Y))]},VV=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=X2(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+en(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=kl(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},X2=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(O){return O.split(`
`)}):i.map(function(O){return[O]});var s=t,o=Pt.internal.getHeight(n)||0;o=o<0?-o:o;var a=Pt.internal.getWidth(n)||0;a=a<0?-a:a;var u=function(O,P,B){if(O+1<i.length){var Y=P+" "+i[O+1][0];return Vg(Y,n,B).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var f,d,h=Vg("3",n,s).height,m=n.multiline?o-s:(o-h)/2,g=m+=2,w=0,_=0,x=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Vg(e,n,s=12).width+", FieldWidth:"+a+`
`;break}for(var C="",L=0,j=0;j<i.length;j++)if(i.hasOwnProperty(j)){var D=!1;if(i[j].length!==1&&x!==i[j].length-1){if((h+2)*(L+2)+2>o)continue e;C+=i[j][x],D=!0,_=j,j--}else{C=(C+=i[j][x]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var $=parseInt(j),H=u($,C,s),R=j>=i.length-1;if(H&&!R){C+=" ",x=0;continue}if(H||R){if(R)_=$;else if(n.multiline&&(h+2)*(L+2)+2>o)continue e}else{if(!n.multiline||(h+2)*(L+2)+2>o)continue e;_=$}}for(var I="",N=w;N<=_;N++){var W=i[N];if(n.multiline){if(N===_){I+=W[x]+" ",x=(x+1)%W.length;continue}if(N===w){I+=W[W.length-1]+" ";continue}}I+=W[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,d=Vg(I,n,s).width,n.textAlign){case"right":f=a-d-2;break;case"center":f=(a-d)/2;break;case"left":default:f=2}e+=en(f)+" "+en(g)+` Td
`,e+="("+Cd(I)+`) Tj
`,e+=-en(f)+` 0 Td
`,g=-(s+2),d=0,w=D?_:_+1,L++,C=""}break}return r.text=e,r.fontSize=s,r},Vg=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},UV={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},zV=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},$V=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),ir(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},qV=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(al.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(UV)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");C5=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new sT,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&zV(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],u=[],f=a.Rect;if(a.Rect&&(a.Rect=BV(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Pt.createDefaultAppearanceStream(a),ir(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(u=a.getKeyValueListForStream()),a.Rect=f,a.hasAppearanceStream&&!a.appearanceStreamContent){var d=VV(a);u.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(a.appearanceStreamContent){var h="";for(var m in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(m)){var g=a.appearanceStreamContent[m];if(h+="/"+m+" ",h+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var w=g[o];typeof w=="function"&&(w=w.call(i,a)),h+="/"+o+" "+w+" ",i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w)}}else typeof(w=g)=="function"&&(w=w.call(i,a)),h+="/"+o+" "+w,i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w);h+=">>"}u.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:a.objId}),i.internal.out("endobj")}s&&$V(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},rT=Fr.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(o){return o};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),ir(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+Cd(r(n[s].toString()))+")"):i+=n[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},O1=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+Cd(r(n))+")"},Ol=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ol.prototype.toString=function(){return this.objId+" 0 R"},Ol.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Ol.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:rT(i,this.objId,this.scope)}):i instanceof Ol?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var iT=function(){Ol.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};yo(iT,Ol);var sT=function(){Ol.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Cd(t(n))+")"}},set:function(t){n=t}})};yo(sT,Ol);var al=function n(){Ol.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');e=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Yr(e,3)},set:function(C){C?this.F=Jr(e,3):this.F=Xr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');t=C}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(C){r=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(C){r[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(C){r[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(C){r[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(C){r[3]=C}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Uv)return;s="FieldObject"+n.FieldNum++}var C=function(L){return L};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+Cd(C(s))+")"},set:function(C){s=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(C){s=C}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(C){o=C}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(C){a=C}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(C){u=C}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/C5:f},set:function(C){f=C}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(C){d=C}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof Uv||this instanceof ed))return O1(h,this.objId,this.scope)},set:function(C){C=C.toString(),h=C}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Ri?m:O1(m,this.objId,this.scope)},set:function(C){C=C.toString(),m=this instanceof Ri?C:C.substr(0,1)==="("?ih(C.substr(1,C.length-2)):ih(C)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ri?ih(m.substr(1,m.length-1)):m},set:function(C){C=C.toString(),m=this instanceof Ri?"/"+C:C}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Ri?g:O1(g,this.objId,this.scope)},set:function(C){C=C.toString(),g=this instanceof Ri?C:C.substr(0,1)==="("?ih(C.substr(1,C.length-2)):ih(C)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ri?ih(g.substr(1,g.length-1)):g},set:function(C){C=C.toString(),g=this instanceof Ri?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(C){C=!!C,_=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(C){w=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,1)},set:function(C){C?this.Ff=Jr(this.Ff,1):this.Ff=Xr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,2)},set:function(C){C?this.Ff=Jr(this.Ff,2):this.Ff=Xr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,3)},set:function(C){C?this.Ff=Jr(this.Ff,3):this.Ff=Xr(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');x=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(x){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:x=2;break;case"center":case 1:x=1;break;case"left":case 0:default:x=0}}})};yo(al,Ol);var Eh=function(){al.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return rT(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(s,o,a){a||(a=1);for(var u,f=[];u=o.exec(s);)f.push(u[a]);return f}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,18)},set:function(t){t?this.Ff=Jr(this.Ff,18):this.Ff=Xr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Jr(this.Ff,19):this.Ff=Xr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,20)},set:function(t){t?(this.Ff=Jr(this.Ff,20),e.sort()):this.Ff=Xr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,22)},set:function(t){t?this.Ff=Jr(this.Ff,22):this.Ff=Xr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,23)},set:function(t){t?this.Ff=Jr(this.Ff,23):this.Ff=Xr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,27)},set:function(t){t?this.Ff=Jr(this.Ff,27):this.Ff=Xr(this.Ff,27)}}),this.hasAppearanceStream=!1};yo(Eh,al);var Ch=function(){Eh.call(this),this.fontName="helvetica",this.combo=!1};yo(Ch,Eh);var Ah=function(){Ch.call(this),this.combo=!0};yo(Ah,Ch);var fv=function(){Ah.call(this),this.edit=!0};yo(fv,Ah);var Ri=function(){al.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,15)},set:function(t){t?this.Ff=Jr(this.Ff,15):this.Ff=Xr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,16)},set:function(t){t?this.Ff=Jr(this.Ff,16):this.Ff=Xr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,17)},set:function(t){t?this.Ff=Jr(this.Ff,17):this.Ff=Xr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,26)},set:function(t){t?this.Ff=Jr(this.Ff,26):this.Ff=Xr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Cd(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){ir(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};yo(Ri,al);var dv=function(){Ri.call(this),this.pushButton=!0};yo(dv,Ri);var Lh=function(){Ri.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};yo(Lh,Ri);var Uv=function(){var n,e;al.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Cd(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){ir(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Pt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};yo(Uv,al),Lh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Lh.prototype.createOption=function(n){var e=new Uv;return e.Parent=this,e.optionName=n,this.Kids.push(e),WV.call(this.scope,e),e};var hv=function(){Ri.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Pt.CheckBox.createAppearanceStream()};yo(hv,Ri);var ed=function(){al.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,13)},set:function(e){e?this.Ff=Jr(this.Ff,13):this.Ff=Xr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,21)},set:function(e){e?this.Ff=Jr(this.Ff,21):this.Ff=Xr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,23)},set:function(e){e?this.Ff=Jr(this.Ff,23):this.Ff=Xr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,24)},set:function(e){e?this.Ff=Jr(this.Ff,24):this.Ff=Xr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,25)},set:function(e){e?this.Ff=Jr(this.Ff,25):this.Ff=Xr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,26)},set:function(e){e?this.Ff=Jr(this.Ff,26):this.Ff=Xr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};yo(ed,al);var pv=function(){ed.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,14)},set:function(n){n?this.Ff=Jr(this.Ff,14):this.Ff=Xr(this.Ff,14)}}),this.password=!0};yo(pv,ed);var Pt={CheckBox:{createAppearanceStream:function(){return{N:{On:Pt.CheckBox.YesNormal},D:{On:Pt.CheckBox.YesPushDown,Off:Pt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=kl(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=X2(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+en(Pt.internal.getWidth(n))+" "+en(Pt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+en(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=kl(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=Pt.internal.getHeight(n),o=Pt.internal.getWidth(n),a=X2(n,n.caption);return i.push("1 g"),i.push("0 0 "+en(o)+" "+en(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+en(o-1)+" "+en(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+en(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=kl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+en(Pt.internal.getWidth(n))+" "+en(Pt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Pt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Pt.RadioButton.Circle.YesNormal,e.D[n]=Pt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=kl(n);e.scope=n.scope;var t=[],r=Pt.internal.getWidth(n)<=Pt.internal.getHeight(n)?Pt.internal.getWidth(n)/4:Pt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Pt.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Ec(Pt.internal.getWidth(n)/2)+" "+Ec(Pt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=kl(n);e.scope=n.scope;var t=[],r=Pt.internal.getWidth(n)<=Pt.internal.getHeight(n)?Pt.internal.getWidth(n)/4:Pt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Pt.internal.Bezier_C).toFixed(5)),o=Number((r*Pt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Ec(Pt.internal.getWidth(n)/2)+" "+Ec(Pt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Ec(Pt.internal.getWidth(n)/2)+" "+Ec(Pt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=kl(n);e.scope=n.scope;var t=[],r=Pt.internal.getWidth(n)<=Pt.internal.getHeight(n)?Pt.internal.getWidth(n)/4:Pt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Pt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Ec(Pt.internal.getWidth(n)/2)+" "+Ec(Pt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Pt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Pt.RadioButton.Cross.YesNormal,e.D[n]=Pt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=kl(n);e.scope=n.scope;var t=[],r=Pt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+en(Pt.internal.getWidth(n)-2)+" "+en(Pt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(en(r.x1.x)+" "+en(r.x1.y)+" m"),t.push(en(r.x2.x)+" "+en(r.x2.y)+" l"),t.push(en(r.x4.x)+" "+en(r.x4.y)+" m"),t.push(en(r.x3.x)+" "+en(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=kl(n);e.scope=n.scope;var t=Pt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+en(Pt.internal.getWidth(n))+" "+en(Pt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+en(Pt.internal.getWidth(n)-2)+" "+en(Pt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(en(t.x1.x)+" "+en(t.x1.y)+" m"),r.push(en(t.x2.x)+" "+en(t.x2.y)+" l"),r.push(en(t.x4.x)+" "+en(t.x4.y)+" m"),r.push(en(t.x3.x)+" "+en(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=kl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+en(Pt.internal.getWidth(n))+" "+en(Pt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Pt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Pt.internal.getWidth(n),t=Pt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Pt.internal.getWidth=function(n){var e=0;return ir(n)==="object"&&(e=OS(n.Rect[2])),e},Pt.internal.getHeight=function(n){var e=0;return ir(n)==="object"&&(e=OS(n.Rect[3])),e};var WV=Fr.addField=function(n){if(qV(this,n),!(n instanceof al))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Fr.AcroFormChoiceField=Eh,Fr.AcroFormListBox=Ch,Fr.AcroFormComboBox=Ah,Fr.AcroFormEditBox=fv,Fr.AcroFormButton=Ri,Fr.AcroFormPushButton=dv,Fr.AcroFormRadioButton=Lh,Fr.AcroFormCheckBox=hv,Fr.AcroFormTextField=ed,Fr.AcroFormPasswordField=pv,Fr.AcroFormAppearance=Pt,Fr.AcroForm={ChoiceField:Eh,ListBox:Ch,ComboBox:Ah,EditBox:fv,Button:Ri,PushButton:dv,RadioButton:Lh,CheckBox:hv,TextField:ed,PasswordField:pv,Appearance:Pt},zt.AcroForm={ChoiceField:Eh,ListBox:Ch,ComboBox:Ah,EditBox:fv,Button:Ri,PushButton:dv,RadioButton:Lh,CheckBox:hv,TextField:ed,PasswordField:pv,Appearance:Pt};zt.AcroForm;function oT(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(O,P){var B,Y,ue,ae,le,te=e;if((P=P||e)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(H(O))for(le in t)for(ue=t[le],B=0;B<ue.length;B+=1){for(ae=!0,Y=0;Y<ue[B].length;Y+=1)if(ue[B][Y]!==void 0&&ue[B][Y]!==O[Y]){ae=!1;break}if(ae===!0){te=le;break}}else for(le in t)for(ue=t[le],B=0;B<ue.length;B+=1){for(ae=!0,Y=0;Y<ue[B].length;Y+=1)if(ue[B][Y]!==void 0&&ue[B][Y]!==O.charCodeAt(Y)){ae=!1;break}if(ae===!0){te=le;break}}return te===e&&P!==e&&(te=P),te},i=function O(P){for(var B=this.internal.write,Y=this.internal.putStream,ue=(0,this.internal.getFilters)();ue.indexOf("FlateEncode")!==-1;)ue.splice(ue.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var ae=[];if(ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Image"}),ae.push({key:"Width",value:P.width}),ae.push({key:"Height",value:P.height}),P.colorSpace===x.INDEXED?ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(ae.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===x.DEVICE_CMYK&&ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ae.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&ae.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var le="",te=0,ce=P.transparency.length;te<ce;te++)le+=P.transparency[te]+" "+P.transparency[te]+" ";ae.push({key:"Mask",value:"["+le+"]"})}P.sMask!==void 0&&ae.push({key:"SMask",value:P.objectId+1+" 0 R"});var fe=P.filter!==void 0?["/"+P.filter]:void 0;if(Y({data:P.data,additionalKeyValues:ae,alreadyAppliedFilters:fe,objectId:P.objectId}),B("endobj"),"sMask"in P&&P.sMask!==void 0){var ne="/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,z={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:ne,data:P.sMask};"filter"in P&&(z.filter=P.filter),O.call(this,z)}if(P.colorSpace===x.INDEXED){var J=this.internal.newObject();Y({data:I(new Uint8Array(P.palette)),objectId:J}),B("endobj")}},s=function(){var O=this.internal.collections.addImage_images;for(var P in O)i.call(this,O[P])},o=function(){var O,P=this.internal.collections.addImage_images,B=this.internal.write;for(var Y in P)B("/I"+(O=P[Y]).index,O.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var O=this.internal.collections.addImage_images;return a.call(this),O},f=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(O){return typeof n["process"+O.toUpperCase()]=="function"},h=function(O){return ir(O)==="object"&&O.nodeType===1},m=function(O,P){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var B=""+O.getAttribute("src");if(B.indexOf("data:image/")===0)return Hp(unescape(B).split("base64,").pop());var Y=n.loadFile(B,!0);if(Y!==void 0)return Y}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var ue;switch(P){case"PNG":ue="image/png";break;case"WEBP":ue="image/webp";break;case"JPEG":case"JPG":default:ue="image/jpeg"}return Hp(O.toDataURL(ue,1).split("base64,").pop())}},g=function(O){var P=this.internal.collections.addImage_images;if(P){for(var B in P)if(O===P[B].alias)return P[B]}},w=function(O,P,B){return O||P||(O=-96,P=-96),O<0&&(O=-1*B.width*72/O/this.internal.scaleFactor),P<0&&(P=-1*B.height*72/P/this.internal.scaleFactor),O===0&&(O=P*B.width/B.height),P===0&&(P=O*B.height/B.width),[O,P]},_=function(O,P,B,Y,ue,ae){var le=w.call(this,B,Y,ue),te=this.internal.getCoordinateString,ce=this.internal.getVerticalCoordinateString,fe=u.call(this);if(B=le[0],Y=le[1],fe[ue.index]=ue,ae){ae*=Math.PI/180;var ne=Math.cos(ae),z=Math.sin(ae),J=function(Z){return Z.toFixed(4)},se=[J(ne),J(z),J(-1*z),J(ne),0,0,"cm"]}this.internal.write("q"),ae?(this.internal.write([1,"0","0",1,te(O),ce(P+Y),"cm"].join(" ")),this.internal.write(se.join(" ")),this.internal.write([te(B),"0","0",te(Y),"0","0","cm"].join(" "))):this.internal.write([te(B),"0","0",te(Y),te(O),ce(P+Y),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ue.index+" Do"),this.internal.write("Q")},x=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var C=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},L=n.__addimage__.sHashCode=function(O){var P,B,Y=0;if(typeof O=="string")for(B=O.length,P=0;P<B;P++)Y=(Y<<5)-Y+O.charCodeAt(P),Y|=0;else if(H(O))for(B=O.byteLength/2,P=0;P<B;P++)Y=(Y<<5)-Y+O[P],Y|=0;return Y},j=n.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var P=!0;return O.length===0&&(P=!1),O.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(P=!1),P},D=n.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var P=O.indexOf(",");return P<0?null:O.substring(0,P).trim().endsWith("base64")?O.substring(P+1):null},$=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(O){return $()&&O instanceof ArrayBuffer};var H=n.__addimage__.isArrayBufferView=function(O){return $()&&typeof Uint32Array<"u"&&(O instanceof Int8Array||O instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array)},R=n.__addimage__.binaryStringToUint8Array=function(O){for(var P=O.length,B=new Uint8Array(P),Y=0;Y<P;Y++)B[Y]=O.charCodeAt(Y);return B},I=n.__addimage__.arrayBufferToBinaryString=function(O){for(var P="",B=H(O)?O:new Uint8Array(O),Y=0;Y<B.length;Y+=8192)P+=String.fromCharCode.apply(null,B.subarray(Y,Y+8192));return P};n.addImage=function(){var O,P,B,Y,ue,ae,le,te,ce;if(typeof arguments[1]=="number"?(P=e,B=arguments[1],Y=arguments[2],ue=arguments[3],ae=arguments[4],le=arguments[5],te=arguments[6],ce=arguments[7]):(P=arguments[1],B=arguments[2],Y=arguments[3],ue=arguments[4],ae=arguments[5],le=arguments[6],te=arguments[7],ce=arguments[8]),ir(O=arguments[0])==="object"&&!h(O)&&"imageData"in O){var fe=O;O=fe.imageData,P=fe.format||P||e,B=fe.x||B||0,Y=fe.y||Y||0,ue=fe.w||fe.width||ue,ae=fe.h||fe.height||ae,le=fe.alias||le,te=fe.compression||te,ce=fe.rotation||fe.angle||ce}var ne=this.internal.getFilters();if(te===void 0&&ne.indexOf("FlateEncode")!==-1&&(te="SLOW"),isNaN(B)||isNaN(Y))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var z=N.call(this,O,P,le,te);return _.call(this,B,Y,ue,ae,z,ce),this};var N=function(O,P,B,Y){var ue,ae,le;if(typeof O=="string"&&r(O)===e){O=unescape(O);var te=W(O,!1);(te!==""||(te=n.loadFile(O,!0))!==void 0)&&(O=te)}if(h(O)&&(O=m(O,P)),P=r(O,P),!d(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((le=B)==null||le.length===0)&&(B=function(ce){return typeof ce=="string"||H(ce)?L(ce):H(ce.data)?L(ce.data):null}(O)),(ue=g.call(this,B))||($()&&(O instanceof Uint8Array||P==="RGBA"||(ae=O,O=R(O))),ue=this["process"+P.toUpperCase()](O,f.call(this),B,function(ce){return ce&&typeof ce=="string"&&(ce=ce.toUpperCase()),ce in n.image_compression?ce:C.NONE}(Y),ae)),!ue)throw new Error("An unknown error occurred whilst processing the image.");return ue},W=n.__addimage__.convertBase64ToBinaryString=function(O,P){P=typeof P!="boolean"||P;var B,Y="";if(typeof O=="string"){var ue;B=(ue=D(O))!==null&&ue!==void 0?ue:O;try{Y=Hp(B)}catch(ae){if(P)throw j(B)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Y};n.getImageProperties=function(O){var P,B,Y="";if(h(O)&&(O=m(O)),typeof O=="string"&&r(O)===e&&((Y=W(O,!1))===""&&(Y=n.loadFile(O)||""),O=Y),B=r(O),!d(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(!$()||O instanceof Uint8Array||(O=R(O)),!(P=this["process"+B.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=B,P}})(zt.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};zt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,d=!1,h=0;h<f.length&&!d;h++)switch((r=f[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<f.length;m++){r=f[m];var g=this.internal.pdfEscape,w=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(_.objId),L=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+g(C(r.contents))+")",s+=" /Popup "+x.objId+" 0 R",s+=" /P "+u.objId+" 0 R",s+=" /T ("+g(C(L))+") >>",_.content=s;var j=_.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+j,r.open&&(s+=" /Open true"),s+=" >>",x.content=s,this.internal.write(_.objId,"0 R",x.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var D=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(w(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var $=this.annotations._nameMap[r.options.name];r.options.pageNumber=$.page,r.options.top=$.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(w(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var H=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+H+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,o){var a=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:u(t),y:f(r),w:u(t+i),h:f(r+s)},options:o,type:"link"})},n.textWithLink=function(t,r,i,s){var o,a,u=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var d=this.splitTextToSize(t,a).length;o=Math.ceil(f*d)}else a=u,o=f;return this.text(t,r,i,s),i+=.2*f,s.align==="center"&&(r-=u/2),s.align==="right"&&(r-=u),this.link(r,i-f,a,o,s),u},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(zt.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(_){return e[_.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},a=n.__arabicParser__.isArabicEndLetter=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length<=2},u=n.__arabicParser__.isArabicAlfLetter=function(_){return o(_)&&i.indexOf(_.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length>=3};var d=n.__arabicParser__.arabicLetterHasMedialForm=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length==4},h=n.__arabicParser__.resolveLigatures=function(_){var x=0,C=t,L="",j=0;for(x=0;x<_.length;x+=1)C[_.charCodeAt(x)]!==void 0?(j++,typeof(C=C[_.charCodeAt(x)])=="number"&&(L+=String.fromCharCode(C),C=t,j=0),x===_.length-1&&(C=t,L+=_.charAt(x-(j-1)),x-=j-1,j=0)):(C=t,L+=_.charAt(x-j),x-=j,j=0);return L};n.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&r[_.charCodeAt(0)]!==void 0};var m=n.__arabicParser__.getCorrectForm=function(_,x,C){return o(_)?s(_)===!1?-1:!f(_)||!o(x)&&!o(C)||!o(C)&&a(x)||a(_)&&!o(x)||a(_)&&u(x)||a(_)&&a(x)?0:d(_)&&o(x)&&!a(x)&&o(C)&&f(C)?3:a(_)||!o(C)?1:2:-1},g=function(_){var x=0,C=0,L=0,j="",D="",$="",H=(_=_||"").split("\\s+"),R=[];for(x=0;x<H.length;x+=1){for(R.push(""),C=0;C<H[x].length;C+=1)j=H[x][C],D=H[x][C-1],$=H[x][C+1],o(j)?(L=m(j,D,$),R[x]+=L!==-1?String.fromCharCode(e[j.charCodeAt(0)][L]):j):R[x]+=j;R[x]=h(R[x])}return R.join(" ")},w=n.__arabicParser__.processArabic=n.processArabic=function(){var _,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(x)){var L=0;for(C=[],L=0;L<x.length;L+=1)Array.isArray(x[L])?C.push([g(x[L][0]),x[L][1],x[L][2]]):C.push([g(x[L])]);_=C}else _=g(x);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};n.events.push(["preProcessText",w])}(zt.API),zt.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(zt.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(_){u=_}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(_){f=_}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(_){d=_}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(_){h=_}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(_){m=_}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(_){g=_}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(_){w=_}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},n.getTextDimensions=function(u,f){r.call(this);var d=(f=f||{}).fontSize||this.getFontSize(),h=f.font||this.getFont(),m=f.scaleFactor||this.internal.scaleFactor,g=0,w=0,_=0,x=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var C=f.maxWidth;C>0?typeof u=="string"?u=this.splitTextToSize(u,C):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(j,D){return j.concat(x.splitTextToSize(D,C))},[])):u=Array.isArray(u)?u:[u];for(var L=0;L<u.length;L++)g<(_=this.getStringUnitWidth(u[L],{font:h})*d)&&(g=_);return g!==0&&(w=u.length),{w:g/=m,h:Math.max((w*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var u;u=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var f=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===u.lineNumber?(u.x=(f.x||0)+(f.width||0),u.y=f.y||0):f.y+f.height+u.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=h.top,g&&m&&(this.printHeaderRow(u.lineNumber,!0),u.y+=m[0].height)):u.y=f.y+f.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,t===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-d,u.y+d,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+d,{align:"center",baseline:"top",maxWidth:u.width-d-d}):this.text(u.text,u.x+d,u.y+d,{align:"left",baseline:"top",maxWidth:u.width-d-d})),this.internal.__cell__.lastCell=u,this};n.table=function(u,f,d,h,m){if(r.call(this),!d)throw new Error("No data for PDF table.");var g,w,_,x,C=[],L=[],j=[],D={},$={},H=[],R=[],I=(m=m||{}).autoSize||!1,N=m.printHeaders!==!1,W=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,O=m.margins||Object.assign({width:this.getPageWidth()},e),P=typeof m.padding=="number"?m.padding:3,B=m.headerBackgroundColor||"#c8c8c8",Y=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=N,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=W,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=B,this.internal.__cell__.headerTextColor=Y,this.setFontSize(W),h==null)L=C=Object.keys(d[0]),j=C.map(function(){return"left"});else if(Array.isArray(h)&&ir(h[0])==="object")for(C=h.map(function(fe){return fe.name}),L=h.map(function(fe){return fe.prompt||fe.name||""}),j=h.map(function(fe){return fe.align||"left"}),g=0;g<h.length;g+=1)$[h[g].name]=h[g].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(L=C=h,j=C.map(function(){return"left"}));if(I||Array.isArray(h)&&typeof h[0]=="string")for(g=0;g<C.length;g+=1){for(D[x=C[g]]=d.map(function(fe){return fe[x]}),this.setFont(void 0,"bold"),H.push(this.getTextDimensions(L[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=D[x],this.setFont(void 0,"normal"),_=0;_<w.length;_+=1)H.push(this.getTextDimensions(w[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);$[x]=Math.max.apply(null,H)+P+P,H=[]}if(N){var ue={};for(g=0;g<C.length;g+=1)ue[C[g]]={},ue[C[g]].text=L[g],ue[C[g]].align=j[g];var ae=a.call(this,ue,$);R=C.map(function(fe){return new s(u,f,$[fe],ae,ue[fe].text,void 0,ue[fe].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var le=h.reduce(function(fe,ne){return fe[ne.name]=ne.align,fe},{});for(g=0;g<d.length;g+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:g,data:d[g]},this);var te=a.call(this,d[g],$);for(_=0;_<C.length;_+=1){var ce=d[g][C[_]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:g,col:_,data:ce},this),o.call(this,new s(u,f,$[C[_]],te,ce,g+2,le[C[_]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=f,this};var a=function(u,f){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(u).map(function(g){var w=u[g];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,f[g]-d-d)},this).map(function(g){return this.getLineHeightFactor()*g.length*h/m+d+d},this).reduce(function(g,w){return Math.max(g,w)},0)};n.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},n.printHeaderRow=function(u,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){d=this.internal.__cell__.tableHeaderRow[g].clone(),f&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=u;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(w)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),t=!1}}(zt.API);var aT={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},lT=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Q2=oT(lT),uT=[100,200,300,400,500,600,700,800,900],HV=oT(uT);function Z2(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return aT[s=s||"normal"]?s:"normal"}(n.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(n.weight),i=function(s){return typeof Q2[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function MS(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var GV={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},DS={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function jS(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function KV(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},GV,t.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=Z2(e[a])).family]&&(s.family=i[s.family]),n.hasOwnProperty(s.family)){o=n[s.family];break}if(!(o=o||n[r]))throw new Error("Could not find a font-family for the rule '"+jS(s)+"' and default family '"+r+"'.");if(o=function(u,f){if(f[u])return f[u];var d=Q2[u],h=d<=Q2.normal?-1:1,m=MS(f,lT,d,h);if(!m)throw new Error("Could not find a matching font-stretch value for "+u);return m}(s.stretch,o),o=function(u,f){if(f[u])return f[u];for(var d=aT[u],h=0;h<d.length;++h)if(f[d[h]])return f[d[h]];throw new Error("Could not find a matching font-style for "+u)}(s.style,o),!(o=function(u,f){if(f[u])return f[u];if(u===400&&f[500])return f[500];if(u===500&&f[400])return f[400];var d=HV[u],h=MS(f,uT,d,u<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+u);return h}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+jS(s)+"'.");return o}function FS(n){return n.trimLeft()}function YV(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function JV(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Ug,BS,VS,M1=["times"];(function(n){var e,t,r,i,s,o,a,u,f,d=function(z){return z=z||{},this.isStrokeTransparent=z.isStrokeTransparent||!1,this.strokeOpacity=z.strokeOpacity||1,this.strokeStyle=z.strokeStyle||"#000000",this.fillStyle=z.fillStyle||"#000000",this.isFillTransparent=z.isFillTransparent||!1,this.fillOpacity=z.fillOpacity||1,this.font=z.font||"10px sans-serif",this.textBaseline=z.textBaseline||"alphabetic",this.textAlign=z.textAlign||"left",this.lineWidth=z.lineWidth||1,this.lineJoin=z.lineJoin||"miter",this.lineCap=z.lineCap||"butt",this.path=z.path||[],this.transform=z.transform!==void 0?z.transform.clone():new u,this.globalCompositeOperation=z.globalCompositeOperation||"normal",this.globalAlpha=z.globalAlpha||1,this.clip_path=z.clip_path||[],this.currentPoint=z.currentPoint||new o,this.miterLimit=z.miterLimit||10,this.lastPoint=z.lastPoint||new o,this.lineDashOffset=z.lineDashOffset||0,this.lineDash=z.lineDash||[],this.margin=z.margin||[0,0,0,0],this.prevPageLastElemOffset=z.prevPageLastElemOffset||0,this.ignoreClearRect=typeof z.ignoreClearRect!="boolean"||z.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,u=this.internal.Matrix,f=new d}]);var h=function(z){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=z;Object.defineProperty(this,"pdf",{get:function(){return J}});var se=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return se},set:function(Te){se=!!Te}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(Te){Z=!!Te}});var pe=0;Object.defineProperty(this,"posX",{get:function(){return pe},set:function(Te){isNaN(Te)||(pe=Te)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(Te){isNaN(Te)||(ye=Te)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Te){var me;typeof Te=="number"?me=[Te,Te,Te,Te]:((me=new Array(4))[0]=Te[0],me[1]=Te.length>=2?Te[1]:me[0],me[2]=Te.length>=3?Te[2]:me[0],me[3]=Te.length>=4?Te[3]:me[1]),f.margin=me}});var ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ve},set:function(Te){ve=Te}});var we=0;Object.defineProperty(this,"lastBreak",{get:function(){return we},set:function(Te){we=Te}});var Ie=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ie},set:function(Te){Ie=Te}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Te){Te instanceof d&&(f=Te)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Te){f.path=Te}});var Me=[];Object.defineProperty(this,"ctxStack",{get:function(){return Me},set:function(Te){Me=Te}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Te){var me;me=m(Te),this.ctx.fillStyle=me.style,this.ctx.isFillTransparent=me.a===0,this.ctx.fillOpacity=me.a,this.pdf.setFillColor(me.r,me.g,me.b,{a:me.a}),this.pdf.setTextColor(me.r,me.g,me.b,{a:me.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Te){var me=m(Te);this.ctx.strokeStyle=me.style,this.ctx.isStrokeTransparent=me.a===0,this.ctx.strokeOpacity=me.a,me.a===0?this.pdf.setDrawColor(255,255,255):(me.a,this.pdf.setDrawColor(me.r,me.g,me.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Te){["butt","round","square"].indexOf(Te)!==-1&&(this.ctx.lineCap=Te,this.pdf.setLineCap(Te))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Te){isNaN(Te)||(this.ctx.lineWidth=Te,this.pdf.setLineWidth(Te))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Te){["bevel","round","miter"].indexOf(Te)!==-1&&(this.ctx.lineJoin=Te,this.pdf.setLineJoin(Te))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Te){isNaN(Te)||(this.ctx.miterLimit=Te,this.pdf.setMiterLimit(Te))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Te){this.ctx.textBaseline=Te}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Te){["right","end","center","left","start"].indexOf(Te)!==-1&&(this.ctx.textAlign=Te)}});var Be=null;function We(Te,me){if(Be===null){var St=function(vt){var Je=[];return Object.keys(vt).forEach(function(st){vt[st].forEach(function(Ce){var Ne=null;switch(Ce){case"bold":Ne={family:st,weight:"bold"};break;case"italic":Ne={family:st,style:"italic"};break;case"bolditalic":Ne={family:st,weight:"bold",style:"italic"};break;case"":case"normal":Ne={family:st}}Ne!==null&&(Ne.ref={name:st,style:Ce},Je.push(Ne))})}),Je}(Te.getFontList());Be=function(vt){for(var Je={},st=0;st<vt.length;++st){var Ce=Z2(vt[st]),Ne=Ce.family,Ve=Ce.stretch,Ze=Ce.style,ct=Ce.weight;Je[Ne]=Je[Ne]||{},Je[Ne][Ve]=Je[Ne][Ve]||{},Je[Ne][Ve][Ze]=Je[Ne][Ve][Ze]||{},Je[Ne][Ve][Ze][ct]=Ce}return Je}(St.concat(me))}return Be}var ft=null;Object.defineProperty(this,"fontFaces",{get:function(){return ft},set:function(Te){Be=null,ft=Te}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Te){var me;if(this.ctx.font=Te,(me=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Te))!==null){var St=me[1];me[2];var vt=me[3],Je=me[4];me[5];var st=me[6],Ce=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Je)[2];Je=Math.floor(Ce==="px"?parseFloat(Je)*this.pdf.internal.scaleFactor:Ce==="em"?parseFloat(Je)*this.pdf.getFontSize():parseFloat(Je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Je);var Ne=function(_t){var gt,ot,rn=[],Mt=_t.trim();if(Mt==="")return M1;if(Mt in DS)return[DS[Mt]];for(;Mt!=="";){switch(ot=null,gt=(Mt=FS(Mt)).charAt(0)){case'"':case"'":ot=YV(Mt.substring(1),gt);break;default:ot=JV(Mt)}if(ot===null||(rn.push(ot[0]),(Mt=FS(ot[1]))!==""&&Mt.charAt(0)!==","))return M1;Mt=Mt.replace(/^,/,"")}return rn}(st);if(this.fontFaces){var Ve=KV(We(this.pdf,this.fontFaces),Ne.map(function(_t){return{family:_t,stretch:"normal",weight:vt,style:St}}));this.pdf.setFont(Ve.ref.name,Ve.ref.style)}else{var Ze="";(vt==="bold"||parseInt(vt,10)>=700||St==="bold")&&(Ze="bold"),St==="italic"&&(Ze+="italic"),Ze.length===0&&(Ze="normal");for(var ct="",nt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},dt=0;dt<Ne.length;dt++){if(this.pdf.internal.getFont(Ne[dt],Ze,{noFallback:!0,disableWarning:!0})!==void 0){ct=Ne[dt];break}if(Ze==="bolditalic"&&this.pdf.internal.getFont(Ne[dt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ct=Ne[dt],Ze="bold";else if(this.pdf.internal.getFont(Ne[dt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ct=Ne[dt],Ze="normal";break}}if(ct===""){for(var lt=0;lt<Ne.length;lt++)if(nt[Ne[lt]]){ct=nt[Ne[lt]];break}}ct=ct===""?"Times":ct,this.pdf.setFont(ct,Ze)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Te){this.ctx.globalCompositeOperation=Te}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Te){this.ctx.globalAlpha=Te}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Te){this.ctx.lineDashOffset=Te,ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Te){this.ctx.lineDash=Te,ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Te){this.ctx.ignoreClearRect=!!Te}})};h.prototype.setLineDash=function(z){this.lineDash=z},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){D.call(this,"fill",!1)},h.prototype.stroke=function(){D.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(z,J){if(isNaN(z)||isNaN(J))throw ur.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var se=this.ctx.transform.applyToPoint(new o(z,J));this.path.push({type:"mt",x:se.x,y:se.y}),this.ctx.lastPoint=new o(z,J)},h.prototype.closePath=function(){var z=new o(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&ir(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){z=new o(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(z.x,z.y)},h.prototype.lineTo=function(z,J){if(isNaN(z)||isNaN(J))throw ur.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var se=this.ctx.transform.applyToPoint(new o(z,J));this.path.push({type:"lt",x:se.x,y:se.y}),this.ctx.lastPoint=new o(se.x,se.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},h.prototype.quadraticCurveTo=function(z,J,se,Z){if(isNaN(se)||isNaN(Z)||isNaN(z)||isNaN(J))throw ur.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var pe=this.ctx.transform.applyToPoint(new o(se,Z)),ye=this.ctx.transform.applyToPoint(new o(z,J));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new o(pe.x,pe.y)},h.prototype.bezierCurveTo=function(z,J,se,Z,pe,ye){if(isNaN(pe)||isNaN(ye)||isNaN(z)||isNaN(J)||isNaN(se)||isNaN(Z))throw ur.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ve=this.ctx.transform.applyToPoint(new o(pe,ye)),we=this.ctx.transform.applyToPoint(new o(z,J)),Ie=this.ctx.transform.applyToPoint(new o(se,Z));this.path.push({type:"bct",x1:we.x,y1:we.y,x2:Ie.x,y2:Ie.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new o(ve.x,ve.y)},h.prototype.arc=function(z,J,se,Z,pe,ye){if(isNaN(z)||isNaN(J)||isNaN(se)||isNaN(Z)||isNaN(pe))throw ur.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var ve=this.ctx.transform.applyToPoint(new o(z,J));z=ve.x,J=ve.y;var we=this.ctx.transform.applyToPoint(new o(0,se)),Ie=this.ctx.transform.applyToPoint(new o(0,0));se=Math.sqrt(Math.pow(we.x-Ie.x,2)+Math.pow(we.y-Ie.y,2))}Math.abs(pe-Z)>=2*Math.PI&&(Z=0,pe=2*Math.PI),this.path.push({type:"arc",x:z,y:J,radius:se,startAngle:Z,endAngle:pe,counterclockwise:ye})},h.prototype.arcTo=function(z,J,se,Z,pe){throw new Error("arcTo not implemented.")},h.prototype.rect=function(z,J,se,Z){if(isNaN(z)||isNaN(J)||isNaN(se)||isNaN(Z))throw ur.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(z,J),this.lineTo(z+se,J),this.lineTo(z+se,J+Z),this.lineTo(z,J+Z),this.lineTo(z,J),this.lineTo(z+se,J),this.lineTo(z,J)},h.prototype.fillRect=function(z,J,se,Z){if(isNaN(z)||isNaN(J)||isNaN(se)||isNaN(Z))throw ur.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var pe={};this.lineCap!=="butt"&&(pe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(pe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(z,J,se,Z),this.fill(),pe.hasOwnProperty("lineCap")&&(this.lineCap=pe.lineCap),pe.hasOwnProperty("lineJoin")&&(this.lineJoin=pe.lineJoin)}},h.prototype.strokeRect=function(z,J,se,Z){if(isNaN(z)||isNaN(J)||isNaN(se)||isNaN(Z))throw ur.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(z,J,se,Z),this.stroke())},h.prototype.clearRect=function(z,J,se,Z){if(isNaN(z)||isNaN(J)||isNaN(se)||isNaN(Z))throw ur.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(z,J,se,Z))},h.prototype.save=function(z){z=typeof z!="boolean"||z;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,se=0;se<this.pdf.internal.getNumberOfPages();se++)this.pdf.setPage(se+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),z){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},h.prototype.restore=function(z){z=typeof z!="boolean"||z;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,se=0;se<this.pdf.internal.getNumberOfPages();se++)this.pdf.setPage(se+1),this.pdf.internal.out("Q");this.pdf.setPage(J),z&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(z){var J,se,Z,pe;if(z.isCanvasGradient===!0&&(z=z.getColor()),!z)return{r:0,g:0,b:0,a:0,style:z};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(z))J=0,se=0,Z=0,pe=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(z);if(ye!==null)J=parseInt(ye[1]),se=parseInt(ye[2]),Z=parseInt(ye[3]),pe=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(z))!==null)J=parseInt(ye[1]),se=parseInt(ye[2]),Z=parseInt(ye[3]),pe=parseFloat(ye[4]);else{if(pe=1,typeof z=="string"&&z.charAt(0)!=="#"){var ve=new eT(z);z=ve.ok?ve.toHex():"#000000"}z.length===4?(J=z.substring(1,2),J+=J,se=z.substring(2,3),se+=se,Z=z.substring(3,4),Z+=Z):(J=z.substring(1,3),se=z.substring(3,5),Z=z.substring(5,7)),J=parseInt(J,16),se=parseInt(se,16),Z=parseInt(Z,16)}}return{r:J,g:se,b:Z,a:pe,style:z}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(z,J,se,Z){if(isNaN(J)||isNaN(se)||typeof z!="string")throw ur.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!g.call(this)){var pe=te(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;P.call(this,{text:z,x:J,y:se,scale:ye,angle:pe,align:this.textAlign,maxWidth:Z})}},h.prototype.strokeText=function(z,J,se,Z){if(isNaN(J)||isNaN(se)||typeof z!="string")throw ur.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){Z=isNaN(Z)?void 0:Z;var pe=te(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;P.call(this,{text:z,x:J,y:se,scale:ye,renderingMode:"stroke",angle:pe,align:this.textAlign,maxWidth:Z})}},h.prototype.measureText=function(z){if(typeof z!="string")throw ur.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,se=this.pdf.internal.scaleFactor,Z=J.internal.getFontSize(),pe=J.getStringUnitWidth(z)*Z/J.internal.scaleFactor,ye=function(ve){var we=(ve=ve||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return we}}),this};return new ye({width:pe*=Math.round(96*se/72*1e4)/1e4})},h.prototype.scale=function(z,J){if(isNaN(z)||isNaN(J))throw ur.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var se=new u(z,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(se)},h.prototype.rotate=function(z){if(isNaN(z))throw ur.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new u(Math.cos(z),Math.sin(z),-Math.sin(z),Math.cos(z),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},h.prototype.translate=function(z,J){if(isNaN(z)||isNaN(J))throw ur.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var se=new u(1,0,0,1,z,J);this.ctx.transform=this.ctx.transform.multiply(se)},h.prototype.transform=function(z,J,se,Z,pe,ye){if(isNaN(z)||isNaN(J)||isNaN(se)||isNaN(Z)||isNaN(pe)||isNaN(ye))throw ur.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ve=new u(z,J,se,Z,pe,ye);this.ctx.transform=this.ctx.transform.multiply(ve)},h.prototype.setTransform=function(z,J,se,Z,pe,ye){z=isNaN(z)?1:z,J=isNaN(J)?0:J,se=isNaN(se)?0:se,Z=isNaN(Z)?1:Z,pe=isNaN(pe)?0:pe,ye=isNaN(ye)?0:ye,this.ctx.transform=new u(z,J,se,Z,pe,ye)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(z,J,se,Z,pe,ye,ve,we,Ie){var Me=this.pdf.getImageProperties(z),Be=1,We=1,ft=1,Te=1;Z!==void 0&&we!==void 0&&(ft=we/Z,Te=Ie/pe,Be=Me.width/Z*we/Z,We=Me.height/pe*Ie/pe),ye===void 0&&(ye=J,ve=se,J=0,se=0),Z!==void 0&&we===void 0&&(we=Z,Ie=pe),Z===void 0&&we===void 0&&(we=Me.width,Ie=Me.height);for(var me,St=this.ctx.transform.decompose(),vt=te(St.rotate.shx),Je=new u,st=(Je=(Je=(Je=Je.multiply(St.translate)).multiply(St.skew)).multiply(St.scale)).applyToRectangle(new a(ye-J*ft,ve-se*Te,Z*Be,pe*We)),Ce=x.call(this,st),Ne=[],Ve=0;Ve<Ce.length;Ve+=1)Ne.indexOf(Ce[Ve])===-1&&Ne.push(Ce[Ve]);if(j(Ne),this.autoPaging)for(var Ze=Ne[0],ct=Ne[Ne.length-1],nt=Ze;nt<ct+1;nt++){this.pdf.setPage(nt);var dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],lt=nt===1?this.posY+this.margin[0]:this.margin[0],_t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=nt===1?0:_t+(nt-2)*gt;if(this.ctx.clip_path.length!==0){var rn=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(me,this.posX+this.margin[3],-ot+lt+this.ctx.prevPageLastElemOffset),$.call(this,"fill",!0),this.path=rn}var Mt=JSON.parse(JSON.stringify(st));Mt=L([Mt],this.posX+this.margin[3],-ot+lt+this.ctx.prevPageLastElemOffset)[0];var Zn=(nt>Ze||nt<ct)&&_.call(this);Zn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dt,gt,null).clip().discardPath()),this.pdf.addImage(z,"JPEG",Mt.x,Mt.y,Mt.w,Mt.h,null,null,vt),Zn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(z,"JPEG",st.x,st.y,st.w,st.h,null,null,vt)};var x=function(z,J,se){var Z=[];J=J||this.pdf.internal.pageSize.width,se=se||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var pe=this.posY+this.ctx.prevPageLastElemOffset;switch(z.type){default:case"mt":case"lt":Z.push(Math.floor((z.y+pe)/se)+1);break;case"arc":Z.push(Math.floor((z.y+pe-z.radius)/se)+1),Z.push(Math.floor((z.y+pe+z.radius)/se)+1);break;case"qct":var ye=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x,z.y);Z.push(Math.floor((ye.y+pe)/se)+1),Z.push(Math.floor((ye.y+ye.h+pe)/se)+1);break;case"bct":var ve=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x2,z.y2,z.x,z.y);Z.push(Math.floor((ve.y+pe)/se)+1),Z.push(Math.floor((ve.y+ve.h+pe)/se)+1);break;case"rect":Z.push(Math.floor((z.y+pe)/se)+1),Z.push(Math.floor((z.y+z.h+pe)/se)+1)}for(var we=0;we<Z.length;we+=1)for(;this.pdf.internal.getNumberOfPages()<Z[we];)C.call(this);return Z},C=function(){var z=this.fillStyle,J=this.strokeStyle,se=this.font,Z=this.lineCap,pe=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=z,this.strokeStyle=J,this.font=se,this.lineCap=Z,this.lineWidth=pe,this.lineJoin=ye},L=function(z,J,se){for(var Z=0;Z<z.length;Z++)switch(z[Z].type){case"bct":z[Z].x2+=J,z[Z].y2+=se;case"qct":z[Z].x1+=J,z[Z].y1+=se;case"mt":case"lt":case"arc":default:z[Z].x+=J,z[Z].y+=se}return z},j=function(z){return z.sort(function(J,se){return J-se})},D=function(z,J){for(var se,Z,pe=this.fillStyle,ye=this.strokeStyle,ve=this.lineCap,we=this.lineWidth,Ie=Math.abs(we*this.ctx.transform.scaleX),Me=this.lineJoin,Be=JSON.parse(JSON.stringify(this.path)),We=JSON.parse(JSON.stringify(this.path)),ft=[],Te=0;Te<We.length;Te++)if(We[Te].x!==void 0)for(var me=x.call(this,We[Te]),St=0;St<me.length;St+=1)ft.indexOf(me[St])===-1&&ft.push(me[St]);for(var vt=0;vt<ft.length;vt++)for(;this.pdf.internal.getNumberOfPages()<ft[vt];)C.call(this);if(j(ft),this.autoPaging)for(var Je=ft[0],st=ft[ft.length-1],Ce=Je;Ce<st+1;Ce++){this.pdf.setPage(Ce),this.fillStyle=pe,this.strokeStyle=ye,this.lineCap=ve,this.lineWidth=Ie,this.lineJoin=Me;var Ne=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ve=Ce===1?this.posY+this.margin[0]:this.margin[0],Ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nt=Ce===1?0:Ze+(Ce-2)*ct;if(this.ctx.clip_path.length!==0){var dt=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(se,this.posX+this.margin[3],-nt+Ve+this.ctx.prevPageLastElemOffset),$.call(this,z,!0),this.path=dt}if(Z=JSON.parse(JSON.stringify(Be)),this.path=L(Z,this.posX+this.margin[3],-nt+Ve+this.ctx.prevPageLastElemOffset),J===!1||Ce===0){var lt=(Ce>Je||Ce<st)&&_.call(this);lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ne,ct,null).clip().discardPath()),$.call(this,z,J),lt&&this.pdf.restoreGraphicsState()}this.lineWidth=we}else this.lineWidth=Ie,$.call(this,z,J),this.lineWidth=we;this.path=Be},$=function(z,J){if((z!=="stroke"||J||!w.call(this))&&(z==="stroke"||J||!g.call(this))){for(var se,Z,pe=[],ye=this.path,ve=0;ve<ye.length;ve++){var we=ye[ve];switch(we.type){case"begin":pe.push({begin:!0});break;case"close":pe.push({close:!0});break;case"mt":pe.push({start:we,deltas:[],abs:[]});break;case"lt":var Ie=pe.length;if(ye[ve-1]&&!isNaN(ye[ve-1].x)&&(se=[we.x-ye[ve-1].x,we.y-ye[ve-1].y],Ie>0)){for(;Ie>=0;Ie--)if(pe[Ie-1].close!==!0&&pe[Ie-1].begin!==!0){pe[Ie-1].deltas.push(se),pe[Ie-1].abs.push(we);break}}break;case"bct":se=[we.x1-ye[ve-1].x,we.y1-ye[ve-1].y,we.x2-ye[ve-1].x,we.y2-ye[ve-1].y,we.x-ye[ve-1].x,we.y-ye[ve-1].y],pe[pe.length-1].deltas.push(se);break;case"qct":var Me=ye[ve-1].x+2/3*(we.x1-ye[ve-1].x),Be=ye[ve-1].y+2/3*(we.y1-ye[ve-1].y),We=we.x+2/3*(we.x1-we.x),ft=we.y+2/3*(we.y1-we.y),Te=we.x,me=we.y;se=[Me-ye[ve-1].x,Be-ye[ve-1].y,We-ye[ve-1].x,ft-ye[ve-1].y,Te-ye[ve-1].x,me-ye[ve-1].y],pe[pe.length-1].deltas.push(se);break;case"arc":pe.push({deltas:[],abs:[],arc:!0}),Array.isArray(pe[pe.length-1].abs)&&pe[pe.length-1].abs.push(we)}}Z=J?null:z==="stroke"?"stroke":"fill";for(var St=!1,vt=0;vt<pe.length;vt++)if(pe[vt].arc)for(var Je=pe[vt].abs,st=0;st<Je.length;st++){var Ce=Je[st];Ce.type==="arc"?I.call(this,Ce.x,Ce.y,Ce.radius,Ce.startAngle,Ce.endAngle,Ce.counterclockwise,void 0,J,!St):B.call(this,Ce.x,Ce.y),St=!0}else if(pe[vt].close===!0)this.pdf.internal.out("h"),St=!1;else if(pe[vt].begin!==!0){var Ne=pe[vt].start.x,Ve=pe[vt].start.y;Y.call(this,pe[vt].deltas,Ne,Ve),St=!0}Z&&N.call(this,Z),J&&W.call(this)}},H=function(z){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,se=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return z-se;case"top":return z+J-se;case"hanging":return z+J-2*se;case"middle":return z+J/2-se;case"ideographic":return z;case"alphabetic":default:return z}},R=function(z){return z+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var z=function(){};return z.colorStops=[],z.addColorStop=function(J,se){this.colorStops.push([J,se])},z.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},z.isCanvasGradient=!0,z},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(z,J,se,Z,pe,ye,ve,we,Ie){for(var Me=ae.call(this,se,Z,pe,ye),Be=0;Be<Me.length;Be++){var We=Me[Be];Be===0&&(Ie?O.call(this,We.x1+z,We.y1+J):B.call(this,We.x1+z,We.y1+J)),ue.call(this,z,J,We.x2,We.y2,We.x3,We.y3,We.x4,We.y4)}we?W.call(this):N.call(this,ve)},N=function(z){switch(z){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},W=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(z,J){this.pdf.internal.out(t(z)+" "+r(J)+" m")},P=function(z){var J;switch(z.align){case"right":case"end":J="right";break;case"center":J="center";break;case"left":case"start":default:J="left"}var se=this.pdf.getTextDimensions(z.text),Z=H.call(this,z.y),pe=R.call(this,Z)-se.h,ye=this.ctx.transform.applyToPoint(new o(z.x,Z)),ve=this.ctx.transform.decompose(),we=new u;we=(we=(we=we.multiply(ve.translate)).multiply(ve.skew)).multiply(ve.scale);for(var Ie,Me,Be,We=this.ctx.transform.applyToRectangle(new a(z.x,Z,se.w,se.h)),ft=we.applyToRectangle(new a(z.x,pe,se.w,se.h)),Te=x.call(this,ft),me=[],St=0;St<Te.length;St+=1)me.indexOf(Te[St])===-1&&me.push(Te[St]);if(j(me),this.autoPaging)for(var vt=me[0],Je=me[me.length-1],st=vt;st<Je+1;st++){this.pdf.setPage(st);var Ce=st===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ve=this.pdf.internal.pageSize.height-this.margin[2],Ze=Ve-this.margin[0],ct=this.pdf.internal.pageSize.width-this.margin[1],nt=ct-this.margin[3],dt=st===1?0:Ne+(st-2)*Ze;if(this.ctx.clip_path.length!==0){var lt=this.path;Ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(Ie,this.posX+this.margin[3],-1*dt+Ce),$.call(this,"fill",!0),this.path=lt}var _t=L([JSON.parse(JSON.stringify(ft))],this.posX+this.margin[3],-dt+Ce+this.ctx.prevPageLastElemOffset)[0];z.scale>=.01&&(Me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Me*z.scale),Be=this.lineWidth,this.lineWidth=Be*z.scale);var gt=this.autoPaging!=="text";if(gt||_t.y+_t.h<=Ve){if(gt||_t.y>=Ce&&_t.x<=ct){var ot=gt?z.text:this.pdf.splitTextToSize(z.text,z.maxWidth||ct-_t.x)[0],rn=L([JSON.parse(JSON.stringify(We))],this.posX+this.margin[3],-dt+Ce+this.ctx.prevPageLastElemOffset)[0],Mt=gt&&(st>vt||st<Je)&&_.call(this);Mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nt,Ze,null).clip().discardPath()),this.pdf.text(ot,rn.x,rn.y,{angle:z.angle,align:J,renderingMode:z.renderingMode}),Mt&&this.pdf.restoreGraphicsState()}}else _t.y<Ve&&(this.ctx.prevPageLastElemOffset+=Ve-_t.y);z.scale>=.01&&(this.pdf.setFontSize(Me),this.lineWidth=Be)}else z.scale>=.01&&(Me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Me*z.scale),Be=this.lineWidth,this.lineWidth=Be*z.scale),this.pdf.text(z.text,ye.x+this.posX,ye.y+this.posY,{angle:z.angle,align:J,renderingMode:z.renderingMode,maxWidth:z.maxWidth}),z.scale>=.01&&(this.pdf.setFontSize(Me),this.lineWidth=Be)},B=function(z,J,se,Z){se=se||0,Z=Z||0,this.pdf.internal.out(t(z+se)+" "+r(J+Z)+" l")},Y=function(z,J,se){return this.pdf.lines(z,J,se,null,null)},ue=function(z,J,se,Z,pe,ye,ve,we){this.pdf.internal.out([e(i(se+z)),e(s(Z+J)),e(i(pe+z)),e(s(ye+J)),e(i(ve+z)),e(s(we+J)),"c"].join(" "))},ae=function(z,J,se,Z){for(var pe=2*Math.PI,ye=Math.PI/2;J>se;)J-=pe;var ve=Math.abs(se-J);ve<pe&&Z&&(ve=pe-ve);for(var we=[],Ie=Z?-1:1,Me=J;ve>1e-5;){var Be=Me+Ie*Math.min(ve,ye);we.push(le.call(this,z,Me,Be)),ve-=Math.abs(Be-Me),Me=Be}return we},le=function(z,J,se){var Z=(se-J)/2,pe=z*Math.cos(Z),ye=z*Math.sin(Z),ve=pe,we=-ye,Ie=ve*ve+we*we,Me=Ie+ve*pe+we*ye,Be=4/3*(Math.sqrt(2*Ie*Me)-Me)/(ve*ye-we*pe),We=ve-Be*we,ft=we+Be*ve,Te=We,me=-ft,St=Z+J,vt=Math.cos(St),Je=Math.sin(St);return{x1:z*Math.cos(J),y1:z*Math.sin(J),x2:We*vt-ft*Je,y2:We*Je+ft*vt,x3:Te*vt-me*Je,y3:Te*Je+me*vt,x4:z*Math.cos(se),y4:z*Math.sin(se)}},te=function(z){return 180*z/Math.PI},ce=function(z,J,se,Z,pe,ye){var ve=z+.5*(se-z),we=J+.5*(Z-J),Ie=pe+.5*(se-pe),Me=ye+.5*(Z-ye),Be=Math.min(z,pe,ve,Ie),We=Math.max(z,pe,ve,Ie),ft=Math.min(J,ye,we,Me),Te=Math.max(J,ye,we,Me);return new a(Be,ft,We-Be,Te-ft)},fe=function(z,J,se,Z,pe,ye,ve,we){var Ie,Me,Be,We,ft,Te,me,St,vt,Je,st,Ce,Ne,Ve,Ze=se-z,ct=Z-J,nt=pe-se,dt=ye-Z,lt=ve-pe,_t=we-ye;for(Me=0;Me<41;Me++)vt=(me=(Be=z+(Ie=Me/40)*Ze)+Ie*((ft=se+Ie*nt)-Be))+Ie*(ft+Ie*(pe+Ie*lt-ft)-me),Je=(St=(We=J+Ie*ct)+Ie*((Te=Z+Ie*dt)-We))+Ie*(Te+Ie*(ye+Ie*_t-Te)-St),Me==0?(st=vt,Ce=Je,Ne=vt,Ve=Je):(st=Math.min(st,vt),Ce=Math.min(Ce,Je),Ne=Math.max(Ne,vt),Ve=Math.max(Ve,Je));return new a(Math.round(st),Math.round(Ce),Math.round(Ne-st),Math.round(Ve-Ce))},ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var z,J,se=(z=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:z,lineDashOffset:J}));this.prevLineDash!==se&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=se)}}})(zt.API),function(n){var e=function(s){var o,a,u,f,d,h,m,g,w,_;for(a=[],u=0,f=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;f>u;u+=4)(d=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(h=(d=((d=((d=((d=(d-(_=d%85))/85)-(w=d%85))/85)-(g=d%85))/85)-(m=d%85))/85)%85,a.push(h+33,m+33,g+33,w+33,_+33)):a.push(122);return function(x,C){for(var L=C;L>0;L--)x.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},t=function(s){var o,a,u,f,d,h=String,m="length",g=255,w="charCodeAt",_="slice",x="replace";for(s[_](-2),s=s[_](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),u=[],f=0,d=(s+=o="uuuuu"[_](s[m]%5||5))[m];d>f;f+=5)a=52200625*(s[w](f)-33)+614125*(s[w](f+1)-33)+7225*(s[w](f+2)-33)+85*(s[w](f+3)-33)+(s[w](f+4)-33),u.push(g&a>>24,g&a>>16,g&a>>8,g&a);return function(C,L){for(var j=L;j>0;j--)C.pop()}(u,o[m]),h.fromCharCode.apply(h,u)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",u=0;u<s.length;u+=2)a+=String.fromCharCode("0x"+(s[u]+s[u+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=G2(o)).reduce(function(u,f){return u+String.fromCharCode(f)},"")};n.processDataByFilters=function(s,o){var a=0,u=s||"",f=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":u=t(u),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:u,reverseChain:f.reverse().join(" ")}}}(zt.API),function(n){n.loadFile=function(e,t,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(u,f,d){var h=new XMLHttpRequest,m=0,g=function(w){var _=w.length,x=[],C=String.fromCharCode;for(m=0;m<_;m+=1)x.push(C(255&w.charCodeAt(m)));return x.join("")};if(h.open("GET",u,!f),h.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(h.onload=function(){h.status===200?d(g(this.responseText)):d(void 0)}),h.send(null),f&&h.status===200)return g(h.responseText)}(i,s,o)}catch{}return a}(e,t,r)},n.loadImageFile=n.loadFile}(zt.API),function(n){function e(){return(Ht.html2canvas?Promise.resolve(Ht.html2canvas):z2(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(Ht.DOMPurify?Promise.resolve(Ht.DOMPurify):z2(()=>import("./purify.es-Ci5xwkH_.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=ir(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var u=document.createElement(o);for(var f in a.className&&(u.className=a.className),a.innerHTML&&a.dompurify&&(u.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)u.style[f]=a.style[f];return u},s=function o(a){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),f=o.convert(Promise.resolve(),u);return f=(f=f.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(t).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function u(f,d){for(var h=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),m=f.firstChild;m;m=m.nextSibling)d!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||h.appendChild(u(m,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(h.width=f.width,h.height=f.height,h.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(h.value=f.value),h.addEventListener("load",function(){h.scrollTop=f.scrollTop,h.scrollLeft=f.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,a(this.prop.container,u)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var u=this.opt.jsPDF,f=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=f,f)for(var m=0;m<f.length;++m){var g=f[m],w=g.src.find(function(_){return _.format==="truetype"});w&&u.addFont(w.url,g.ref.name,g.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,u.context2d.save(!0),a(this.prop.container,h)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var u=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(u):u})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(u,f){return Math.floor(u*f/72*96)}return this.then(function(){(o=o||zt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,u,f){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),u!=null&&(this.progress.n=u),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,u,f){return this.setProgress(o?this.progress.val+o:null,a||null,u?this.progress.n+u:null,f?this.progress.stack.concat(f):null)},s.prototype.then=function(o,a){var u=this;return this.thenCore(o,a,function(f,d){return u.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(h){return u.updateProgress(null,f),h}).then(f,d).then(function(h){return u.updateProgress(1),h})})},s.prototype.thenCore=function(o,a,u){u=u||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),d=u.call(f,o,a);return s.convert(d,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(u){a=a.thenCore(u)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,zt.getPageSize=function(o,a,u){if(ir(o)==="object"){var f=o;o=f.orientation,a=f.unit||a,u=f.format||u}a=a||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var d,h=(""+u).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+a}var g,w=0,_=0;if(m.hasOwnProperty(h))w=m[h][1]/d,_=m[h][0]/d;else try{w=u[1],_=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",_>w&&(g=_,_=w,w=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",w>_&&(g=_,_=w,w=g)}return{width:_,height:w,unit:a,k:d,orientation:o}},n.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(Z2):null;var u=new s(a);return a.worker?u:u.from(o).doCallback()}}(zt.API),zt.API.addJS=function(n){return VS=n,this.internal.events.subscribe("postPutResources",function(){Ug=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ug+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),BS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+VS+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ug!==void 0&&BS!==void 0&&this.internal.out("/Names <</JavaScript "+Ug+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var u=a[1];t.internal.newObjectDeferredBegin(u,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,d=[];for(s=0;s<f;s++){var h=t.internal.newObject();d.push(h);var m=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var g=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<d.length;s++)t.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+g+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var u=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(zt.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,o,a){var u,f=this.decode.DCT_DECODE,d=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(u=function(h){for(var m,g=256*h.charCodeAt(4)+h.charCodeAt(5),w=h.length,_={width:0,height:0,numcomponents:1},x=4;x<w;x+=2){if(x+=g,e.indexOf(h.charCodeAt(x+1))!==-1){m=256*h.charCodeAt(x+5)+h.charCodeAt(x+6),_={width:256*h.charCodeAt(x+7)+h.charCodeAt(x+8),height:m,numcomponents:h.charCodeAt(x+9)};break}g=256*h.charCodeAt(x+2)+h.charCodeAt(x+3)}return _}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}d={data:t,width:u.width,height:u.height,colorSpace:a,bitsPerComponent:8,filter:f,index:r,alias:i}}return d}}(zt.API);var sh,zg,US,zS,$S,XV=function(){var n,e,t;function r(s){var o,a,u,f,d,h,m,g,w,_,x,C,L,j;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(o=this.readUInt32(),w=(function(){var D,$;for($=[],D=0;D<4;++D)$.push(String.fromCharCode(this.data[this.pos++]));return $}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),f=this.readUInt16()||100,h.delay=1e3*d/f,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(w==="fdAT"&&(this.pos+=4,o-=4),s=(h!=null?h.data:void 0)||this.imgData,C=0;0<=o?C<o:C>o;0<=o?++C:--C)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((_=u-this.transparency.indexed.length)>0)for(L=0;0<=_?L<_:L>_;0<=_?++L:--L)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":m=(x=this.read(o)).indexOf(0),g=String.fromCharCode.apply(String,x.slice(0,m)),this.text[g]=String.fromCharCode.apply(String,x.slice(m+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(j=this.colorType)===4||j===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),u=0,f=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function d(h,m,g,w){var _,x,C,L,j,D,$,H,R,I,N,W,O,P,B,Y,ue,ae,le,te,ce,fe=Math.ceil((f.width-h)/g),ne=Math.ceil((f.height-m)/w),z=f.width==fe&&f.height==ne;for(P=o*fe,W=z?a:new Uint8Array(P*ne),D=s.length,O=0,x=0;O<ne&&u<D;){switch(s[u++]){case 0:for(L=ue=0;ue<P;L=ue+=1)W[x++]=s[u++];break;case 1:for(L=ae=0;ae<P;L=ae+=1)_=s[u++],j=L<o?0:W[x-o],W[x++]=(_+j)%256;break;case 2:for(L=le=0;le<P;L=le+=1)_=s[u++],C=(L-L%o)/o,B=O&&W[(O-1)*P+C*o+L%o],W[x++]=(B+_)%256;break;case 3:for(L=te=0;te<P;L=te+=1)_=s[u++],C=(L-L%o)/o,j=L<o?0:W[x-o],B=O&&W[(O-1)*P+C*o+L%o],W[x++]=(_+Math.floor((j+B)/2))%256;break;case 4:for(L=ce=0;ce<P;L=ce+=1)_=s[u++],C=(L-L%o)/o,j=L<o?0:W[x-o],O===0?B=Y=0:(B=W[(O-1)*P+C*o+L%o],Y=C&&W[(O-1)*P+(C-1)*o+L%o]),$=j+B-Y,H=Math.abs($-j),I=Math.abs($-B),N=Math.abs($-Y),R=H<=I&&H<=N?j:I<=N?B:Y,W[x++]=(_+R)%256;break;default:throw new Error("Invalid filter algorithm: "+s[u-1])}if(!z){var J=((m+O*w)*f.width+h)*o,se=O*P;for(L=0;L<fe;L+=1){for(var Z=0;Z<o;Z+=1)a[J++]=W[se++];J+=(g-1)*o}}O++}}return s=PV(s),f.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,u,f,d,h,m,g;for(a=this.palette,d=this.transparency.indexed||[],f=new Uint8Array((d.length||0)+a.length),u=0,s=0,o=h=0,m=a.length;h<m;o=h+=3)f[u++]=a[o],f[u++]=a[o+1],f[u++]=a[o+2],f[u++]=(g=d[s++])!=null?g:255;return f},r.prototype.copyToImageData=function(s,o){var a,u,f,d,h,m,g,w,_,x,C;if(u=this.colors,_=null,a=this.hasAlphaChannel,this.palette.length&&(_=(C=this._decodedPalette)!=null?C:this._decodedPalette=this.decodePalette(),u=4,a=!0),w=(f=s.data||s).length,h=_||o,d=m=0,u===1)for(;d<w;)g=_?4*o[d/4]:m,x=h[g++],f[d++]=x,f[d++]=x,f[d++]=x,f[d++]=a?h[g++]:255,m=g;else for(;d<w;)g=_?4*o[d/4]:m,f[d++]=h[g++],f[d++]=h[g++],f[d++]=h[g++],f[d++]=a?h[g++]:255,m=g},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Ht)==="[object Window]"){try{e=Ht.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(s){var o;if(i()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,u,f,d,h,m,g;if(this.animation){for(g=[],a=d=0,h=(m=this.animation.frames).length;d<h;a=++d)o=m[a],u=s.createImageData(o.width,o.height),f=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(u,f),o.imageData=u,g.push(o.image=n(u));return g}},r.prototype.renderFrame=function(s,o){var a,u,f;return a=(u=this.animation.frames)[o],f=u[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(f!=null?f.disposeOp:void 0)===1?s.clearRect(f.xOffset,f.yOffset,f.width,f.height):(f!=null?f.disposeOp:void 0)===2&&s.putImageData(f.imageData,f.xOffset,f.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,u,f,d,h,m=this;return a=0,h=this.animation,f=h.numFrames,u=h.frames,d=h.numPlays,(o=function(){var g,w;if(g=a++%f,w=u[g],m.renderFrame(s,g),f>1&&a/f<d)return m.animation._timeout=setTimeout(o,w.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function QV(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,o=1<<(7&i)+1;n[e++],n[e++];var a=null,u=null;s&&(a=e,u=o,e+=3*o);var f=!0,d=[],h=0,m=null,g=0,w=null;for(this.width=t,this.height=r;f&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,w=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((O=n[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var _=n[e++];h=n[e++]|n[e++]<<8,m=n[e++],(1&_)==0&&(m=null),g=_>>2&7,e++;break;case 254:for(;;){if(!((O=n[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var x=n[e++]|n[e++]<<8,C=n[e++]|n[e++]<<8,L=n[e++]|n[e++]<<8,j=n[e++]|n[e++]<<8,D=n[e++],$=D>>6&1,H=1<<(7&D)+1,R=a,I=u,N=!1;D>>7&&(N=!0,R=e,I=H,e+=3*H);var W=e;for(e++;;){var O;if(!((O=n[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}d.push({x,y:C,width:L,height:j,has_local_palette:N,palette_offset:R,palette_size:I,data_offset:W,data_length:e-W,transparent_index:m,interlaced:!!$,delay:h,disposal:g});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return w},this.frameInfo=function(P){if(P<0||P>=d.length)throw new Error("Frame index out of range.");return d[P]},this.decodeAndBlitFrameBGRA=function(P,B){var Y=this.frameInfo(P),ue=Y.width*Y.height,ae=new Uint8Array(ue);qS(n,Y.data_offset,ae,ue);var le=Y.palette_offset,te=Y.transparent_index;te===null&&(te=256);var ce=Y.width,fe=t-ce,ne=ce,z=4*(Y.y*t+Y.x),J=4*((Y.y+Y.height)*t+Y.x),se=z,Z=4*fe;Y.interlaced===!0&&(Z+=4*t*7);for(var pe=8,ye=0,ve=ae.length;ye<ve;++ye){var we=ae[ye];if(ne===0&&(ne=ce,(se+=Z)>=J&&(Z=4*fe+4*t*(pe-1),se=z+(ce+fe)*(pe<<1),pe>>=1)),we===te)se+=4;else{var Ie=n[le+3*we],Me=n[le+3*we+1],Be=n[le+3*we+2];B[se++]=Be,B[se++]=Me,B[se++]=Ie,B[se++]=255}--ne}},this.decodeAndBlitFrameRGBA=function(P,B){var Y=this.frameInfo(P),ue=Y.width*Y.height,ae=new Uint8Array(ue);qS(n,Y.data_offset,ae,ue);var le=Y.palette_offset,te=Y.transparent_index;te===null&&(te=256);var ce=Y.width,fe=t-ce,ne=ce,z=4*(Y.y*t+Y.x),J=4*((Y.y+Y.height)*t+Y.x),se=z,Z=4*fe;Y.interlaced===!0&&(Z+=4*t*7);for(var pe=8,ye=0,ve=ae.length;ye<ve;++ye){var we=ae[ye];if(ne===0&&(ne=ce,(se+=Z)>=J&&(Z=4*fe+4*t*(pe-1),se=z+(ce+fe)*(pe<<1),pe>>=1)),we===te)se+=4;else{var Ie=n[le+3*we],Me=n[le+3*we+1],Be=n[le+3*we+2];B[se++]=Ie,B[se++]=Me,B[se++]=Be,B[se++]=255}--ne}}}function qS(n,e,t,r){for(var i=n[e++],s=1<<i,o=s+1,a=o+1,u=i+1,f=(1<<u)-1,d=0,h=0,m=0,g=n[e++],w=new Int32Array(4096),_=null;;){for(;d<16&&g!==0;)h|=n[e++]<<d,d+=8,g===1?g=n[e++]:--g;if(d<u)break;var x=h&f;if(h>>=u,d-=u,x!==s){if(x===o)break;for(var C=x<a?x:_,L=0,j=C;j>s;)j=w[j]>>8,++L;var D=j;if(m+L+(C!==x?1:0)>r)return void ur.log("Warning, gif stream longer than expected.");t[m++]=D;var $=m+=L;for(C!==x&&(t[m++]=D),j=C;L--;)j=w[j],t[--$]=255&j,j>>=8;_!==null&&a<4096&&(w[a++]=_<<8|D,a>=f+1&&u<12&&(++u,f=f<<1|1)),_=x}else a=o+1,f=(1<<(u=i+1))-1,_=null}return m!==r&&ur.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function D1(n){var e,t,r,i,s,o=Math.floor,a=new Array(64),u=new Array(64),f=new Array(64),d=new Array(64),h=new Array(65535),m=new Array(65535),g=new Array(64),w=new Array(64),_=[],x=0,C=7,L=new Array(64),j=new Array(64),D=new Array(64),$=new Array(256),H=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ue=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ae(z,J){for(var se=0,Z=0,pe=new Array,ye=1;ye<=16;ye++){for(var ve=1;ve<=z[ye];ve++)pe[J[Z]]=[],pe[J[Z]][0]=se,pe[J[Z]][1]=ye,Z++,se++;se*=2}return pe}function le(z){for(var J=z[0],se=z[1]-1;se>=0;)J&1<<se&&(x|=1<<C),se--,--C<0&&(x==255?(te(255),te(0)):te(x),C=7,x=0)}function te(z){_.push(z)}function ce(z){te(z>>8&255),te(255&z)}function fe(z,J,se,Z,pe){for(var ye,ve=pe[0],we=pe[240],Ie=function(Je,st){var Ce,Ne,Ve,Ze,ct,nt,dt,lt,_t,gt,ot=0;for(_t=0;_t<8;++_t){Ce=Je[ot],Ne=Je[ot+1],Ve=Je[ot+2],Ze=Je[ot+3],ct=Je[ot+4],nt=Je[ot+5],dt=Je[ot+6];var rn=Ce+(lt=Je[ot+7]),Mt=Ce-lt,Zn=Ne+dt,qt=Ne-dt,Jt=Ve+nt,on=Ve-nt,Rt=Ze+ct,Wt=Ze-ct,an=rn+Rt,dn=rn-Rt,Tt=Zn+Jt,$t=Zn-Jt;Je[ot]=an+Tt,Je[ot+4]=an-Tt;var At=.707106781*($t+dn);Je[ot+2]=dn+At,Je[ot+6]=dn-At;var Ut=.382683433*((an=Wt+on)-($t=qt+Mt)),Hn=.5411961*an+Ut,yn=1.306562965*$t+Ut,jn=.707106781*(Tt=on+qt),Zr=Mt+jn,yt=Mt-jn;Je[ot+5]=yt+Hn,Je[ot+3]=yt-Hn,Je[ot+1]=Zr+yn,Je[ot+7]=Zr-yn,ot+=8}for(ot=0,_t=0;_t<8;++_t){Ce=Je[ot],Ne=Je[ot+8],Ve=Je[ot+16],Ze=Je[ot+24],ct=Je[ot+32],nt=Je[ot+40],dt=Je[ot+48];var It=Ce+(lt=Je[ot+56]),Cr=Ce-lt,Ar=Ne+dt,er=Ne-dt,Fn=Ve+nt,tr=Ve-nt,Us=Ze+ct,es=Ze-ct,Gn=It+Us,wr=It-Us,gn=Ar+Fn,fr=Ar-Fn;Je[ot]=Gn+gn,Je[ot+32]=Gn-gn;var Sn=.707106781*(fr+wr);Je[ot+16]=wr+Sn,Je[ot+48]=wr-Sn;var zr=.382683433*((Gn=es+tr)-(fr=er+Cr)),ai=.5411961*Gn+zr,wo=1.306562965*fr+zr,_o=.707106781*(gn=tr+er),Go=Cr+_o,Sa=Cr-_o;Je[ot+40]=Sa+ai,Je[ot+24]=Sa-ai,Je[ot+8]=Go+wo,Je[ot+56]=Go-wo,ot++}for(_t=0;_t<64;++_t)gt=Je[_t]*st[_t],g[_t]=gt>0?gt+.5|0:gt-.5|0;return g}(z,J),Me=0;Me<64;++Me)w[R[Me]]=Ie[Me];var Be=w[0]-se;se=w[0],Be==0?le(Z[0]):(le(Z[m[ye=32767+Be]]),le(h[ye]));for(var We=63;We>0&&w[We]==0;)We--;if(We==0)return le(ve),se;for(var ft,Te=1;Te<=We;){for(var me=Te;w[Te]==0&&Te<=We;)++Te;var St=Te-me;if(St>=16){ft=St>>4;for(var vt=1;vt<=ft;++vt)le(we);St&=15}ye=32767+w[Te],le(pe[(St<<4)+m[ye]]),le(h[ye]),Te++}return We!=63&&le(ve),se}function ne(z){z=Math.min(Math.max(z,1),100),s!=z&&(function(J){for(var se=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var pe=o((se[Z]*J+50)/100);pe=Math.min(Math.max(pe,1),255),a[R[Z]]=pe}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ve=0;ve<64;ve++){var we=o((ye[ve]*J+50)/100);we=Math.min(Math.max(we,1),255),u[R[ve]]=we}for(var Ie=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Me=0,Be=0;Be<8;Be++)for(var We=0;We<8;We++)f[Me]=1/(a[R[Me]]*Ie[Be]*Ie[We]*8),d[Me]=1/(u[R[Me]]*Ie[Be]*Ie[We]*8),Me++}(z<50?Math.floor(5e3/z):Math.floor(200-2*z)),s=z)}this.encode=function(z,J){J&&ne(J),_=new Array,x=0,C=7,ce(65496),ce(65504),ce(16),te(74),te(70),te(73),te(70),te(0),te(1),te(1),te(0),ce(1),ce(1),te(0),te(0),function(){ce(65499),ce(132),te(0);for(var Ne=0;Ne<64;Ne++)te(a[Ne]);te(1);for(var Ve=0;Ve<64;Ve++)te(u[Ve])}(),function(Ne,Ve){ce(65472),ce(17),te(8),ce(Ve),ce(Ne),te(3),te(1),te(17),te(0),te(2),te(17),te(1),te(3),te(17),te(1)}(z.width,z.height),function(){ce(65476),ce(418),te(0);for(var Ne=0;Ne<16;Ne++)te(I[Ne+1]);for(var Ve=0;Ve<=11;Ve++)te(N[Ve]);te(16);for(var Ze=0;Ze<16;Ze++)te(W[Ze+1]);for(var ct=0;ct<=161;ct++)te(O[ct]);te(1);for(var nt=0;nt<16;nt++)te(P[nt+1]);for(var dt=0;dt<=11;dt++)te(B[dt]);te(17);for(var lt=0;lt<16;lt++)te(Y[lt+1]);for(var _t=0;_t<=161;_t++)te(ue[_t])}(),ce(65498),ce(12),te(3),te(1),te(0),te(2),te(17),te(3),te(17),te(0),te(63),te(0);var se=0,Z=0,pe=0;x=0,C=7,this.encode.displayName="_encode_";for(var ye,ve,we,Ie,Me,Be,We,ft,Te,me=z.data,St=z.width,vt=z.height,Je=4*St,st=0;st<vt;){for(ye=0;ye<Je;){for(Me=Je*st+ye,We=-1,ft=0,Te=0;Te<64;Te++)Be=Me+(ft=Te>>3)*Je+(We=4*(7&Te)),st+ft>=vt&&(Be-=Je*(st+1+ft-vt)),ye+We>=Je&&(Be-=ye+We-Je+4),ve=me[Be++],we=me[Be++],Ie=me[Be++],L[Te]=(H[ve]+H[we+256>>0]+H[Ie+512>>0]>>16)-128,j[Te]=(H[ve+768>>0]+H[we+1024>>0]+H[Ie+1280>>0]>>16)-128,D[Te]=(H[ve+1280>>0]+H[we+1536>>0]+H[Ie+1792>>0]>>16)-128;se=fe(L,f,se,e,r),Z=fe(j,d,Z,t,i),pe=fe(D,d,pe,t,i),ye+=32}st+=8}if(C>=0){var Ce=[];Ce[1]=C+1,Ce[0]=(1<<C+1)-1,le(Ce)}return ce(65497),new Uint8Array(_)},n=n||50,function(){for(var z=String.fromCharCode,J=0;J<256;J++)$[J]=z(J)}(),e=ae(I,N),t=ae(P,B),r=ae(W,O),i=ae(Y,ue),function(){for(var z=1,J=2,se=1;se<=15;se++){for(var Z=z;Z<J;Z++)m[32767+Z]=se,h[32767+Z]=[],h[32767+Z][1]=se,h[32767+Z][0]=Z;for(var pe=-(J-1);pe<=-z;pe++)m[32767+pe]=se,h[32767+pe]=[],h[32767+pe][1]=se,h[32767+pe][0]=J-1+pe;z<<=1,J<<=1}}(),function(){for(var z=0;z<256;z++)H[z]=19595*z,H[z+256>>0]=38470*z,H[z+512>>0]=7471*z+32768,H[z+768>>0]=-11059*z,H[z+1024>>0]=-21709*z,H[z+1280>>0]=32768*z+8421375,H[z+1536>>0]=-27439*z,H[z+1792>>0]=-5329*z}(),ne(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Xa(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function WS(n){function e(I){if(!I)throw Error("assert :P")}function t(I,N,W){for(var O=0;4>O;O++)if(I[N+O]!=W.charCodeAt(O))return!0;return!1}function r(I,N,W,O,P){for(var B=0;B<P;B++)I[N+B]=W[O+B]}function i(I,N,W,O){for(var P=0;P<O;P++)I[N+P]=W}function s(I){return new Int32Array(I)}function o(I,N){for(var W=[],O=0;O<I;O++)W.push(new N);return W}function a(I,N){var W=[];return function O(P,B,Y){for(var ue=Y[B],ae=0;ae<ue&&(P.push(Y.length>B+1?[]:new N),!(Y.length<B+1));ae++)O(P[ae],B+1,Y)}(W,0,I),W}var u=function(){var I=this;function N(v,E){for(var T=1<<E-1>>>0;v&T;)T>>>=1;return T?(v&T-1)+T:v}function W(v,E,T,U,G){e(!(U%T));do v[E+(U-=T)]=G;while(0<U)}function O(v,E,T,U,G){if(e(2328>=G),512>=G)var X=s(512);else if((X=s(G))==null)return 0;return function(ee,re,oe,de,be,Re){var Oe,ke,Xe=re,ze=1<<oe,Se=s(16),Ee=s(16);for(e(be!=0),e(de!=null),e(ee!=null),e(0<oe),ke=0;ke<be;++ke){if(15<de[ke])return 0;++Se[de[ke]]}if(Se[0]==be)return 0;for(Ee[1]=0,Oe=1;15>Oe;++Oe){if(Se[Oe]>1<<Oe)return 0;Ee[Oe+1]=Ee[Oe]+Se[Oe]}for(ke=0;ke<be;++ke)Oe=de[ke],0<de[ke]&&(Re[Ee[Oe]++]=ke);if(Ee[15]==1)return(de=new P).g=0,de.value=Re[0],W(ee,Xe,1,ze,de),ze;var Ge,He=-1,Ye=ze-1,bt=0,mt=1,Dt=1,wt=1<<oe;for(ke=0,Oe=1,be=2;Oe<=oe;++Oe,be<<=1){if(mt+=Dt<<=1,0>(Dt-=Se[Oe]))return 0;for(;0<Se[Oe];--Se[Oe])(de=new P).g=Oe,de.value=Re[ke++],W(ee,Xe+bt,be,wt,de),bt=N(bt,Oe)}for(Oe=oe+1,be=2;15>=Oe;++Oe,be<<=1){if(mt+=Dt<<=1,0>(Dt-=Se[Oe]))return 0;for(;0<Se[Oe];--Se[Oe]){if(de=new P,(bt&Ye)!=He){for(Xe+=wt,Ge=1<<(He=Oe)-oe;15>He&&!(0>=(Ge-=Se[He]));)++He,Ge<<=1;ze+=wt=1<<(Ge=He-oe),ee[re+(He=bt&Ye)].g=Ge+oe,ee[re+He].value=Xe-re-He}de.g=Oe-oe,de.value=Re[ke++],W(ee,Xe+(bt>>oe),be,wt,de),bt=N(bt,Oe)}}return mt!=2*Ee[15]-1?0:ze}(v,E,T,U,G,X)}function P(){this.value=this.g=0}function B(){this.value=this.g=0}function Y(){this.G=o(5,P),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(xr,B)}function ue(v,E,T,U){e(v!=null),e(E!=null),e(2147483648>U),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=E,v.pa=T,v.Jd=E,v.Yc=T+U,v.Zc=4<=U?T+U-4+1:T,ye(v)}function ae(v,E){for(var T=0;0<E--;)T|=we(v,128)<<E;return T}function le(v,E){var T=ae(v,E);return ve(v)?-T:T}function te(v,E,T,U){var G,X=0;for(e(v!=null),e(E!=null),e(4294967288>U),v.Sb=U,v.Ra=0,v.u=0,v.h=0,4<U&&(U=4),G=0;G<U;++G)X+=E[T+G]<<8*G;v.Ra=X,v.bb=U,v.oa=E,v.pa=T}function ce(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<Ju-8>>>0,++v.bb,v.u-=8;se(v)&&(v.h=1,v.u=0)}function fe(v,E){if(e(0<=E),!v.h&&E<=Yu){var T=J(v)&Ku[E];return v.u+=E,ce(v),T}return v.h=1,v.u=0}function ne(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(v){return v.Ra>>>(v.u&Ju-1)>>>0}function se(v){return e(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>Ju}function Z(v,E){v.u=E,v.h=se(v)}function pe(v){v.u>=Xu&&(e(v.u>=Xu),ce(v))}function ye(v){e(v!=null&&v.oa!=null),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(e(v!=null&&v.oa!=null),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function ve(v){return ae(v,1)}function we(v,E){var T=v.Ca;0>v.b&&ye(v);var U=v.b,G=T*E>>>8,X=(v.I>>>U>G)+0;for(X?(T-=G,v.I-=G+1<<U>>>0):T=G+1,U=T,G=0;256<=U;)G+=8,U>>=8;return U=7^G+Vi[U],v.b-=U,v.Ca=(T<<U)-1,X}function Ie(v,E,T){v[E+0]=T>>24&255,v[E+1]=T>>16&255,v[E+2]=T>>8&255,v[E+3]=T>>0&255}function Me(v,E){return v[E+0]<<0|v[E+1]<<8}function Be(v,E){return Me(v,E)|v[E+2]<<16}function We(v,E){return Me(v,E)|Me(v,E+2)<<16}function ft(v,E){var T=1<<E;return e(v!=null),e(0<E),v.X=s(T),v.X==null?0:(v.Mb=32-E,v.Xa=E,1)}function Te(v,E){e(v!=null),e(E!=null),e(v.Xa==E.Xa),r(E.X,0,v.X,0,1<<E.Xa)}function me(){this.X=[],this.Xa=this.Mb=0}function St(v,E,T,U){e(T!=null),e(U!=null);var G=T[0],X=U[0];return G==0&&(G=(v*X+E/2)/E),X==0&&(X=(E*G+v/2)/v),0>=G||0>=X?0:(T[0]=G,U[0]=X,1)}function vt(v,E){return v+(1<<E)-1>>>E}function Je(v,E){return((4278255360&v)+(4278255360&E)>>>0&4278255360)+((16711935&v)+(16711935&E)>>>0&16711935)>>>0}function st(v,E){I[E]=function(T,U,G,X,ee,re,oe){var de;for(de=0;de<ee;++de){var be=I[v](re[oe+de-1],G,X+de);re[oe+de]=Je(T[U+de],be)}}}function Ce(){this.ud=this.hd=this.jd=0}function Ne(v,E){return((4278124286&(v^E))>>>1)+(v&E)>>>0}function Ve(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function Ze(v,E){return Ve(v+(v-E+.5>>1))}function ct(v,E,T){return Math.abs(E-T)-Math.abs(v-T)}function nt(v,E,T,U,G,X,ee){for(U=X[ee-1],T=0;T<G;++T)X[ee+T]=U=Je(v[E+T],U)}function dt(v,E,T,U,G){var X;for(X=0;X<T;++X){var ee=v[E+X],re=ee>>8&255,oe=16711935&(oe=(oe=16711935&ee)+((re<<16)+re));U[G+X]=(4278255360&ee)+oe>>>0}}function lt(v,E){E.jd=v>>0&255,E.hd=v>>8&255,E.ud=v>>16&255}function _t(v,E,T,U,G,X){var ee;for(ee=0;ee<U;++ee){var re=E[T+ee],oe=re>>>8,de=re,be=255&(be=(be=re>>>16)+((v.jd<<24>>24)*(oe<<24>>24)>>>5));de=255&(de=(de=de+((v.hd<<24>>24)*(oe<<24>>24)>>>5))+((v.ud<<24>>24)*(be<<24>>24)>>>5)),G[X+ee]=(4278255360&re)+(be<<16)+de}}function gt(v,E,T,U,G){I[E]=function(X,ee,re,oe,de,be,Re,Oe,ke){for(oe=Re;oe<Oe;++oe)for(Re=0;Re<ke;++Re)de[be++]=G(re[U(X[ee++])])},I[v]=function(X,ee,re,oe,de,be,Re){var Oe=8>>X.b,ke=X.Ea,Xe=X.K[0],ze=X.w;if(8>Oe)for(X=(1<<X.b)-1,ze=(1<<Oe)-1;ee<re;++ee){var Se,Ee=0;for(Se=0;Se<ke;++Se)Se&X||(Ee=U(oe[de++])),be[Re++]=G(Xe[Ee&ze]),Ee>>=Oe}else I["VP8LMapColor"+T](oe,de,Xe,ze,be,Re,ee,re,ke)}}function ot(v,E,T,U,G){for(T=E+T;E<T;){var X=v[E++];U[G++]=X>>16&255,U[G++]=X>>8&255,U[G++]=X>>0&255}}function rn(v,E,T,U,G){for(T=E+T;E<T;){var X=v[E++];U[G++]=X>>16&255,U[G++]=X>>8&255,U[G++]=X>>0&255,U[G++]=X>>24&255}}function Mt(v,E,T,U,G){for(T=E+T;E<T;){var X=(ee=v[E++])>>16&240|ee>>12&15,ee=ee>>0&240|ee>>28&15;U[G++]=X,U[G++]=ee}}function Zn(v,E,T,U,G){for(T=E+T;E<T;){var X=(ee=v[E++])>>16&248|ee>>13&7,ee=ee>>5&224|ee>>3&31;U[G++]=X,U[G++]=ee}}function qt(v,E,T,U,G){for(T=E+T;E<T;){var X=v[E++];U[G++]=X>>0&255,U[G++]=X>>8&255,U[G++]=X>>16&255}}function Jt(v,E,T,U,G,X){if(X==0)for(T=E+T;E<T;)Ie(U,((X=v[E++])[0]>>24|X[1]>>8&65280|X[2]<<8&16711680|X[3]<<24)>>>0),G+=32;else r(U,G,v,E,T)}function on(v,E){I[E][0]=I[v+"0"],I[E][1]=I[v+"1"],I[E][2]=I[v+"2"],I[E][3]=I[v+"3"],I[E][4]=I[v+"4"],I[E][5]=I[v+"5"],I[E][6]=I[v+"6"],I[E][7]=I[v+"7"],I[E][8]=I[v+"8"],I[E][9]=I[v+"9"],I[E][10]=I[v+"10"],I[E][11]=I[v+"11"],I[E][12]=I[v+"12"],I[E][13]=I[v+"13"],I[E][14]=I[v+"0"],I[E][15]=I[v+"0"]}function Rt(v){return v==rc||v==lu||v==wf||v==_f}function Wt(){this.eb=[],this.size=this.A=this.fb=0}function an(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function dn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Wt,this.f.kb=new an,this.sd=null}function Tt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function $t(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function At(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function Ut(v,E){var T=v.T,U=E.ba.f.RGBA,G=U.eb,X=U.fb+v.ka*U.A,ee=os[E.ba.S],re=v.y,oe=v.O,de=v.f,be=v.N,Re=v.ea,Oe=v.W,ke=E.cc,Xe=E.dc,ze=E.Mc,Se=E.Nc,Ee=v.ka,Ge=v.ka+v.T,He=v.U,Ye=He+1>>1;for(Ee==0?ee(re,oe,null,null,de,be,Re,Oe,de,be,Re,Oe,G,X,null,null,He):(ee(E.ec,E.fc,re,oe,ke,Xe,ze,Se,de,be,Re,Oe,G,X-U.A,G,X,He),++T);Ee+2<Ge;Ee+=2)ke=de,Xe=be,ze=Re,Se=Oe,be+=v.Rc,Oe+=v.Rc,X+=2*U.A,ee(re,(oe+=2*v.fa)-v.fa,re,oe,ke,Xe,ze,Se,de,be,Re,Oe,G,X-U.A,G,X,He);return oe+=v.fa,v.j+Ge<v.o?(r(E.ec,E.fc,re,oe,He),r(E.cc,E.dc,de,be,Ye),r(E.Mc,E.Nc,Re,Oe,Ye),T--):1&Ge||ee(re,oe,null,null,de,be,Re,Oe,de,be,Re,Oe,G,X+U.A,null,null,He),T}function Hn(v,E,T){var U=v.F,G=[v.J];if(U!=null){var X=v.U,ee=E.ba.S,re=ee==yf||ee==wf;E=E.ba.f.RGBA;var oe=[0],de=v.ka;oe[0]=v.T,v.Kb&&(de==0?--oe[0]:(--de,G[0]-=v.width),v.j+v.ka+v.T==v.o&&(oe[0]=v.o-v.j-de));var be=E.eb;de=E.fb+de*E.A,v=Un(U,G[0],v.width,X,oe,be,de+(re?0:3),E.A),e(T==oe),v&&Rt(ee)&&is(be,de,re,X,oe,E.A)}return 0}function yn(v){var E=v.ma,T=E.ba.S,U=11>T,G=T==_l||T==vf||T==yf||T==rr||T==12||Rt(T);if(E.memory=null,E.Ib=null,E.Jb=null,E.Nd=null,!Hu(E.Oa,v,G?11:12))return 0;if(G&&Rt(T)&&tt(),v.da)alert("todo:use_scaling");else{if(U){if(E.Ib=At,v.Kb){if(T=v.U+1>>1,E.memory=s(v.U+2*T),E.memory==null)return 0;E.ec=E.memory,E.fc=0,E.cc=E.ec,E.dc=E.fc+v.U,E.Mc=E.cc,E.Nc=E.dc+T,E.Ib=Ut,tt()}}else alert("todo:EmitYUV");G&&(E.Jb=Hn,U&&Pe())}if(U&&!mi){for(v=0;256>v;++v)as[v]=89858*(v-128)+To>>Ba,ls[v]=-22014*(v-128)+To,ac[v]=-45773*(v-128),du[v]=113618*(v-128)+To>>Ba;for(v=zn;v<Yn;++v)E=76283*(v-16)+To>>Ba,Dd[v-zn]=Nn(E,255),tg[v-zn]=Nn(E+8>>4,15);mi=1}return 1}function jn(v){var E=v.ma,T=v.U,U=v.T;return e(!(1&v.ka)),0>=T||0>=U?0:(T=E.Ib(v,E),E.Jb!=null&&E.Jb(v,E,T),E.Dc+=T,1)}function Zr(v){v.ma.memory=null}function yt(v,E,T,U){return fe(v,8)!=47?0:(E[0]=fe(v,14)+1,T[0]=fe(v,14)+1,U[0]=fe(v,1),fe(v,3)!=0?0:!v.h)}function It(v,E){if(4>v)return v+1;var T=v-2>>1;return(2+(1&v)<<T)+fe(E,T)+1}function Cr(v,E){return 120<E?E-120:1<=(T=((T=vy[E-1])>>4)*v+(8-(15&T)))?T:1;var T}function Ar(v,E,T){var U=J(T),G=v[E+=255&U].g-8;return 0<G&&(Z(T,T.u+8),U=J(T),E+=v[E].value,E+=U&(1<<G)-1),Z(T,T.u+v[E].g),v[E].value}function er(v,E,T){return T.g+=v.g,T.value+=v.value<<E>>>0,e(8>=T.g),v.g}function Fn(v,E,T){var U=v.xc;return e((E=U==0?0:v.vc[v.md*(T>>U)+(E>>U)])<v.Wb),v.Ya[E]}function tr(v,E,T,U){var G=v.ab,X=v.c*E,ee=v.C;E=ee+E;var re=T,oe=U;for(U=v.Ta,T=v.Ua;0<G--;){var de=v.gc[G],be=ee,Re=E,Oe=re,ke=oe,Xe=(oe=U,re=T,de.Ea);switch(e(be<Re),e(Re<=de.nc),de.hc){case 2:Id(Oe,ke,(Re-be)*Xe,oe,re);break;case 0:var ze=be,Se=Re,Ee=oe,Ge=re,He=(wt=de).Ea;ze==0&&(nu(Oe,ke,null,null,1,Ee,Ge),nt(Oe,ke+1,0,0,He-1,Ee,Ge+1),ke+=He,Ge+=He,++ze);for(var Ye=1<<wt.b,bt=Ye-1,mt=vt(He,wt.b),Dt=wt.K,wt=wt.w+(ze>>wt.b)*mt;ze<Se;){var Cn=Dt,An=wt,wn=1;for(Ia(Oe,ke,Ee,Ge-He,1,Ee,Ge);wn<He;){var nn=(wn&~bt)+Ye;nn>He&&(nn=He),(0,sa[Cn[An++]>>8&15])(Oe,ke+ +wn,Ee,Ge+wn-He,nn-wn,Ee,Ge+wn),wn=nn}ke+=He,Ge+=He,++ze&bt||(wt+=mt)}Re!=de.nc&&r(oe,re-Xe,oe,re+(Re-be-1)*Xe,Xe);break;case 1:for(Xe=Oe,Se=ke,He=(Oe=de.Ea)-(Ge=Oe&~(Ee=(ke=1<<de.b)-1)),ze=vt(Oe,de.b),Ye=de.K,de=de.w+(be>>de.b)*ze;be<Re;){for(bt=Ye,mt=de,Dt=new Ce,wt=Se+Ge,Cn=Se+Oe;Se<wt;)lt(bt[mt++],Dt),vl(Dt,Xe,Se,ke,oe,re),Se+=ke,re+=ke;Se<Cn&&(lt(bt[mt++],Dt),vl(Dt,Xe,Se,He,oe,re),Se+=He,re+=He),++be&Ee||(de+=ze)}break;case 3:if(Oe==oe&&ke==re&&0<de.b){for(Se=oe,Oe=Xe=re+(Re-be)*Xe-(Ge=(Re-be)*vt(de.Ea,de.b)),ke=oe,Ee=re,ze=[],Ge=(He=Ge)-1;0<=Ge;--Ge)ze[Ge]=ke[Ee+Ge];for(Ge=He-1;0<=Ge;--Ge)Se[Oe+Ge]=ze[Ge];Ui(de,be,Re,oe,Xe,oe,re)}else Ui(de,be,Re,Oe,ke,oe,re)}re=U,oe=T}oe!=T&&r(U,T,re,oe,X)}function Us(v,E){var T=v.V,U=v.Ba+v.c*v.C,G=E-v.C;if(e(E<=v.l.o),e(16>=G),0<G){var X=v.l,ee=v.Ta,re=v.Ua,oe=X.width;if(tr(v,G,T,U),G=re=[re],e((T=v.C)<(U=E)),e(X.v<X.va),U>X.o&&(U=X.o),T<X.j){var de=X.j-T;T=X.j,G[0]+=de*oe}if(T>=U?T=0:(G[0]+=4*X.v,X.ka=T-X.j,X.U=X.va-X.v,X.T=U-T,T=1),T){if(re=re[0],11>(T=v.ca).S){var be=T.f.RGBA,Re=(U=T.S,G=X.U,X=X.T,de=be.eb,be.A),Oe=X;for(be=be.fb+v.Ma*be.A;0<Oe--;){var ke=ee,Xe=re,ze=G,Se=de,Ee=be;switch(U){case Nd:zi(ke,Xe,ze,Se,Ee);break;case _l:Ei(ke,Xe,ze,Se,Ee);break;case rc:Ei(ke,Xe,ze,Se,Ee),is(Se,Ee,0,ze,1,0);break;case Jm:Ra(ke,Xe,ze,Se,Ee);break;case vf:Jt(ke,Xe,ze,Se,Ee,1);break;case lu:Jt(ke,Xe,ze,Se,Ee,1),is(Se,Ee,0,ze,1,0);break;case yf:Jt(ke,Xe,ze,Se,Ee,0);break;case wf:Jt(ke,Xe,ze,Se,Ee,0),is(Se,Ee,1,ze,1,0);break;case rr:yl(ke,Xe,ze,Se,Ee);break;case _f:yl(ke,Xe,ze,Se,Ee),nr(Se,Ee,ze,1,0);break;case Rd:Na(ke,Xe,ze,Se,Ee);break;default:e(0)}re+=oe,be+=Re}v.Ma+=X}else alert("todo:EmitRescaledRowsYUVA");e(v.Ma<=T.height)}}v.C=E,e(v.C<=v.i)}function es(v){var E;if(0<v.ua)return 0;for(E=0;E<v.Wb;++E){var T=v.Ya[E].G,U=v.Ya[E].H;if(0<T[1][U[1]+0].g||0<T[2][U[2]+0].g||0<T[3][U[3]+0].g)return 0}return 1}function Gn(v,E,T,U,G,X){if(v.Z!=0){var ee=v.qd,re=v.rd;for(e(Ai[v.Z]!=null);E<T;++E)Ai[v.Z](ee,re,U,G,U,G,X),ee=U,re=G,G+=X;v.qd=ee,v.rd=re}}function wr(v,E){var T=v.l.ma,U=T.Z==0||T.Z==1?v.l.j:v.C;if(U=v.C<U?U:v.C,e(E<=v.l.o),E>U){var G=v.l.width,X=T.ca,ee=T.tb+G*U,re=v.V,oe=v.Ba+v.c*U,de=v.gc;e(v.ab==1),e(de[0].hc==3),pf(de[0],U,E,re,oe,X,ee),Gn(T,U,E,X,ee,G)}v.C=v.Ma=E}function gn(v,E,T,U,G,X,ee){var re=v.$/U,oe=v.$%U,de=v.m,be=v.s,Re=T+v.$,Oe=Re;G=T+U*G;var ke=T+U*X,Xe=280+be.ua,ze=v.Pb?re:16777216,Se=0<be.ua?be.Wa:null,Ee=be.wc,Ge=Re<ke?Fn(be,oe,re):null;e(v.C<X),e(ke<=G);var He=!1;e:for(;;){for(;He||Re<ke;){var Ye=0;if(re>=ze){var bt=Re-T;e((ze=v).Pb),ze.wd=ze.m,ze.xd=bt,0<ze.s.ua&&Te(ze.s.Wa,ze.s.vb),ze=re+Md}if(oe&Ee||(Ge=Fn(be,oe,re)),e(Ge!=null),Ge.Qb&&(E[Re]=Ge.qb,He=!0),!He)if(pe(de),Ge.jc){Ye=de,bt=E;var mt=Re,Dt=Ge.pd[J(Ye)&xr-1];e(Ge.jc),256>Dt.g?(Z(Ye,Ye.u+Dt.g),bt[mt]=Dt.value,Ye=0):(Z(Ye,Ye.u+Dt.g-256),e(256<=Dt.value),Ye=Dt.value),Ye==0&&(He=!0)}else Ye=Ar(Ge.G[0],Ge.H[0],de);if(de.h)break;if(He||256>Ye){if(!He)if(Ge.nd)E[Re]=(Ge.qb|Ye<<8)>>>0;else{if(pe(de),He=Ar(Ge.G[1],Ge.H[1],de),pe(de),bt=Ar(Ge.G[2],Ge.H[2],de),mt=Ar(Ge.G[3],Ge.H[3],de),de.h)break;E[Re]=(mt<<24|He<<16|Ye<<8|bt)>>>0}if(He=!1,++Re,++oe>=U&&(oe=0,++re,ee!=null&&re<=X&&!(re%16)&&ee(v,re),Se!=null))for(;Oe<Re;)Ye=E[Oe++],Se.X[(506832829*Ye&4294967295)>>>Se.Mb]=Ye}else if(280>Ye){if(Ye=It(Ye-256,de),bt=Ar(Ge.G[4],Ge.H[4],de),pe(de),bt=Cr(U,bt=It(bt,de)),de.h)break;if(Re-T<bt||G-Re<Ye)break e;for(mt=0;mt<Ye;++mt)E[Re+mt]=E[Re+mt-bt];for(Re+=Ye,oe+=Ye;oe>=U;)oe-=U,++re,ee!=null&&re<=X&&!(re%16)&&ee(v,re);if(e(Re<=G),oe&Ee&&(Ge=Fn(be,oe,re)),Se!=null)for(;Oe<Re;)Ye=E[Oe++],Se.X[(506832829*Ye&4294967295)>>>Se.Mb]=Ye}else{if(!(Ye<Xe))break e;for(He=Ye-280,e(Se!=null);Oe<Re;)Ye=E[Oe++],Se.X[(506832829*Ye&4294967295)>>>Se.Mb]=Ye;Ye=Re,e(!(He>>>(bt=Se).Xa)),E[Ye]=bt.X[He],He=!0}He||e(de.h==se(de))}if(v.Pb&&de.h&&Re<G)e(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&Te(v.s.vb,v.s.Wa);else{if(de.h)break e;ee!=null&&ee(v,re>X?X:re),v.a=0,v.$=Re-T}return 1}return v.a=3,0}function fr(v){e(v!=null),v.vc=null,v.yc=null,v.Ya=null;var E=v.Wa;E!=null&&(E.X=null),v.vb=null,e(v!=null)}function Sn(){var v=new Wu;return v==null?null:(v.a=0,v.xb=sc,on("Predictor","VP8LPredictors"),on("Predictor","VP8LPredictors_C"),on("PredictorAdd","VP8LPredictorsAdd"),on("PredictorAdd","VP8LPredictorsAdd_C"),Id=dt,vl=_t,zi=ot,Ei=rn,yl=Mt,Na=Zn,Ra=qt,I.VP8LMapColor32b=Qu,I.VP8LMapColor8b=Zu,v)}function zr(v,E,T,U,G){var X=1,ee=[v],re=[E],oe=U.m,de=U.s,be=null,Re=0;e:for(;;){if(T)for(;X&&fe(oe,1);){var Oe=ee,ke=re,Xe=U,ze=1,Se=Xe.m,Ee=Xe.gc[Xe.ab],Ge=fe(Se,2);if(Xe.Oc&1<<Ge)X=0;else{switch(Xe.Oc|=1<<Ge,Ee.hc=Ge,Ee.Ea=Oe[0],Ee.nc=ke[0],Ee.K=[null],++Xe.ab,e(4>=Xe.ab),Ge){case 0:case 1:Ee.b=fe(Se,3)+2,ze=zr(vt(Ee.Ea,Ee.b),vt(Ee.nc,Ee.b),0,Xe,Ee.K),Ee.K=Ee.K[0];break;case 3:var He,Ye=fe(Se,8)+1,bt=16<Ye?0:4<Ye?1:2<Ye?2:3;if(Oe[0]=vt(Ee.Ea,bt),Ee.b=bt,He=ze=zr(Ye,1,0,Xe,Ee.K)){var mt,Dt=Ye,wt=Ee,Cn=1<<(8>>wt.b),An=s(Cn);if(An==null)He=0;else{var wn=wt.K[0],nn=wt.w;for(An[0]=wt.K[0][0],mt=1;mt<1*Dt;++mt)An[mt]=Je(wn[nn+mt],An[mt-1]);for(;mt<4*Cn;++mt)An[mt]=0;wt.K[0]=null,wt.K[0]=An,He=1}}ze=He;break;case 2:break;default:e(0)}X=ze}}if(ee=ee[0],re=re[0],X&&fe(oe,1)&&!(X=1<=(Re=fe(oe,4))&&11>=Re)){U.a=3;break e}var $n;if($n=X)t:{var Jn,Gt,hr,Wi=U,Lr=ee,$r=re,Rn=Re,Li=T,ki=Wi.m,pr=Wi.s,qr=[null],gi=1,us=0,Qs=Qm[Rn];n:for(;;){if(Li&&fe(ki,1)){var mr=fe(ki,3)+2,Mr=vt(Lr,mr),Is=vt($r,mr),Sl=Mr*Is;if(!zr(Mr,Is,0,Wi,qr))break n;for(qr=qr[0],pr.xc=mr,Jn=0;Jn<Sl;++Jn){var Ua=qr[Jn]>>8&65535;qr[Jn]=Ua,Ua>=gi&&(gi=Ua+1)}}if(ki.h)break n;for(Gt=0;5>Gt;++Gt){var On=uu[Gt];!Gt&&0<Rn&&(On+=1<<Rn),us<On&&(us=On)}var ca=o(gi*Qs,P),jd=gi,cp=o(jd,Y);if(cp==null)var Zs=null;else e(65536>=jd),Zs=cp;var eo=s(us);if(Zs==null||eo==null||ca==null){Wi.a=1;break n}var pu=ca;for(Jn=hr=0;Jn<gi;++Jn){var to=Zs[Jn],za=to.G,mu=to.H,lc=0,Ns=1,uc=0;for(Gt=0;5>Gt;++Gt){On=uu[Gt],za[Gt]=pu,mu[Gt]=hr,!Gt&&0<Rn&&(On+=1<<Rn);i:{var El,$a=On,cc=Wi,fa=eo,rg=pu,fp=hr,or=0,Io=cc.m,dp=fe(Io,1);if(i(fa,0,0,$a),dp){var hp=fe(Io,1)+1,Fd=fe(Io,1),Bd=fe(Io,Fd==0?1:8);fa[Bd]=1,hp==2&&(fa[Bd=fe(Io,8)]=1);var da=1}else{var cr=s(19),Dr=fe(Io,4)+4;if(19<Dr){cc.a=3;var kr=0;break i}for(El=0;El<Dr;++El)cr[gy[El]]=fe(Io,3);var fc=void 0,qa=void 0,dc=cc,xy=cr,Wr=$a,Vd=fa,Cf=0,ha=dc.m,No=8,Rs=o(128,P);r:for(;O(Rs,0,7,xy,19);){if(fe(ha,1)){var Af=2+2*fe(ha,3);if((fc=2+fe(ha,Af))>Wr)break r}else fc=Wr;for(qa=0;qa<Wr&&fc--;){pe(ha);var Ud=Rs[0+(127&J(ha))];Z(ha,ha.u+Ud.g);var Cl=Ud.value;if(16>Cl)Vd[qa++]=Cl,Cl!=0&&(No=Cl);else{var ig=Cl==16,pp=Cl-16,sg=Od[pp],mp=fe(ha,bf[pp])+sg;if(qa+mp>Wr)break r;for(var og=ig?No:0;0<mp--;)Vd[qa++]=og}}Cf=1;break r}Cf||(dc.a=3),da=Cf}(da=da&&!Io.h)&&(or=O(rg,fp,8,fa,$a)),da&&or!=0?kr=or:(cc.a=3,kr=0)}if(kr==0)break n;if(Ns&&Xm[Gt]==1&&(Ns=pu[hr].g==0),lc+=pu[hr].g,hr+=kr,3>=Gt){var hc,zd=eo[0];for(hc=1;hc<On;++hc)eo[hc]>zd&&(zd=eo[hc]);uc+=zd}}if(to.nd=Ns,to.Qb=0,Ns&&(to.qb=(za[3][mu[3]+0].value<<24|za[1][mu[1]+0].value<<16|za[2][mu[2]+0].value)>>>0,lc==0&&256>za[0][mu[0]+0].value&&(to.Qb=1,to.qb+=za[0][mu[0]+0].value<<8)),to.jc=!to.Qb&&6>uc,to.jc){var Lf,Os=to;for(Lf=0;Lf<xr;++Lf){var Wa=Lf,Ro=Os.pd[Wa],gu=Os.G[0][Os.H[0]+Wa];256<=gu.value?(Ro.g=gu.g+256,Ro.value=gu.value):(Ro.g=0,Ro.value=0,Wa>>=er(gu,8,Ro),Wa>>=er(Os.G[1][Os.H[1]+Wa],16,Ro),Wa>>=er(Os.G[2][Os.H[2]+Wa],0,Ro),er(Os.G[3][Os.H[3]+Wa],24,Ro))}}}pr.vc=qr,pr.Wb=gi,pr.Ya=Zs,pr.yc=ca,$n=1;break t}$n=0}if(!(X=$n)){U.a=3;break e}if(0<Re){if(de.ua=1<<Re,!ft(de.Wa,Re)){U.a=1,X=0;break e}}else de.ua=0;var $d=U,qd=ee,ag=re,Wd=$d.s,Hd=Wd.xc;if($d.c=qd,$d.i=ag,Wd.md=vt(qd,Hd),Wd.wc=Hd==0?-1:(1<<Hd)-1,T){U.xb=ua;break e}if((be=s(ee*re))==null){U.a=1,X=0;break e}X=(X=gn(U,be,0,ee,re,re,null))&&!oe.h;break e}return X?(G!=null?G[0]=be:(e(be==null),e(T)),U.$=0,T||fr(de)):fr(de),X}function ai(v,E){var T=v.c*v.i,U=T+E+16*E;return e(v.c<=E),v.V=s(U),v.V==null?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+T+E,1)}function wo(v,E){var T=v.C,U=E-T,G=v.V,X=v.Ba+v.c*T;for(e(E<=v.l.o);0<U;){var ee=16<U?16:U,re=v.l.ma,oe=v.l.width,de=oe*ee,be=re.ca,Re=re.tb+oe*T,Oe=v.Ta,ke=v.Ua;tr(v,ee,G,X),Sr(Oe,ke,be,Re,de),Gn(re,T,T+ee,be,Re,oe),U-=ee,G+=ee*v.c,T+=ee}e(T==E),v.C=v.Ma=E}function _o(){this.ub=this.yd=this.td=this.Rb=0}function Go(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Sa(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Bu(){this.Yb=function(){var v=[];return function E(T,U,G){for(var X=G[U],ee=0;ee<X&&(T.push(G.length>U+1?[]:0),!(G.length<U+1));ee++)E(T[ee],U+1,G)}(v,0,[3,11]),v}()}function Kn(){this.jb=s(3),this.Wc=a([4,8],Bu),this.Xc=a([4,17],Bu)}function Vu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function zs(){this.ld=this.La=this.dd=this.tc=0}function bo(){this.Na=this.la=0}function ts(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ea(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Uu(){this.uc=this.M=this.Nb=0,this.wa=Array(new zs),this.Y=0,this.ya=Array(new Ea),this.aa=0,this.l=new Ca}function Ko(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Di(){this.cb=this.a=0,this.sc="",this.m=new ne,this.Od=new _o,this.Kc=new Go,this.ed=new Vu,this.Qa=new Sa,this.Ic=this.$c=this.Aa=0,this.D=new Uu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ne),this.ia=0,this.pb=o(4,ts),this.Pa=new Kn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ko),this.Hd=0,this.rb=Array(new bo),this.sb=0,this.wa=Array(new zs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ea),this.L=this.aa=0,this.gd=a([4,2],zs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ca(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function li(){var v=new Di;return v!=null&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,cu||(cu=Aa)),v}function sr(v,E,T){return v.a==0&&(v.a=E,v.sc=T,v.cb=0),0}function Yl(v,E,T){return 3<=T&&v[E+0]==157&&v[E+1]==1&&v[E+2]==42}function Jl(v,E){if(v==null)return 0;if(v.a=0,v.sc="OK",E==null)return sr(v,2,"null VP8Io passed to VP8GetHeaders()");var T=E.data,U=E.w,G=E.ha;if(4>G)return sr(v,7,"Truncated header.");var X=T[U+0]|T[U+1]<<8|T[U+2]<<16,ee=v.Od;if(ee.Rb=!(1&X),ee.td=X>>1&7,ee.yd=X>>4&1,ee.ub=X>>5,3<ee.td)return sr(v,3,"Incorrect keyframe parameters.");if(!ee.yd)return sr(v,4,"Frame not displayable.");U+=3,G-=3;var re=v.Kc;if(ee.Rb){if(7>G)return sr(v,7,"cannot parse picture header");if(!Yl(T,U,G))return sr(v,3,"Bad code word");re.c=16383&(T[U+4]<<8|T[U+3]),re.Td=T[U+4]>>6,re.i=16383&(T[U+6]<<8|T[U+5]),re.Ud=T[U+6]>>6,U+=7,G-=7,v.za=re.c+15>>4,v.Ub=re.i+15>>4,E.width=re.c,E.height=re.i,E.Da=0,E.j=0,E.v=0,E.va=E.width,E.o=E.height,E.da=0,E.ib=E.width,E.hb=E.height,E.U=E.width,E.T=E.height,i((X=v.Pa).jb,0,255,X.jb.length),e((X=v.Qa)!=null),X.Cb=0,X.Bb=0,X.Fb=1,i(X.Zb,0,0,X.Zb.length),i(X.Lb,0,0,X.Lb)}if(ee.ub>G)return sr(v,7,"bad partition length");ue(X=v.m,T,U,ee.ub),U+=ee.ub,G-=ee.ub,ee.Rb&&(re.Ld=ve(X),re.Kd=ve(X)),re=v.Qa;var oe,de=v.Pa;if(e(X!=null),e(re!=null),re.Cb=ve(X),re.Cb){if(re.Bb=ve(X),ve(X)){for(re.Fb=ve(X),oe=0;4>oe;++oe)re.Zb[oe]=ve(X)?le(X,7):0;for(oe=0;4>oe;++oe)re.Lb[oe]=ve(X)?le(X,6):0}if(re.Bb)for(oe=0;3>oe;++oe)de.jb[oe]=ve(X)?ae(X,8):255}else re.Bb=0;if(X.Ka)return sr(v,3,"cannot parse segment header");if((re=v.ed).zd=ve(X),re.Tb=ae(X,6),re.wb=ae(X,3),re.Pc=ve(X),re.Pc&&ve(X)){for(de=0;4>de;++de)ve(X)&&(re.vd[de]=le(X,6));for(de=0;4>de;++de)ve(X)&&(re.od[de]=le(X,6))}if(v.L=re.Tb==0?0:re.zd?1:2,X.Ka)return sr(v,3,"cannot parse filter header");var be=G;if(G=oe=U,U=oe+be,re=be,v.Xb=(1<<ae(v.m,2))-1,be<3*(de=v.Xb))T=7;else{for(oe+=3*de,re-=3*de,be=0;be<de;++be){var Re=T[G+0]|T[G+1]<<8|T[G+2]<<16;Re>re&&(Re=re),ue(v.Jc[+be],T,oe,Re),oe+=Re,re-=Re,G+=3}ue(v.Jc[+de],T,oe,re),T=oe<U?0:5}if(T!=0)return sr(v,T,"cannot parse partitions");for(T=ae(oe=v.m,7),G=ve(oe)?le(oe,4):0,U=ve(oe)?le(oe,4):0,re=ve(oe)?le(oe,4):0,de=ve(oe)?le(oe,4):0,oe=ve(oe)?le(oe,4):0,be=v.Qa,Re=0;4>Re;++Re){if(be.Cb){var Oe=be.Zb[Re];be.Fb||(Oe+=T)}else{if(0<Re){v.pb[Re]=v.pb[0];continue}Oe=T}var ke=v.pb[Re];ke.Sc[0]=ic[Nn(Oe+G,127)],ke.Sc[1]=xf[Nn(Oe+0,127)],ke.Eb[0]=2*ic[Nn(Oe+U,127)],ke.Eb[1]=101581*xf[Nn(Oe+re,127)]>>16,8>ke.Eb[1]&&(ke.Eb[1]=8),ke.Qc[0]=ic[Nn(Oe+de,117)],ke.Qc[1]=xf[Nn(Oe+oe,127)],ke.lc=Oe+oe}if(!ee.Rb)return sr(v,4,"Not a key frame.");for(ve(X),ee=v.Pa,T=0;4>T;++T){for(G=0;8>G;++G)for(U=0;3>U;++U)for(re=0;11>re;++re)de=we(X,wy[T][G][U][re])?ae(X,8):eg[T][G][U][re],ee.Wc[T][G].Yb[U][re]=de;for(G=0;17>G;++G)ee.Xc[T][G]=ee.Wc[T][ap[G]]}return v.kc=ve(X),v.kc&&(v.Bd=ae(X,8)),v.cb=1}function Aa(v,E,T,U,G,X,ee){var re=E[G].Yb[T];for(T=0;16>G;++G){if(!we(v,re[T+0]))return G;for(;!we(v,re[T+1]);)if(re=E[++G].Yb[0],T=0,G==16)return 16;var oe=E[G+1].Yb;if(we(v,re[T+2])){var de=v,be=0;if(we(de,(Oe=re)[(Re=T)+3]))if(we(de,Oe[Re+6])){for(re=0,Re=2*(be=we(de,Oe[Re+8]))+(Oe=we(de,Oe[Re+9+be])),be=0,Oe=sp[Re];Oe[re];++re)be+=be+we(de,Oe[re]);be+=3+(8<<Re)}else we(de,Oe[Re+7])?(be=7+2*we(de,165),be+=we(de,145)):be=5+we(de,159);else be=we(de,Oe[Re+4])?3+we(de,Oe[Re+5]):2;re=oe[2]}else be=1,re=oe[1];oe=ee+op[G],0>(de=v).b&&ye(de);var Re,Oe=de.b,ke=(Re=de.Ca>>1)-(de.I>>Oe)>>31;--de.b,de.Ca+=ke,de.Ca|=1,de.I-=(Re+1&ke)<<Oe,X[oe]=((be^ke)-ke)*U[(0<G)+0]}return 16}function Yo(v){var E=v.rb[v.sb-1];E.la=0,E.Na=0,i(v.zc,0,0,v.zc.length),v.ja=0}function Jo(v,E){if(v==null)return 0;if(E==null)return sr(v,2,"NULL VP8Io parameter in VP8Decode().");if(!v.cb&&!Jl(v,E))return 0;if(e(v.cb),E.ac==null||E.ac(E)){E.ob&&(v.L=0);var T=hu[v.L];if(v.L==2?(v.yb=0,v.zb=0):(v.yb=E.v-T>>4,v.zb=E.j-T>>4,0>v.yb&&(v.yb=0),0>v.zb&&(v.zb=0)),v.Va=E.o+15+T>>4,v.Hb=E.va+15+T>>4,v.Hb>v.za&&(v.Hb=v.za),v.Va>v.Ub&&(v.Va=v.Ub),0<v.L){var U=v.ed;for(T=0;4>T;++T){var G;if(v.Qa.Cb){var X=v.Qa.Lb[T];v.Qa.Fb||(X+=U.Tb)}else X=U.Tb;for(G=0;1>=G;++G){var ee=v.gd[T][G],re=X;if(U.Pc&&(re+=U.vd[0],G&&(re+=U.od[0])),0<(re=0>re?0:63<re?63:re)){var oe=re;0<U.wb&&(oe=4<U.wb?oe>>2:oe>>1)>9-U.wb&&(oe=9-U.wb),1>oe&&(oe=1),ee.dd=oe,ee.tc=2*re+oe,ee.ld=40<=re?2:15<=re?1:0}else ee.tc=0;ee.La=G}}}T=0}else sr(v,6,"Frame setup failed"),T=v.a;if(T=T==0){if(T){v.$c=0,0<v.Aa||(v.Ic=Va);e:{T=v.Ic,U=4*(oe=v.za);var de=32*oe,be=oe+1,Re=0<v.L?oe*(0<v.Aa?2:1):0,Oe=(v.Aa==2?2:1)*oe;if((ee=U+832+(G=3*(16*T+hu[v.L])/2*de)+(X=v.Fa!=null&&0<v.Fa.length?v.Kc.c*v.Kc.i:0))!=ee)T=0;else{if(ee>v.Vb){if(v.Vb=0,v.Ec=s(ee),v.Fc=0,v.Ec==null){T=sr(v,1,"no memory during frame initialization.");break e}v.Vb=ee}ee=v.Ec,re=v.Fc,v.Ac=ee,v.Bc=re,re+=U,v.Gd=o(de,Ko),v.Hd=0,v.rb=o(be+1,bo),v.sb=1,v.wa=Re?o(Re,zs):null,v.Y=0,v.D.Nb=0,v.D.wa=v.wa,v.D.Y=v.Y,0<v.Aa&&(v.D.Y+=oe),e(!0),v.oc=ee,v.pc=re,re+=832,v.ya=o(Oe,Ea),v.aa=0,v.D.ya=v.ya,v.D.aa=v.aa,v.Aa==2&&(v.D.aa+=oe),v.R=16*oe,v.B=8*oe,oe=(de=hu[v.L])*v.R,de=de/2*v.B,v.sa=ee,v.ta=re+oe,v.qa=v.sa,v.ra=v.ta+16*T*v.R+de,v.Ha=v.qa,v.Ia=v.ra+8*T*v.B+de,v.$c=0,re+=G,v.mb=X?ee:null,v.nb=X?re:null,e(re+X<=v.Fc+v.Vb),Yo(v),i(v.Ac,v.Bc,0,U),T=1}}if(T){if(E.ka=0,E.y=v.sa,E.O=v.ta,E.f=v.qa,E.N=v.ra,E.ea=v.Ha,E.Vd=v.Ia,E.fa=v.R,E.Rc=v.B,E.F=null,E.J=0,!gf){for(T=-255;255>=T;++T)Or[255+T]=0>T?-T:T;for(T=-1020;1020>=T;++T)aa[1020+T]=-128>T?-128:127<T?127:T;for(T=-112;112>=T;++T)tc[112+T]=-16>T?-16:15<T?15:T;for(T=-255;510>=T;++T)au[255+T]=0>T?0:255<T?255:T;gf=1}ec=fn,Oa=Qo,Ma=xo,Ci=Bn,Ps=So,Pn=Xo,ru=Ta,mf=dr,iu=Gs,su=eu,ou=Ls,Ts=Co,Da=ra,oa=Ks,ja=xi,Fa=Fi,wl=br,pi=Zl,Xs[0]=Hs,Xs[1]=zu,Xs[2]=rs,Xs[3]=Ws,Xs[4]=Xl,Xs[5]=fl,Xs[6]=fi,Xs[7]=dl,Xs[8]=ka,Xs[9]=Eo,qi[0]=Es,qi[1]=$u,qi[2]=qs,qi[3]=La,qi[4]=En,qi[5]=Cs,qi[6]=ns,ss[0]=bi,ss[1]=cl,ss[2]=qu,ss[3]=ji,ss[4]=In,ss[5]=ea,ss[6]=Ql,T=1}else T=0}T&&(T=function(ke,Xe){for(ke.M=0;ke.M<ke.Va;++ke.M){var ze,Se=ke.Jc[ke.M&ke.Xb],Ee=ke.m,Ge=ke;for(ze=0;ze<Ge.za;++ze){var He=Ee,Ye=Ge,bt=Ye.Ac,mt=Ye.Bc+4*ze,Dt=Ye.zc,wt=Ye.ya[Ye.aa+ze];if(Ye.Qa.Bb?wt.$b=we(He,Ye.Pa.jb[0])?2+we(He,Ye.Pa.jb[2]):we(He,Ye.Pa.jb[1]):wt.$b=0,Ye.kc&&(wt.Ad=we(He,Ye.Bd)),wt.Za=!we(He,145)+0,wt.Za){var Cn=wt.Ob,An=0;for(Ye=0;4>Ye;++Ye){var wn,nn=Dt[0+Ye];for(wn=0;4>wn;++wn){nn=yy[bt[mt+wn]][nn];for(var $n=Zm[we(He,nn[0])];0<$n;)$n=Zm[2*$n+we(He,nn[$n])];nn=-$n,bt[mt+wn]=nn}r(Cn,An,bt,mt,4),An+=4,Dt[0+Ye]=nn}}else nn=we(He,156)?we(He,128)?1:3:we(He,163)?2:0,wt.Ob[0]=nn,i(bt,mt,nn,4),i(Dt,0,nn,4);wt.Dd=we(He,142)?we(He,114)?we(He,183)?1:3:2:0}if(Ge.m.Ka)return sr(ke,7,"Premature end-of-partition0 encountered.");for(;ke.ja<ke.za;++ke.ja){if(Ge=Se,He=(Ee=ke).rb[Ee.sb-1],bt=Ee.rb[Ee.sb+Ee.ja],ze=Ee.ya[Ee.aa+Ee.ja],mt=Ee.kc?ze.Ad:0)He.la=bt.la=0,ze.Za||(He.Na=bt.Na=0),ze.Hc=0,ze.Gc=0,ze.ia=0;else{var Jn,Gt;if(He=bt,bt=Ge,mt=Ee.Pa.Xc,Dt=Ee.ya[Ee.aa+Ee.ja],wt=Ee.pb[Dt.$b],Ye=Dt.ad,Cn=0,An=Ee.rb[Ee.sb-1],nn=wn=0,i(Ye,Cn,0,384),Dt.Za)var hr=0,Wi=mt[3];else{$n=s(16);var Lr=He.Na+An.Na;if(Lr=cu(bt,mt[1],Lr,wt.Eb,0,$n,0),He.Na=An.Na=(0<Lr)+0,1<Lr)ec($n,0,Ye,Cn);else{var $r=$n[0]+3>>3;for($n=0;256>$n;$n+=16)Ye[Cn+$n]=$r}hr=1,Wi=mt[0]}var Rn=15&He.la,Li=15&An.la;for($n=0;4>$n;++$n){var ki=1&Li;for($r=Gt=0;4>$r;++$r)Rn=Rn>>1|(ki=(Lr=cu(bt,Wi,Lr=ki+(1&Rn),wt.Sc,hr,Ye,Cn))>hr)<<7,Gt=Gt<<2|(3<Lr?3:1<Lr?2:Ye[Cn+0]!=0),Cn+=16;Rn>>=4,Li=Li>>1|ki<<7,wn=(wn<<8|Gt)>>>0}for(Wi=Rn,hr=Li>>4,Jn=0;4>Jn;Jn+=2){for(Gt=0,Rn=He.la>>4+Jn,Li=An.la>>4+Jn,$n=0;2>$n;++$n){for(ki=1&Li,$r=0;2>$r;++$r)Lr=ki+(1&Rn),Rn=Rn>>1|(ki=0<(Lr=cu(bt,mt[2],Lr,wt.Qc,0,Ye,Cn)))<<3,Gt=Gt<<2|(3<Lr?3:1<Lr?2:Ye[Cn+0]!=0),Cn+=16;Rn>>=2,Li=Li>>1|ki<<5}nn|=Gt<<4*Jn,Wi|=Rn<<4<<Jn,hr|=(240&Li)<<Jn}He.la=Wi,An.la=hr,Dt.Hc=wn,Dt.Gc=nn,Dt.ia=43690&nn?0:wt.ia,mt=!(wn|nn)}if(0<Ee.L&&(Ee.wa[Ee.Y+Ee.ja]=Ee.gd[ze.$b][ze.Za],Ee.wa[Ee.Y+Ee.ja].La|=!mt),Ge.Ka)return sr(ke,7,"Premature end-of-file encountered.")}if(Yo(ke),Ee=Xe,Ge=1,ze=(Se=ke).D,He=0<Se.L&&Se.M>=Se.zb&&Se.M<=Se.Va,Se.Aa==0)e:{if(ze.M=Se.M,ze.uc=He,ko(Se,ze),Ge=1,ze=(Gt=Se.D).Nb,He=(nn=hu[Se.L])*Se.R,bt=nn/2*Se.B,$n=16*ze*Se.R,$r=8*ze*Se.B,mt=Se.sa,Dt=Se.ta-He+$n,wt=Se.qa,Ye=Se.ra-bt+$r,Cn=Se.Ha,An=Se.Ia-bt+$r,Li=(Rn=Gt.M)==0,wn=Rn>=Se.Va-1,Se.Aa==2&&ko(Se,Gt),Gt.uc)for(ki=(Lr=Se).D.M,e(Lr.D.uc),Gt=Lr.yb;Gt<Lr.Hb;++Gt){hr=Gt,Wi=ki;var pr=(qr=(On=Lr).D).Nb;Jn=On.R;var qr=qr.wa[qr.Y+hr],gi=On.sa,us=On.ta+16*pr*Jn+16*hr,Qs=qr.dd,mr=qr.tc;if(mr!=0)if(e(3<=mr),On.L==1)0<hr&&Fa(gi,us,Jn,mr+4),qr.La&&pi(gi,us,Jn,mr),0<Wi&&ja(gi,us,Jn,mr+4),qr.La&&wl(gi,us,Jn,mr);else{var Mr=On.B,Is=On.qa,Sl=On.ra+8*pr*Mr+8*hr,Ua=On.Ha,On=On.Ia+8*pr*Mr+8*hr;pr=qr.ld,0<hr&&(mf(gi,us,Jn,mr+4,Qs,pr),su(Is,Sl,Ua,On,Mr,mr+4,Qs,pr)),qr.La&&(Ts(gi,us,Jn,mr,Qs,pr),oa(Is,Sl,Ua,On,Mr,mr,Qs,pr)),0<Wi&&(ru(gi,us,Jn,mr+4,Qs,pr),iu(Is,Sl,Ua,On,Mr,mr+4,Qs,pr)),qr.La&&(ou(gi,us,Jn,mr,Qs,pr),Da(Is,Sl,Ua,On,Mr,mr,Qs,pr))}}if(Se.ia&&alert("todo:DitherRow"),Ee.put!=null){if(Gt=16*Rn,Rn=16*(Rn+1),Li?(Ee.y=Se.sa,Ee.O=Se.ta+$n,Ee.f=Se.qa,Ee.N=Se.ra+$r,Ee.ea=Se.Ha,Ee.W=Se.Ia+$r):(Gt-=nn,Ee.y=mt,Ee.O=Dt,Ee.f=wt,Ee.N=Ye,Ee.ea=Cn,Ee.W=An),wn||(Rn-=nn),Rn>Ee.o&&(Rn=Ee.o),Ee.F=null,Ee.J=null,Se.Fa!=null&&0<Se.Fa.length&&Gt<Rn&&(Ee.J=gl(Se,Ee,Gt,Rn-Gt),Ee.F=Se.mb,Ee.F==null&&Ee.F.length==0)){Ge=sr(Se,3,"Could not decode alpha data.");break e}Gt<Ee.j&&(nn=Ee.j-Gt,Gt=Ee.j,e(!(1&nn)),Ee.O+=Se.R*nn,Ee.N+=Se.B*(nn>>1),Ee.W+=Se.B*(nn>>1),Ee.F!=null&&(Ee.J+=Ee.width*nn)),Gt<Rn&&(Ee.O+=Ee.v,Ee.N+=Ee.v>>1,Ee.W+=Ee.v>>1,Ee.F!=null&&(Ee.J+=Ee.v),Ee.ka=Gt-Ee.j,Ee.U=Ee.va-Ee.v,Ee.T=Rn-Gt,Ge=Ee.put(Ee))}ze+1!=Se.Ic||wn||(r(Se.sa,Se.ta-He,mt,Dt+16*Se.R,He),r(Se.qa,Se.ra-bt,wt,Ye+8*Se.B,bt),r(Se.Ha,Se.Ia-bt,Cn,An+8*Se.B,bt))}if(!Ge)return sr(ke,6,"Output aborted.")}return 1}(v,E)),E.bc!=null&&E.bc(E),T&=1}return T?(v.cb=0,T):0}function ui(v,E,T,U,G){G=v[E+T+32*U]+(G>>3),v[E+T+32*U]=-256&G?0>G?0:255:G}function ul(v,E,T,U,G,X){ui(v,E,0,T,U+G),ui(v,E,1,T,U+X),ui(v,E,2,T,U-X),ui(v,E,3,T,U-G)}function _r(v){return(20091*v>>16)+v}function ci(v,E,T,U){var G,X=0,ee=s(16);for(G=0;4>G;++G){var re=v[E+0]+v[E+8],oe=v[E+0]-v[E+8],de=(35468*v[E+4]>>16)-_r(v[E+12]),be=_r(v[E+4])+(35468*v[E+12]>>16);ee[X+0]=re+be,ee[X+1]=oe+de,ee[X+2]=oe-de,ee[X+3]=re-be,X+=4,E++}for(G=X=0;4>G;++G)re=(v=ee[X+0]+4)+ee[X+8],oe=v-ee[X+8],de=(35468*ee[X+4]>>16)-_r(ee[X+12]),ui(T,U,0,0,re+(be=_r(ee[X+4])+(35468*ee[X+12]>>16))),ui(T,U,1,0,oe+de),ui(T,U,2,0,oe-de),ui(T,U,3,0,re-be),X++,U+=32}function Xo(v,E,T,U){var G=v[E+0]+4,X=35468*v[E+4]>>16,ee=_r(v[E+4]),re=35468*v[E+1]>>16;ul(T,U,0,G+ee,v=_r(v[E+1]),re),ul(T,U,1,G+X,v,re),ul(T,U,2,G-X,v,re),ul(T,U,3,G-ee,v,re)}function Qo(v,E,T,U,G){ci(v,E,T,U),G&&ci(v,E+16,T,U+4)}function xo(v,E,T,U){Oa(v,E+0,T,U,1),Oa(v,E+32,T,U+128,1)}function Bn(v,E,T,U){var G;for(v=v[E+0]+4,G=0;4>G;++G)for(E=0;4>E;++E)ui(T,U,E,G,v)}function So(v,E,T,U){v[E+0]&&Ci(v,E+0,T,U),v[E+16]&&Ci(v,E+16,T,U+4),v[E+32]&&Ci(v,E+32,T,U+128),v[E+48]&&Ci(v,E+48,T,U+128+4)}function fn(v,E,T,U){var G,X=s(16);for(G=0;4>G;++G){var ee=v[E+0+G]+v[E+12+G],re=v[E+4+G]+v[E+8+G],oe=v[E+4+G]-v[E+8+G],de=v[E+0+G]-v[E+12+G];X[0+G]=ee+re,X[8+G]=ee-re,X[4+G]=de+oe,X[12+G]=de-oe}for(G=0;4>G;++G)ee=(v=X[0+4*G]+3)+X[3+4*G],re=X[1+4*G]+X[2+4*G],oe=X[1+4*G]-X[2+4*G],de=v-X[3+4*G],T[U+0]=ee+re>>3,T[U+16]=de+oe>>3,T[U+32]=ee-re>>3,T[U+48]=de-oe>>3,U+=64}function $s(v,E,T){var U,G=E-32,X=$i,ee=255-v[G-1];for(U=0;U<T;++U){var re,oe=X,de=ee+v[E-1];for(re=0;re<T;++re)v[E+re]=oe[de+v[G+re]];E+=32}}function zu(v,E){$s(v,E,4)}function cl(v,E){$s(v,E,8)}function $u(v,E){$s(v,E,16)}function qs(v,E){var T;for(T=0;16>T;++T)r(v,E+32*T,v,E-32,16)}function La(v,E){var T;for(T=16;0<T;--T)i(v,E,v[E-1],16),E+=32}function Zo(v,E,T){var U;for(U=0;16>U;++U)i(E,T+32*U,v,16)}function Es(v,E){var T,U=16;for(T=0;16>T;++T)U+=v[E-1+32*T]+v[E+T-32];Zo(U>>5,v,E)}function En(v,E){var T,U=8;for(T=0;16>T;++T)U+=v[E-1+32*T];Zo(U>>4,v,E)}function Cs(v,E){var T,U=8;for(T=0;16>T;++T)U+=v[E+T-32];Zo(U>>4,v,E)}function ns(v,E){Zo(128,v,E)}function jt(v,E,T){return v+2*E+T+2>>2}function rs(v,E){var T,U=E-32;for(U=new Uint8Array([jt(v[U-1],v[U+0],v[U+1]),jt(v[U+0],v[U+1],v[U+2]),jt(v[U+1],v[U+2],v[U+3]),jt(v[U+2],v[U+3],v[U+4])]),T=0;4>T;++T)r(v,E+32*T,U,0,U.length)}function Ws(v,E){var T=v[E-1],U=v[E-1+32],G=v[E-1+64],X=v[E-1+96];Ie(v,E+0,16843009*jt(v[E-1-32],T,U)),Ie(v,E+32,16843009*jt(T,U,G)),Ie(v,E+64,16843009*jt(U,G,X)),Ie(v,E+96,16843009*jt(G,X,X))}function Hs(v,E){var T,U=4;for(T=0;4>T;++T)U+=v[E+T-32]+v[E-1+32*T];for(U>>=3,T=0;4>T;++T)i(v,E+32*T,U,4)}function Xl(v,E){var T=v[E-1+0],U=v[E-1+32],G=v[E-1+64],X=v[E-1-32],ee=v[E+0-32],re=v[E+1-32],oe=v[E+2-32],de=v[E+3-32];v[E+0+96]=jt(U,G,v[E-1+96]),v[E+1+96]=v[E+0+64]=jt(T,U,G),v[E+2+96]=v[E+1+64]=v[E+0+32]=jt(X,T,U),v[E+3+96]=v[E+2+64]=v[E+1+32]=v[E+0+0]=jt(ee,X,T),v[E+3+64]=v[E+2+32]=v[E+1+0]=jt(re,ee,X),v[E+3+32]=v[E+2+0]=jt(oe,re,ee),v[E+3+0]=jt(de,oe,re)}function fi(v,E){var T=v[E+1-32],U=v[E+2-32],G=v[E+3-32],X=v[E+4-32],ee=v[E+5-32],re=v[E+6-32],oe=v[E+7-32];v[E+0+0]=jt(v[E+0-32],T,U),v[E+1+0]=v[E+0+32]=jt(T,U,G),v[E+2+0]=v[E+1+32]=v[E+0+64]=jt(U,G,X),v[E+3+0]=v[E+2+32]=v[E+1+64]=v[E+0+96]=jt(G,X,ee),v[E+3+32]=v[E+2+64]=v[E+1+96]=jt(X,ee,re),v[E+3+64]=v[E+2+96]=jt(ee,re,oe),v[E+3+96]=jt(re,oe,oe)}function fl(v,E){var T=v[E-1+0],U=v[E-1+32],G=v[E-1+64],X=v[E-1-32],ee=v[E+0-32],re=v[E+1-32],oe=v[E+2-32],de=v[E+3-32];v[E+0+0]=v[E+1+64]=X+ee+1>>1,v[E+1+0]=v[E+2+64]=ee+re+1>>1,v[E+2+0]=v[E+3+64]=re+oe+1>>1,v[E+3+0]=oe+de+1>>1,v[E+0+96]=jt(G,U,T),v[E+0+64]=jt(U,T,X),v[E+0+32]=v[E+1+96]=jt(T,X,ee),v[E+1+32]=v[E+2+96]=jt(X,ee,re),v[E+2+32]=v[E+3+96]=jt(ee,re,oe),v[E+3+32]=jt(re,oe,de)}function dl(v,E){var T=v[E+0-32],U=v[E+1-32],G=v[E+2-32],X=v[E+3-32],ee=v[E+4-32],re=v[E+5-32],oe=v[E+6-32],de=v[E+7-32];v[E+0+0]=T+U+1>>1,v[E+1+0]=v[E+0+64]=U+G+1>>1,v[E+2+0]=v[E+1+64]=G+X+1>>1,v[E+3+0]=v[E+2+64]=X+ee+1>>1,v[E+0+32]=jt(T,U,G),v[E+1+32]=v[E+0+96]=jt(U,G,X),v[E+2+32]=v[E+1+96]=jt(G,X,ee),v[E+3+32]=v[E+2+96]=jt(X,ee,re),v[E+3+64]=jt(ee,re,oe),v[E+3+96]=jt(re,oe,de)}function Eo(v,E){var T=v[E-1+0],U=v[E-1+32],G=v[E-1+64],X=v[E-1+96];v[E+0+0]=T+U+1>>1,v[E+2+0]=v[E+0+32]=U+G+1>>1,v[E+2+32]=v[E+0+64]=G+X+1>>1,v[E+1+0]=jt(T,U,G),v[E+3+0]=v[E+1+32]=jt(U,G,X),v[E+3+32]=v[E+1+64]=jt(G,X,X),v[E+3+64]=v[E+2+64]=v[E+0+96]=v[E+1+96]=v[E+2+96]=v[E+3+96]=X}function ka(v,E){var T=v[E-1+0],U=v[E-1+32],G=v[E-1+64],X=v[E-1+96],ee=v[E-1-32],re=v[E+0-32],oe=v[E+1-32],de=v[E+2-32];v[E+0+0]=v[E+2+32]=T+ee+1>>1,v[E+0+32]=v[E+2+64]=U+T+1>>1,v[E+0+64]=v[E+2+96]=G+U+1>>1,v[E+0+96]=X+G+1>>1,v[E+3+0]=jt(re,oe,de),v[E+2+0]=jt(ee,re,oe),v[E+1+0]=v[E+3+32]=jt(T,ee,re),v[E+1+32]=v[E+3+64]=jt(U,T,ee),v[E+1+64]=v[E+3+96]=jt(G,U,T),v[E+1+96]=jt(X,G,U)}function qu(v,E){var T;for(T=0;8>T;++T)r(v,E+32*T,v,E-32,8)}function ji(v,E){var T;for(T=0;8>T;++T)i(v,E,v[E-1],8),E+=32}function di(v,E,T){var U;for(U=0;8>U;++U)i(E,T+32*U,v,8)}function bi(v,E){var T,U=8;for(T=0;8>T;++T)U+=v[E+T-32]+v[E-1+32*T];di(U>>4,v,E)}function ea(v,E){var T,U=4;for(T=0;8>T;++T)U+=v[E+T-32];di(U>>3,v,E)}function In(v,E){var T,U=4;for(T=0;8>T;++T)U+=v[E-1+32*T];di(U>>3,v,E)}function Ql(v,E){di(128,v,E)}function ta(v,E,T){var U=v[E-T],G=v[E+0],X=3*(G-U)+la[1020+v[E-2*T]-v[E+T]],ee=nc[112+(X+4>>3)];v[E-T]=$i[255+U+nc[112+(X+3>>3)]],v[E+0]=$i[255+G-ee]}function na(v,E,T,U){var G=v[E+0],X=v[E+T];return Js[255+v[E-2*T]-v[E-T]]>U||Js[255+X-G]>U}function Pa(v,E,T,U){return 4*Js[255+v[E-T]-v[E+0]]+Js[255+v[E-2*T]-v[E+T]]<=U}function hl(v,E,T,U,G){var X=v[E-3*T],ee=v[E-2*T],re=v[E-T],oe=v[E+0],de=v[E+T],be=v[E+2*T],Re=v[E+3*T];return 4*Js[255+re-oe]+Js[255+ee-de]>U?0:Js[255+v[E-4*T]-X]<=G&&Js[255+X-ee]<=G&&Js[255+ee-re]<=G&&Js[255+Re-be]<=G&&Js[255+be-de]<=G&&Js[255+de-oe]<=G}function xi(v,E,T,U){var G=2*U+1;for(U=0;16>U;++U)Pa(v,E+U,T,G)&&ta(v,E+U,T)}function Fi(v,E,T,U){var G=2*U+1;for(U=0;16>U;++U)Pa(v,E+U*T,1,G)&&ta(v,E+U*T,1)}function br(v,E,T,U){var G;for(G=3;0<G;--G)xi(v,E+=4*T,T,U)}function Zl(v,E,T,U){var G;for(G=3;0<G;--G)Fi(v,E+=4,T,U)}function As(v,E,T,U,G,X,ee,re){for(X=2*X+1;0<G--;){if(hl(v,E,T,X,ee))if(na(v,E,T,re))ta(v,E,T);else{var oe=v,de=E,be=T,Re=oe[de-2*be],Oe=oe[de-be],ke=oe[de+0],Xe=oe[de+be],ze=oe[de+2*be],Se=27*(Ge=la[1020+3*(ke-Oe)+la[1020+Re-Xe]])+63>>7,Ee=18*Ge+63>>7,Ge=9*Ge+63>>7;oe[de-3*be]=$i[255+oe[de-3*be]+Ge],oe[de-2*be]=$i[255+Re+Ee],oe[de-be]=$i[255+Oe+Se],oe[de+0]=$i[255+ke-Se],oe[de+be]=$i[255+Xe-Ee],oe[de+2*be]=$i[255+ze-Ge]}E+=U}}function Rr(v,E,T,U,G,X,ee,re){for(X=2*X+1;0<G--;){if(hl(v,E,T,X,ee))if(na(v,E,T,re))ta(v,E,T);else{var oe=v,de=E,be=T,Re=oe[de-be],Oe=oe[de+0],ke=oe[de+be],Xe=nc[112+((ze=3*(Oe-Re))+4>>3)],ze=nc[112+(ze+3>>3)],Se=Xe+1>>1;oe[de-2*be]=$i[255+oe[de-2*be]+Se],oe[de-be]=$i[255+Re+ze],oe[de+0]=$i[255+Oe-Xe],oe[de+be]=$i[255+ke-Se]}E+=U}}function Ta(v,E,T,U,G,X){As(v,E,T,1,16,U,G,X)}function dr(v,E,T,U,G,X){As(v,E,1,T,16,U,G,X)}function Ls(v,E,T,U,G,X){var ee;for(ee=3;0<ee;--ee)Rr(v,E+=4*T,T,1,16,U,G,X)}function Co(v,E,T,U,G,X){var ee;for(ee=3;0<ee;--ee)Rr(v,E+=4,1,T,16,U,G,X)}function Gs(v,E,T,U,G,X,ee,re){As(v,E,G,1,8,X,ee,re),As(T,U,G,1,8,X,ee,re)}function eu(v,E,T,U,G,X,ee,re){As(v,E,1,G,8,X,ee,re),As(T,U,1,G,8,X,ee,re)}function ra(v,E,T,U,G,X,ee,re){Rr(v,E+4*G,G,1,8,X,ee,re),Rr(T,U+4*G,G,1,8,X,ee,re)}function Ks(v,E,T,U,G,X,ee,re){Rr(v,E+4,1,G,8,X,ee,re),Rr(T,U+4,1,G,8,X,ee,re)}function ks(){this.ba=new dn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new $t,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ao(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ia(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function pl(){this.ua=0,this.Wa=new me,this.vb=new me,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Y,this.yc=new P}function Wu(){this.xb=this.a=0,this.l=new Ca,this.ca=new dn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new pl,this.ab=0,this.gc=o(4,ia),this.Oc=0}function Lo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ca,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ys(v,E,T,U,G,X,ee){for(v=v==null?0:v[E+0],E=0;E<ee;++E)G[X+E]=v+T[U+E]&255,v=G[X+E]}function ml(v,E,T,U,G,X,ee){var re;if(v==null)Ys(null,null,T,U,G,X,ee);else for(re=0;re<ee;++re)G[X+re]=v[E+re]+T[U+re]&255}function Si(v,E,T,U,G,X,ee){if(v==null)Ys(null,null,T,U,G,X,ee);else{var re,oe=v[E+0],de=oe,be=oe;for(re=0;re<ee;++re)de=be+(oe=v[E+re])-de,be=T[U+re]+(-256&de?0>de?0:255:de)&255,de=oe,G[X+re]=be}}function gl(v,E,T,U){var G=E.width,X=E.o;if(e(v!=null&&E!=null),0>T||0>=U||T+U>X)return null;if(!v.Cc){if(v.ga==null){var ee;if(v.ga=new Lo,(ee=v.ga==null)||(ee=E.width*E.o,e(v.Gb.length==0),v.Gb=s(ee),v.Uc=0,v.Gb==null?ee=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,ee=1),ee=!ee),!ee){ee=v.ga;var re=v.Fa,oe=v.P,de=v.qc,be=v.mb,Re=v.nb,Oe=oe+1,ke=de-1,Xe=ee.l;if(e(re!=null&&be!=null&&E!=null),Ai[0]=null,Ai[1]=Ys,Ai[2]=ml,Ai[3]=Si,ee.ca=be,ee.tb=Re,ee.c=E.width,ee.i=E.height,e(0<ee.c&&0<ee.i),1>=de)E=0;else if(ee.$a=re[oe+0]>>0&3,ee.Z=re[oe+0]>>2&3,ee.Lc=re[oe+0]>>4&3,oe=re[oe+0]>>6&3,0>ee.$a||1<ee.$a||4<=ee.Z||1<ee.Lc||oe)E=0;else if(Xe.put=jn,Xe.ac=yn,Xe.bc=Zr,Xe.ma=ee,Xe.width=E.width,Xe.height=E.height,Xe.Da=E.Da,Xe.v=E.v,Xe.va=E.va,Xe.j=E.j,Xe.o=E.o,ee.$a)e:{e(ee.$a==1),E=Sn();t:for(;;){if(E==null){E=0;break e}if(e(ee!=null),ee.mc=E,E.c=ee.c,E.i=ee.i,E.l=ee.l,E.l.ma=ee,E.l.width=ee.c,E.l.height=ee.i,E.a=0,te(E.m,re,Oe,ke),!zr(ee.c,ee.i,1,E,null)||(E.ab==1&&E.gc[0].hc==3&&es(E.s)?(ee.ic=1,re=E.c*E.i,E.Ta=null,E.Ua=0,E.V=s(re),E.Ba=0,E.V==null?(E.a=1,E=0):E=1):(ee.ic=0,E=ai(E,ee.c)),!E))break t;E=1;break e}ee.mc=null,E=0}else E=ke>=ee.c*ee.i;ee=!E}if(ee)return null;v.ga.Lc!=1?v.Ga=0:U=X-T}e(v.ga!=null),e(T+U<=X);e:{if(E=(re=v.ga).c,X=re.l.o,re.$a==0){if(Oe=v.rc,ke=v.Vc,Xe=v.Fa,oe=v.P+1+T*E,de=v.mb,be=v.nb+T*E,e(oe<=v.P+v.qc),re.Z!=0)for(e(Ai[re.Z]!=null),ee=0;ee<U;++ee)Ai[re.Z](Oe,ke,Xe,oe,de,be,E),Oe=de,ke=be,be+=E,oe+=E;else for(ee=0;ee<U;++ee)r(de,be,Xe,oe,E),Oe=de,ke=be,be+=E,oe+=E;v.rc=Oe,v.Vc=ke}else{if(e(re.mc!=null),E=T+U,e((ee=re.mc)!=null),e(E<=ee.i),ee.C>=E)E=1;else if(re.ic||Pe(),re.ic){re=ee.V,Oe=ee.Ba,ke=ee.c;var ze=ee.i,Se=(Xe=1,oe=ee.$/ke,de=ee.$%ke,be=ee.m,Re=ee.s,ee.$),Ee=ke*ze,Ge=ke*E,He=Re.wc,Ye=Se<Ge?Fn(Re,de,oe):null;e(Se<=Ee),e(E<=ze),e(es(Re));t:for(;;){for(;!be.h&&Se<Ge;){if(de&He||(Ye=Fn(Re,de,oe)),e(Ye!=null),pe(be),256>(ze=Ar(Ye.G[0],Ye.H[0],be)))re[Oe+Se]=ze,++Se,++de>=ke&&(de=0,++oe<=E&&!(oe%16)&&wr(ee,oe));else{if(!(280>ze)){Xe=0;break t}ze=It(ze-256,be);var bt,mt=Ar(Ye.G[4],Ye.H[4],be);if(pe(be),!(Se>=(mt=Cr(ke,mt=It(mt,be)))&&Ee-Se>=ze)){Xe=0;break t}for(bt=0;bt<ze;++bt)re[Oe+Se+bt]=re[Oe+Se+bt-mt];for(Se+=ze,de+=ze;de>=ke;)de-=ke,++oe<=E&&!(oe%16)&&wr(ee,oe);Se<Ge&&de&He&&(Ye=Fn(Re,de,oe))}e(be.h==se(be))}wr(ee,oe>E?E:oe);break t}!Xe||be.h&&Se<Ee?(Xe=0,ee.a=be.h?5:3):ee.$=Se,E=Xe}else E=gn(ee,ee.V,ee.Ba,ee.c,ee.i,E,wo);if(!E){U=0;break e}}T+U>=X&&(v.Cc=1),U=1}if(!U)return null;if(v.Cc&&((U=v.ga)!=null&&(U.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+T*G}function A(v,E,T,U,G,X){for(;0<G--;){var ee,re=v,oe=E+(T?1:0),de=v,be=E+(T?0:3);for(ee=0;ee<U;++ee){var Re=de[be+4*ee];Re!=255&&(Re*=32897,re[oe+4*ee+0]=re[oe+4*ee+0]*Re>>23,re[oe+4*ee+1]=re[oe+4*ee+1]*Re>>23,re[oe+4*ee+2]=re[oe+4*ee+2]*Re>>23)}E+=X}}function K(v,E,T,U,G){for(;0<U--;){var X;for(X=0;X<T;++X){var ee=v[E+2*X+0],re=15&(de=v[E+2*X+1]),oe=4369*re,de=(240&de|de>>4)*oe>>16;v[E+2*X+0]=(240&ee|ee>>4)*oe>>16&240|(15&ee|ee<<4)*oe>>16>>4&15,v[E+2*X+1]=240&de|re}E+=G}}function he(v,E,T,U,G,X,ee,re){var oe,de,be=255;for(de=0;de<G;++de){for(oe=0;oe<U;++oe){var Re=v[E+oe];X[ee+4*oe]=Re,be&=Re}E+=T,ee+=re}return be!=255}function _e(v,E,T,U,G){var X;for(X=0;X<G;++X)T[U+X]=v[E+X]>>8}function Pe(){is=A,nr=K,Un=he,Sr=_e}function qe(v,E,T){I[v]=function(U,G,X,ee,re,oe,de,be,Re,Oe,ke,Xe,ze,Se,Ee,Ge,He){var Ye,bt=He-1>>1,mt=re[oe+0]|de[be+0]<<16,Dt=Re[Oe+0]|ke[Xe+0]<<16;e(U!=null);var wt=3*mt+Dt+131074>>2;for(E(U[G+0],255&wt,wt>>16,ze,Se),X!=null&&(wt=3*Dt+mt+131074>>2,E(X[ee+0],255&wt,wt>>16,Ee,Ge)),Ye=1;Ye<=bt;++Ye){var Cn=re[oe+Ye]|de[be+Ye]<<16,An=Re[Oe+Ye]|ke[Xe+Ye]<<16,wn=mt+Cn+Dt+An+524296,nn=wn+2*(Cn+Dt)>>3;wt=nn+mt>>1,mt=(wn=wn+2*(mt+An)>>3)+Cn>>1,E(U[G+2*Ye-1],255&wt,wt>>16,ze,Se+(2*Ye-1)*T),E(U[G+2*Ye-0],255&mt,mt>>16,ze,Se+(2*Ye-0)*T),X!=null&&(wt=wn+Dt>>1,mt=nn+An>>1,E(X[ee+2*Ye-1],255&wt,wt>>16,Ee,Ge+(2*Ye-1)*T),E(X[ee+2*Ye+0],255&mt,mt>>16,Ee,Ge+(2*Ye+0)*T)),mt=Cn,Dt=An}1&He||(wt=3*mt+Dt+131074>>2,E(U[G+He-1],255&wt,wt>>16,ze,Se+(He-1)*T),X!=null&&(wt=3*Dt+mt+131074>>2,E(X[ee+He-1],255&wt,wt>>16,Ee,Ge+(He-1)*T)))}}function tt(){os[Nd]=_y,os[_l]=bl,os[Jm]=by,os[vf]=oc,os[yf]=fu,os[rr]=Sf,os[Rd]=lp,os[rc]=bl,os[lu]=oc,os[wf]=fu,os[_f]=Sf}function pt(v){return v&-16384?0>v?0:255:v>>xl}function y(v,E){return pt((19077*v>>8)+(26149*E>>8)-14234)}function M(v,E,T){return pt((19077*v>>8)-(6419*E>>8)-(13320*T>>8)+8708)}function q(v,E){return pt((19077*v>>8)+(33050*E>>8)-17685)}function ie(v,E,T,U,G){U[G+0]=y(v,T),U[G+1]=M(v,E,T),U[G+2]=q(v,E)}function Le(v,E,T,U,G){U[G+0]=q(v,E),U[G+1]=M(v,E,T),U[G+2]=y(v,T)}function je(v,E,T,U,G){var X=M(v,E,T);E=X<<3&224|q(v,E)>>3,U[G+0]=248&y(v,T)|X>>5,U[G+1]=E}function rt(v,E,T,U,G){var X=240&q(v,E)|15;U[G+0]=240&y(v,T)|M(v,E,T)>>4,U[G+1]=X}function Xt(v,E,T,U,G){U[G+0]=255,ie(v,E,T,U,G+1)}function hn(v,E,T,U,G){Le(v,E,T,U,G),U[G+3]=255}function Qt(v,E,T,U,G){ie(v,E,T,U,G),U[G+3]=255}function Nn(v,E){return 0>v?0:v>E?E:v}function Vn(v,E,T){I[v]=function(U,G,X,ee,re,oe,de,be,Re){for(var Oe=be+(-2&Re)*T;be!=Oe;)E(U[G+0],X[ee+0],re[oe+0],de,be),E(U[G+1],X[ee+0],re[oe+0],de,be+T),G+=2,++ee,++oe,be+=2*T;1&Re&&E(U[G+0],X[ee+0],re[oe+0],de,be)}}function Bi(v,E,T){return T==0?v==0?E==0?6:5:E==0?4:0:T}function hi(v,E,T,U,G){switch(v>>>30){case 3:Oa(E,T,U,G,0);break;case 2:Pn(E,T,U,G);break;case 1:Ci(E,T,U,G)}}function ko(v,E){var T,U,G=E.M,X=E.Nb,ee=v.oc,re=v.pc+40,oe=v.oc,de=v.pc+584,be=v.oc,Re=v.pc+600;for(T=0;16>T;++T)ee[re+32*T-1]=129;for(T=0;8>T;++T)oe[de+32*T-1]=129,be[Re+32*T-1]=129;for(0<G?ee[re-1-32]=oe[de-1-32]=be[Re-1-32]=129:(i(ee,re-32-1,127,21),i(oe,de-32-1,127,9),i(be,Re-32-1,127,9)),U=0;U<v.za;++U){var Oe=E.ya[E.aa+U];if(0<U){for(T=-1;16>T;++T)r(ee,re+32*T-4,ee,re+32*T+12,4);for(T=-1;8>T;++T)r(oe,de+32*T-4,oe,de+32*T+4,4),r(be,Re+32*T-4,be,Re+32*T+4,4)}var ke=v.Gd,Xe=v.Hd+U,ze=Oe.ad,Se=Oe.Hc;if(0<G&&(r(ee,re-32,ke[Xe].y,0,16),r(oe,de-32,ke[Xe].f,0,8),r(be,Re-32,ke[Xe].ea,0,8)),Oe.Za){var Ee=ee,Ge=re-32+16;for(0<G&&(U>=v.za-1?i(Ee,Ge,ke[Xe].y[15],4):r(Ee,Ge,ke[Xe+1].y,0,4)),T=0;4>T;T++)Ee[Ge+128+T]=Ee[Ge+256+T]=Ee[Ge+384+T]=Ee[Ge+0+T];for(T=0;16>T;++T,Se<<=2)Ee=ee,Ge=re+up[T],Xs[Oe.Ob[T]](Ee,Ge),hi(Se,ze,16*+T,Ee,Ge)}else if(Ee=Bi(U,G,Oe.Ob[0]),qi[Ee](ee,re),Se!=0)for(T=0;16>T;++T,Se<<=2)hi(Se,ze,16*+T,ee,re+up[T]);for(T=Oe.Gc,Ee=Bi(U,G,Oe.Dd),ss[Ee](oe,de),ss[Ee](be,Re),Se=ze,Ee=oe,Ge=de,255&(Oe=T>>0)&&(170&Oe?Ma(Se,256,Ee,Ge):Ps(Se,256,Ee,Ge)),Oe=be,Se=Re,255&(T>>=8)&&(170&T?Ma(ze,320,Oe,Se):Ps(ze,320,Oe,Se)),G<v.Ub-1&&(r(ke[Xe].y,0,ee,re+480,16),r(ke[Xe].f,0,oe,de+224,8),r(ke[Xe].ea,0,be,Re+224,8)),T=8*X*v.B,ke=v.sa,Xe=v.ta+16*U+16*X*v.R,ze=v.qa,Oe=v.ra+8*U+T,Se=v.Ha,Ee=v.Ia+8*U+T,T=0;16>T;++T)r(ke,Xe+T*v.R,ee,re+32*T,16);for(T=0;8>T;++T)r(ze,Oe+T*v.B,oe,de+32*T,8),r(Se,Ee+T*v.B,be,Re+32*T,8)}}function Po(v,E,T,U,G,X,ee,re,oe){var de=[0],be=[0],Re=0,Oe=oe!=null?oe.kd:0,ke=oe??new Ao;if(v==null||12>T)return 7;ke.data=v,ke.w=E,ke.ha=T,E=[E],T=[T],ke.gb=[ke.gb];e:{var Xe=E,ze=T,Se=ke.gb;if(e(v!=null),e(ze!=null),e(Se!=null),Se[0]=0,12<=ze[0]&&!t(v,Xe[0],"RIFF")){if(t(v,Xe[0]+8,"WEBP")){Se=3;break e}var Ee=We(v,Xe[0]+4);if(12>Ee||4294967286<Ee){Se=3;break e}if(Oe&&Ee>ze[0]-8){Se=7;break e}Se[0]=Ee,Xe[0]+=12,ze[0]-=12}Se=0}if(Se!=0)return Se;for(Ee=0<ke.gb[0],T=T[0];;){e:{var Ge=v;ze=E,Se=T;var He=de,Ye=be,bt=Xe=[0];if((wt=Re=[Re])[0]=0,8>Se[0])Se=7;else{if(!t(Ge,ze[0],"VP8X")){if(We(Ge,ze[0]+4)!=10){Se=3;break e}if(18>Se[0]){Se=7;break e}var mt=We(Ge,ze[0]+8),Dt=1+Be(Ge,ze[0]+12);if(2147483648<=Dt*(Ge=1+Be(Ge,ze[0]+15))){Se=3;break e}bt!=null&&(bt[0]=mt),He!=null&&(He[0]=Dt),Ye!=null&&(Ye[0]=Ge),ze[0]+=18,Se[0]-=18,wt[0]=1}Se=0}}if(Re=Re[0],Xe=Xe[0],Se!=0)return Se;if(ze=!!(2&Xe),!Ee&&Re)return 3;if(X!=null&&(X[0]=!!(16&Xe)),ee!=null&&(ee[0]=ze),re!=null&&(re[0]=0),ee=de[0],Xe=be[0],Re&&ze&&oe==null){Se=0;break}if(4>T){Se=7;break}if(Ee&&Re||!Ee&&!Re&&!t(v,E[0],"ALPH")){T=[T],ke.na=[ke.na],ke.P=[ke.P],ke.Sa=[ke.Sa];e:{mt=v,Se=E,Ee=T;var wt=ke.gb;He=ke.na,Ye=ke.P,bt=ke.Sa,Dt=22,e(mt!=null),e(Ee!=null),Ge=Se[0];var Cn=Ee[0];for(e(He!=null),e(bt!=null),He[0]=null,Ye[0]=null,bt[0]=0;;){if(Se[0]=Ge,Ee[0]=Cn,8>Cn){Se=7;break e}var An=We(mt,Ge+4);if(4294967286<An){Se=3;break e}var wn=8+An+1&-2;if(Dt+=wn,0<wt&&Dt>wt){Se=3;break e}if(!t(mt,Ge,"VP8 ")||!t(mt,Ge,"VP8L")){Se=0;break e}if(Cn[0]<wn){Se=7;break e}t(mt,Ge,"ALPH")||(He[0]=mt,Ye[0]=Ge+8,bt[0]=An),Ge+=wn,Cn-=wn}}if(T=T[0],ke.na=ke.na[0],ke.P=ke.P[0],ke.Sa=ke.Sa[0],Se!=0)break}T=[T],ke.Ja=[ke.Ja],ke.xa=[ke.xa];e:if(wt=v,Se=E,Ee=T,He=ke.gb[0],Ye=ke.Ja,bt=ke.xa,mt=Se[0],Ge=!t(wt,mt,"VP8 "),Dt=!t(wt,mt,"VP8L"),e(wt!=null),e(Ee!=null),e(Ye!=null),e(bt!=null),8>Ee[0])Se=7;else{if(Ge||Dt){if(wt=We(wt,mt+4),12<=He&&wt>He-12){Se=3;break e}if(Oe&&wt>Ee[0]-8){Se=7;break e}Ye[0]=wt,Se[0]+=8,Ee[0]-=8,bt[0]=Dt}else bt[0]=5<=Ee[0]&&wt[mt+0]==47&&!(wt[mt+4]>>5),Ye[0]=Ee[0];Se=0}if(T=T[0],ke.Ja=ke.Ja[0],ke.xa=ke.xa[0],E=E[0],Se!=0)break;if(4294967286<ke.Ja)return 3;if(re==null||ze||(re[0]=ke.xa?2:1),ee=[ee],Xe=[Xe],ke.xa){if(5>T){Se=7;break}re=ee,Oe=Xe,ze=X,v==null||5>T?v=0:5<=T&&v[E+0]==47&&!(v[E+4]>>5)?(Ee=[0],wt=[0],He=[0],te(Ye=new z,v,E,T),yt(Ye,Ee,wt,He)?(re!=null&&(re[0]=Ee[0]),Oe!=null&&(Oe[0]=wt[0]),ze!=null&&(ze[0]=He[0]),v=1):v=0):v=0}else{if(10>T){Se=7;break}re=Xe,v==null||10>T||!Yl(v,E+3,T-3)?v=0:(Oe=v[E+0]|v[E+1]<<8|v[E+2]<<16,ze=16383&(v[E+7]<<8|v[E+6]),v=16383&(v[E+9]<<8|v[E+8]),1&Oe||3<(Oe>>1&7)||!(Oe>>4&1)||Oe>>5>=ke.Ja||!ze||!v?v=0:(ee&&(ee[0]=ze),re&&(re[0]=v),v=1))}if(!v||(ee=ee[0],Xe=Xe[0],Re&&(de[0]!=ee||be[0]!=Xe)))return 3;oe!=null&&(oe[0]=ke,oe.offset=E-oe.w,e(4294967286>E-oe.w),e(oe.offset==oe.ha-T));break}return Se==0||Se==7&&Re&&oe==null?(X!=null&&(X[0]|=ke.na!=null&&0<ke.na.length),U!=null&&(U[0]=ee),G!=null&&(G[0]=Xe),0):Se}function Hu(v,E,T){var U=E.width,G=E.height,X=0,ee=0,re=U,oe=G;if(E.Da=v!=null&&0<v.Da,E.Da&&(re=v.cd,oe=v.bd,X=v.v,ee=v.j,11>T||(X&=-2,ee&=-2),0>X||0>ee||0>=re||0>=oe||X+re>U||ee+oe>G))return 0;if(E.v=X,E.j=ee,E.va=X+re,E.o=ee+oe,E.U=re,E.T=oe,E.da=v!=null&&0<v.da,E.da){if(!St(re,oe,T=[v.ib],X=[v.hb]))return 0;E.ib=T[0],E.hb=X[0]}return E.ob=v!=null&&v.ob,E.Kb=v==null||!v.Sd,E.da&&(E.ob=E.ib<3*U/4&&E.hb<3*G/4,E.Kb=0),1}function Gu(v){if(v==null)return 2;if(11>v.S){var E=v.f.RGBA;E.fb+=(v.height-1)*E.A,E.A=-E.A}else E=v.f.kb,v=v.height,E.O+=(v-1)*E.fa,E.fa=-E.fa,E.N+=(v-1>>1)*E.Ab,E.Ab=-E.Ab,E.W+=(v-1>>1)*E.Db,E.Db=-E.Db,E.F!=null&&(E.J+=(v-1)*E.lb,E.lb=-E.lb);return 0}function tu(v,E,T,U){if(U==null||0>=v||0>=E)return 2;if(T!=null){if(T.Da){var G=T.cd,X=T.bd,ee=-2&T.v,re=-2&T.j;if(0>ee||0>re||0>=G||0>=X||ee+G>v||re+X>E)return 2;v=G,E=X}if(T.da){if(!St(v,E,G=[T.ib],X=[T.hb]))return 2;v=G[0],E=X[0]}}U.width=v,U.height=E;e:{var oe=U.width,de=U.height;if(v=U.S,0>=oe||0>=de||!(v>=Nd&&13>v))v=2;else{if(0>=U.Rd&&U.sd==null){ee=X=G=E=0;var be=(re=oe*Ef[v])*de;if(11>v||(X=(de+1)/2*(E=(oe+1)/2),v==12&&(ee=(G=oe)*de)),(de=s(be+2*X+ee))==null){v=1;break e}U.sd=de,11>v?((oe=U.f.RGBA).eb=de,oe.fb=0,oe.A=re,oe.size=be):((oe=U.f.kb).y=de,oe.O=0,oe.fa=re,oe.Fd=be,oe.f=de,oe.N=0+be,oe.Ab=E,oe.Cd=X,oe.ea=de,oe.W=0+be+X,oe.Db=E,oe.Ed=X,v==12&&(oe.F=de,oe.J=0+be+2*X),oe.Tc=ee,oe.lb=G)}if(E=1,G=U.S,X=U.width,ee=U.height,G>=Nd&&13>G)if(11>G)v=U.f.RGBA,E&=(re=Math.abs(v.A))*(ee-1)+X<=v.size,E&=re>=X*Ef[G],E&=v.eb!=null;else{v=U.f.kb,re=(X+1)/2,be=(ee+1)/2,oe=Math.abs(v.fa),de=Math.abs(v.Ab);var Re=Math.abs(v.Db),Oe=Math.abs(v.lb),ke=Oe*(ee-1)+X;E&=oe*(ee-1)+X<=v.Fd,E&=de*(be-1)+re<=v.Cd,E=(E&=Re*(be-1)+re<=v.Ed)&oe>=X&de>=re&Re>=re,E&=v.y!=null,E&=v.f!=null,E&=v.ea!=null,G==12&&(E&=Oe>=X,E&=ke<=v.Tc,E&=v.F!=null)}else E=0;v=E?0:2}}return v!=0||T!=null&&T.fd&&(v=Gu(U)),v}var xr=64,Ku=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Yu=24,Ju=32,Xu=8,Vi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];st("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(v){return v},I.Predictor2=function(v,E,T){return E[T+0]},I.Predictor3=function(v,E,T){return E[T+1]},I.Predictor4=function(v,E,T){return E[T-1]},I.Predictor5=function(v,E,T){return Ne(Ne(v,E[T+1]),E[T+0])},I.Predictor6=function(v,E,T){return Ne(v,E[T-1])},I.Predictor7=function(v,E,T){return Ne(v,E[T+0])},I.Predictor8=function(v,E,T){return Ne(E[T-1],E[T+0])},I.Predictor9=function(v,E,T){return Ne(E[T+0],E[T+1])},I.Predictor10=function(v,E,T){return Ne(Ne(v,E[T-1]),Ne(E[T+0],E[T+1]))},I.Predictor11=function(v,E,T){var U=E[T+0];return 0>=ct(U>>24&255,v>>24&255,(E=E[T-1])>>24&255)+ct(U>>16&255,v>>16&255,E>>16&255)+ct(U>>8&255,v>>8&255,E>>8&255)+ct(255&U,255&v,255&E)?U:v},I.Predictor12=function(v,E,T){var U=E[T+0];return(Ve((v>>24&255)+(U>>24&255)-((E=E[T-1])>>24&255))<<24|Ve((v>>16&255)+(U>>16&255)-(E>>16&255))<<16|Ve((v>>8&255)+(U>>8&255)-(E>>8&255))<<8|Ve((255&v)+(255&U)-(255&E)))>>>0},I.Predictor13=function(v,E,T){var U=E[T-1];return(Ze((v=Ne(v,E[T+0]))>>24&255,U>>24&255)<<24|Ze(v>>16&255,U>>16&255)<<16|Ze(v>>8&255,U>>8&255)<<8|Ze(v>>0&255,U>>0&255))>>>0};var nu=I.PredictorAdd0;I.PredictorAdd1=nt,st("Predictor2","PredictorAdd2"),st("Predictor3","PredictorAdd3"),st("Predictor4","PredictorAdd4"),st("Predictor5","PredictorAdd5"),st("Predictor6","PredictorAdd6"),st("Predictor7","PredictorAdd7"),st("Predictor8","PredictorAdd8"),st("Predictor9","PredictorAdd9"),st("Predictor10","PredictorAdd10"),st("Predictor11","PredictorAdd11"),st("Predictor12","PredictorAdd12"),st("Predictor13","PredictorAdd13");var Ia=I.PredictorAdd2;gt("ColorIndexInverseTransform","MapARGB","32b",function(v){return v>>8&255},function(v){return v}),gt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(v){return v},function(v){return v>>8&255});var Id,Ui=I.ColorIndexInverseTransform,Qu=I.MapARGB,pf=I.VP8LColorIndexInverseTransformAlpha,Zu=I.MapAlpha,sa=I.VP8LPredictorsAdd=[];sa.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var vl,zi,Ei,yl,Na,Ra,ec,Oa,Pn,Ma,Ci,Ps,ru,mf,iu,su,ou,Ts,Da,oa,ja,Fa,wl,pi,is,nr,Un,Sr,Or=s(511),aa=s(2041),tc=s(225),au=s(767),gf=0,la=aa,nc=tc,$i=au,Js=Or,Nd=0,_l=1,Jm=2,vf=3,yf=4,rr=5,Rd=6,rc=7,lu=8,wf=9,_f=10,bf=[2,3,7],Od=[3,3,11],uu=[280,256,256,256,40],Xm=[0,1,1,1,0],gy=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],vy=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Qm=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Md=8,ic=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],xf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],cu=null,sp=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],op=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Zm=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],eg=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],yy=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],wy=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ap=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],qi=[],Xs=[],ss=[],ua=1,sc=2,Ai=[],os=[];qe("UpsampleRgbLinePair",ie,3),qe("UpsampleBgrLinePair",Le,3),qe("UpsampleRgbaLinePair",Qt,4),qe("UpsampleBgraLinePair",hn,4),qe("UpsampleArgbLinePair",Xt,4),qe("UpsampleRgba4444LinePair",rt,2),qe("UpsampleRgb565LinePair",je,2);var _y=I.UpsampleRgbLinePair,by=I.UpsampleBgrLinePair,bl=I.UpsampleRgbaLinePair,oc=I.UpsampleBgraLinePair,fu=I.UpsampleArgbLinePair,Sf=I.UpsampleRgba4444LinePair,lp=I.UpsampleRgb565LinePair,Ba=16,To=1<<Ba-1,zn=-227,Yn=482,xl=6,mi=0,as=s(256),du=s(256),ac=s(256),ls=s(256),Dd=s(Yn-zn),tg=s(Yn-zn);Vn("YuvToRgbRow",ie,3),Vn("YuvToBgrRow",Le,3),Vn("YuvToRgbaRow",Qt,4),Vn("YuvToBgraRow",hn,4),Vn("YuvToArgbRow",Xt,4),Vn("YuvToRgba4444Row",rt,2),Vn("YuvToRgb565Row",je,2);var up=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],hu=[0,2,8],ng=[8,7,6,4,4,2,2,2,1,1,1,1],Va=1;this.WebPDecodeRGBA=function(v,E,T,U,G){var X=_l,ee=new ks,re=new dn;ee.ba=re,re.S=X,re.width=[re.width],re.height=[re.height];var oe=re.width,de=re.height,be=new Tt;if(be==null||v==null)var Re=2;else e(be!=null),Re=Po(v,E,T,be.width,be.height,be.Pd,be.Qd,be.format,null);if(Re!=0?oe=0:(oe!=null&&(oe[0]=be.width[0]),de!=null&&(de[0]=be.height[0]),oe=1),oe){re.width=re.width[0],re.height=re.height[0],U!=null&&(U[0]=re.width),G!=null&&(G[0]=re.height);e:{if(U=new Ca,(G=new Ao).data=v,G.w=E,G.ha=T,G.kd=1,E=[0],e(G!=null),((v=Po(G.data,G.w,G.ha,null,null,null,E,null,G))==0||v==7)&&E[0]&&(v=4),(E=v)==0){if(e(ee!=null),U.data=G.data,U.w=G.w+G.offset,U.ha=G.ha-G.offset,U.put=jn,U.ac=yn,U.bc=Zr,U.ma=ee,G.xa){if((v=Sn())==null){ee=1;break e}if(function(Oe,ke){var Xe=[0],ze=[0],Se=[0];t:for(;;){if(Oe==null)return 0;if(ke==null)return Oe.a=2,0;if(Oe.l=ke,Oe.a=0,te(Oe.m,ke.data,ke.w,ke.ha),!yt(Oe.m,Xe,ze,Se)){Oe.a=3;break t}if(Oe.xb=sc,ke.width=Xe[0],ke.height=ze[0],!zr(Xe[0],ze[0],1,Oe,null))break t;return 1}return e(Oe.a!=0),0}(v,U)){if(U=(E=tu(U.width,U.height,ee.Oa,ee.ba))==0){t:{U=v;n:for(;;){if(U==null){U=0;break t}if(e(U.s.yc!=null),e(U.s.Ya!=null),e(0<U.s.Wb),e((T=U.l)!=null),e((G=T.ma)!=null),U.xb!=0){if(U.ca=G.ba,U.tb=G.tb,e(U.ca!=null),!Hu(G.Oa,T,vf)){U.a=2;break n}if(!ai(U,T.width)||T.da)break n;if((T.da||Rt(U.ca.S))&&Pe(),11>U.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),U.ca.f.kb.F!=null&&Pe()),U.Pb&&0<U.s.ua&&U.s.vb.X==null&&!ft(U.s.vb,U.s.Wa.Xa)){U.a=1;break n}U.xb=0}if(!gn(U,U.V,U.Ba,U.c,U.i,T.o,Us))break n;G.Dc=U.Ma,U=1;break t}e(U.a!=0),U=0}U=!U}U&&(E=v.a)}else E=v.a}else{if((v=new li)==null){ee=1;break e}if(v.Fa=G.na,v.P=G.P,v.qc=G.Sa,Jl(v,U)){if((E=tu(U.width,U.height,ee.Oa,ee.ba))==0){if(v.Aa=0,T=ee.Oa,e((G=v)!=null),T!=null){if(0<(oe=0>(oe=T.Md)?0:100<oe?255:255*oe/100)){for(de=be=0;4>de;++de)12>(Re=G.pb[de]).lc&&(Re.ia=oe*ng[0>Re.lc?0:Re.lc]>>3),be|=Re.ia;be&&(alert("todo:VP8InitRandom"),G.ia=1)}G.Ga=T.Id,100<G.Ga?G.Ga=100:0>G.Ga&&(G.Ga=0)}Jo(v,U)||(E=v.a)}}else E=v.a}E==0&&ee.Oa!=null&&ee.Oa.fd&&(E=Gu(ee.ba))}ee=E}X=ee!=0?null:11>X?re.f.RGBA.eb:re.f.kb.y}else X=null;return X};var Ef=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(I,N){for(var W="",O=0;O<4;O++)W+=String.fromCharCode(I[N++]);return W}function d(I,N){return(I[N+0]<<0|I[N+1]<<8|I[N+2]<<16)>>>0}function h(I,N){return(I[N+0]<<0|I[N+1]<<8|I[N+2]<<16|I[N+3]<<24)>>>0}new u;var m=[0],g=[0],w=[],_=new u,x=n,C=function(I,N){var W={},O=0,P=!1,B=0,Y=0;if(W.frames=[],!function(J,se,Z,pe){for(var ye=0;ye<pe;ye++)if(J[se+ye]!=Z.charCodeAt(ye))return!0;return!1}(I,N,"RIFF",4)){for(h(I,N+=4),N+=8;N<I.length;){var ue=f(I,N),ae=h(I,N+=4);N+=4;var le=ae+(1&ae);switch(ue){case"VP8 ":case"VP8L":W.frames[O]===void 0&&(W.frames[O]={}),(fe=W.frames[O]).src_off=P?Y:N-8,fe.src_size=B+ae+8,O++,P&&(P=!1,B=0,Y=0);break;case"VP8X":(fe=W.header={}).feature_flags=I[N];var te=N+4;fe.canvas_width=1+d(I,te),te+=3,fe.canvas_height=1+d(I,te),te+=3;break;case"ALPH":P=!0,B=le+8,Y=N-8;break;case"ANIM":(fe=W.header).bgcolor=h(I,N),te=N+4,fe.loop_count=(ne=I)[(z=te)+0]<<0|ne[z+1]<<8,te+=2;break;case"ANMF":var ce,fe;(fe=W.frames[O]={}).offset_x=2*d(I,N),N+=3,fe.offset_y=2*d(I,N),N+=3,fe.width=1+d(I,N),N+=3,fe.height=1+d(I,N),N+=3,fe.duration=d(I,N),N+=3,ce=I[N++],fe.dispose=1&ce,fe.blend=ce>>1&1}ue!="ANMF"&&(N+=le)}var ne,z;return W}}(x,0);C.response=x,C.rgbaoutput=!0,C.dataurl=!1;var L=C.header?C.header:null,j=C.frames?C.frames:null;if(L){L.loop_counter=L.loop_count,m=[L.canvas_height],g=[L.canvas_width];for(var D=0;D<j.length&&j[D].blend!=0;D++);}var $=j[0],H=_.WebPDecodeRGBA(x,$.src_off,$.src_size,g,m);$.rgba=H,$.imgwidth=g[0],$.imgheight=m[0];for(var R=0;R<g[0]*m[0]*4;R++)w[R]=H[R];return this.width=g,this.height=m,this.data=w,this}(function(n){var e=function(){return typeof G2=="function"},t=function(m,g,w,_){var x=4,C=o;switch(_){case n.image_compression.FAST:x=1,C=s;break;case n.image_compression.MEDIUM:x=6,C=a;break;case n.image_compression.SLOW:x=9,C=u}m=r(m,g,w,C);var L=G2(m,{level:x});return n.__addimage__.arrayBufferToBinaryString(L)},r=function(m,g,w,_){for(var x,C,L,j=m.length/g,D=new Uint8Array(m.length+j),$=d(),H=0;H<j;H+=1){if(L=H*g,x=m.subarray(L,L+g),_)D.set(_(x,w,C),L+H);else{for(var R,I=$.length,N=[];R<I;R+=1)N[R]=$[R](x,w,C);var W=h(N.concat());D.set(N[W],L+H)}C=x}return D},i=function(m){var g=Array.apply([],m);return g.unshift(0),g},s=function(m,g){var w,_=[],x=m.length;_[0]=1;for(var C=0;C<x;C+=1)w=m[C-g]||0,_[C+1]=m[C]-w+256&255;return _},o=function(m,g,w){var _,x=[],C=m.length;x[0]=2;for(var L=0;L<C;L+=1)_=w&&w[L]||0,x[L+1]=m[L]-_+256&255;return x},a=function(m,g,w){var _,x,C=[],L=m.length;C[0]=3;for(var j=0;j<L;j+=1)_=m[j-g]||0,x=w&&w[j]||0,C[j+1]=m[j]+256-(_+x>>>1)&255;return C},u=function(m,g,w){var _,x,C,L,j=[],D=m.length;j[0]=4;for(var $=0;$<D;$+=1)_=m[$-g]||0,x=w&&w[$]||0,C=w&&w[$-g]||0,L=f(_,x,C),j[$+1]=m[$]-L+256&255;return j},f=function(m,g,w){if(m===g&&g===w)return m;var _=Math.abs(g-w),x=Math.abs(m-w),C=Math.abs(m+g-w-w);return _<=x&&_<=C?m:x<=C?g:w},d=function(){return[i,s,o,a,u]},h=function(m){var g=m.map(function(w){return w.reduce(function(_,x){return _+Math.abs(x)},0)});return g.indexOf(Math.min.apply(null,g))};n.processPNG=function(m,g,w,_){var x,C,L,j,D,$,H,R,I,N,W,O,P,B,Y,ue=this.decode.FLATE_DECODE,ae="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(L=new XV(m)).imgData,C=L.bits,x=L.colorSpace,D=L.colors,[4,6].indexOf(L.colorType)!==-1){if(L.bits===8){I=(R=L.pixelBitlength==32?new Uint32Array(L.decodePixels().buffer):L.pixelBitlength==16?new Uint16Array(L.decodePixels().buffer):new Uint8Array(L.decodePixels().buffer)).length,W=new Uint8Array(I*L.colors),N=new Uint8Array(I);var le,te=L.pixelBitlength-L.bits;for(B=0,Y=0;B<I;B++){for(P=R[B],le=0;le<te;)W[Y++]=P>>>le&255,le+=L.bits;N[B]=P>>>le&255}}if(L.bits===16){I=(R=new Uint32Array(L.decodePixels().buffer)).length,W=new Uint8Array(I*(32/L.pixelBitlength)*L.colors),N=new Uint8Array(I*(32/L.pixelBitlength)),O=L.colors>1,B=0,Y=0;for(var ce=0;B<I;)P=R[B++],W[Y++]=P>>>0&255,O&&(W[Y++]=P>>>16&255,P=R[B++],W[Y++]=P>>>0&255),N[ce++]=P>>>16&255;C=8}_!==n.image_compression.NONE&&e()?(m=t(W,L.width*L.colors,L.colors,_),H=t(N,L.width,1,_)):(m=W,H=N,ue=void 0)}if(L.colorType===3&&(x=this.color_spaces.INDEXED,$=L.palette,L.transparency.indexed)){var fe=L.transparency.indexed,ne=0;for(B=0,I=fe.length;B<I;++B)ne+=fe[B];if((ne/=255)===I-1&&fe.indexOf(0)!==-1)j=[fe.indexOf(0)];else if(ne!==I){for(R=L.decodePixels(),N=new Uint8Array(R.length),B=0,I=R.length;B<I;B++)N[B]=fe[R[B]];H=t(N,L.width,1)}}var z=function(J){var se;switch(J){case n.image_compression.FAST:se=11;break;case n.image_compression.MEDIUM:se=13;break;case n.image_compression.SLOW:se=14;break;default:se=12}return se}(_);return ue===this.decode.FLATE_DECODE&&(ae="/Predictor "+z+" "),ae+="/Colors "+D+" /BitsPerComponent "+C+" /Columns "+L.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(H&&this.__addimage__.isArrayBuffer(H)||this.__addimage__.isArrayBufferView(H))&&(H=this.__addimage__.arrayBufferToBinaryString(H)),{alias:w,data:m,index:g,filter:ue,decodeParameters:ae,transparency:j,palette:$,sMask:H,predictor:z,width:L.width,height:L.height,bitsPerComponent:C,colorSpace:x}}}})(zt.API),function(n){n.processGIF89A=function(e,t,r,i){var s=new QV(e),o=s.width,a=s.height,u=[];s.decodeAndBlitFrameRGBA(0,u);var f={data:u,width:o,height:a},d=new D1(100).encode(f,100);return n.processJPEG.call(this,d,t,r,i)},n.processGIF87A=n.processGIF89A}(zt.API),Xa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Xa.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){ur.log("bit decode error:"+t)}},Xa.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var u=this.palette[s>>7-a&1];this.data[o+4*a]=u.blue,this.data[o+4*a+1]=u.green,this.data[o+4*a+2]=u.red,this.data[o+4*a+3]=255}t!==0&&(this.pos+=4-t)}},Xa.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,u=15&s,f=this.palette[a];if(this.data[o]=f.blue,this.data[o+1]=f.green,this.data[o+2]=f.red,this.data[o+3]=255,2*i+1>=this.width)break;f=this.palette[u],this.data[o+4]=f.blue,this.data[o+4+1]=f.green,this.data[o+4+2]=f.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Xa.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},Xa.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,u=(s>>10&e)/e*255|0,f=s>>15?255:0,d=r*this.width*4+4*i;this.data[d]=u,this.data[d+1]=a,this.data[d+2]=o,this.data[d+3]=f}this.pos+=n}},Xa.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,u=(o>>5&t)/t*255|0,f=(o>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=f,this.data[d+1]=u,this.data[d+2]=a,this.data[d+3]=255}this.pos+=n}},Xa.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Xa.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Xa.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var s=new Xa(e,!1),o=s.width,a=s.height,u={data:s.getData(),width:o,height:a},f=new D1(100).encode(u,100);return n.processJPEG.call(this,f,t,r,i)}}(zt.API),WS.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var s=new WS(e),o=s.width,a=s.height,u={data:s.getData(),width:o,height:a},f=new D1(100).encode(u,100);return n.processJPEG.call(this,f,t,r,i)}}(zt.API),zt.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,u=0,f=0;f<i;f+=4){var d=r[f],h=r[f+1],m=r[f+2],g=r[f+3];s[a++]=d,s[a++]=h,s[a++]=m,o[u++]=g}var w=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:w,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},zt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},sh=zt.API,zg=sh.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,u=a.fof?a.fof:1,f=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=f.fof?f.fof:1,h=e.doKerning!==!1,m=0,g=n.length,w=0,_=a[0]||u,x=[];for(t=0;t<g;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?x.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(m=h&&ir(f[r])==="object"&&!isNaN(parseInt(f[r][w],10))?f[r][w]/d:0,x.push((a[r]||_)/u+m)),w=r;return x},US=sh.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return sh.processArabic&&(n=sh.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:zg.apply(this,arguments).reduce(function(s,o){return s+o},0)},zS=function(n,e,t,r){for(var i=[],s=0,o=n.length,a=0;s!==o&&a+e[s]<t;)a+=e[s],s++;i.push(n.slice(0,s));var u=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(n.slice(u,s)),a=0,u=s),a+=e[s],s++;return u!==s&&i.push(n.slice(u,s)),i},$S=function(n,e,t){t||(t={});var r,i,s,o,a,u,f,d=[],h=[d],m=t.textIndent||0,g=0,w=0,_=n.split(" "),x=zg.apply(this,[" ",t])[0];if(u=t.lineIndent===-1?_[0].length+2:t.lineIndent||0){var C=Array(u).join(" "),L=[];_.map(function(D){(D=D.split(/\s*\n/)).length>1?L=L.concat(D.map(function($,H){return(H&&$.length?`
`:"")+$})):L.push(D[0])}),_=L,u=US.apply(this,[C,t])}for(s=0,o=_.length;s<o;s++){var j=0;if(r=_[s],u&&r[0]==`
`&&(r=r.substr(1),j=1),m+g+(w=(i=zg.apply(this,[r,t])).reduce(function(D,$){return D+$},0))>e||j){if(w>e){for(a=zS.apply(this,[r,i,e-(m+g),e]),d.push(a.shift()),d=[a.pop()];a.length;)h.push([a.shift()]);w=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(D,$){return D+$},0)}else d=[r];h.push(d),m=w+u,g=x}else d.push(r),m+=g+w,g=x}return f=u?function(D,$){return($?C:"")+D.join(" ")}:function(D){return D.join(" ")},h.map(f)},sh.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var a,u,f=[];for(a=0,u=r.length;a<u;a++)f=f.concat($S.apply(this,[r[a],o,s]));return f},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(h){return"0x"+parseInt(h,10).toString(16)},o=n.__fontmetrics__.compress=function(h){var m,g,w,_,x=["{"];for(var C in h){if(m=h[C],isNaN(parseInt(C,10))?g="'"+C+"'":(C=parseInt(C,10),g=(g=s(C).slice(2)).slice(0,-1)+r[g.slice(-1)]),typeof m=="number")m<0?(w=s(m).slice(3),_="-"):(w=s(m).slice(2),_=""),w=_+w.slice(0,-1)+r[w.slice(-1)];else{if(ir(m)!=="object")throw new Error("Don't know what to do with value type "+ir(m)+".");w=o(m)}x.push(g+w)}return x.push("}"),x.join("")},a=n.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,g,w,_,x={},C=1,L=x,j=[],D="",$="",H=h.length-1,R=1;R<H;R+=1)(_=h[R])=="'"?m?(w=m.join(""),m=void 0):m=[]:m?m.push(_):_=="{"?(j.push([L,w]),L={},w=void 0):_=="}"?((g=j.pop())[0][g[1]]=L,w=void 0,L=g[0]):_=="-"?C=-1:w===void 0?t.hasOwnProperty(_)?(D+=t[_],w=parseInt(D,16)*C,C=1,D=""):D+=_:t.hasOwnProperty(_)?($+=t[_],L[w]=parseInt($,16)*C,C=1,w=void 0,$=""):$+=_;return x},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},d={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(h){var m=h.font,g=d.Unicode[m.postScriptName];g&&(m.metadata.Unicode={},m.metadata.Unicode.widths=g.widths,m.metadata.Unicode.kerning=g.kerning);var w=f.Unicode[m.postScriptName];w&&(m.metadata.Unicode.encoding=w,m.encoding=w.codePages[0])}])}(zt.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Hp(a)),o.metadata=n.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(zt),function(n){function e(){return(Ht.canvg?Promise.resolve(Ht.canvg):z2(()=>import("./index.es-CSRoR4tB.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}zt.API.addSvgAsImage=function(t,r,i,s,o,a,u,f){if(isNaN(r)||isNaN(i))throw ur.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw ur.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=s,d.height=o;var h=d.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,d.width,d.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return e().then(function(w){return w.fromString(h,t,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(m)}).then(function(){g.addImage(d.toDataURL("image/jpeg",1),r,i,s,o,u,f)})}}(),zt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},zt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),u=[],f=0,d=0,h=0;function m(w,_){var x,C=!1;for(x=0;x<w.length;x+=1)w[x]===_&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var g=a.length;for(h=0;h<g;h+=1)t[a[h]].value=t[a[h]].defaultValue,t[a[h]].explicitSet=!1}if(ir(n)==="object"){for(i in n)if(s=n[i],m(a,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&m(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(f=0;f<s.length;f+=1)if(r=!0,s[f].length===1&&typeof s[f][0]=="number")u.push(String(s[f]-1));else if(s[f].length>1){for(d=0;d<s[f].length;d+=1)typeof s[f][d]!="number"&&(r=!1);r===!0&&u.push([s[f][0]-1,s[f][1]-1].join(" "))}t[i].value="["+u.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,_=[];for(w in t)t[w].explicitSet===!0&&(t[w].type==="name"?_.push("/"+w+" /"+t[w].value):_.push("/"+w+" "+t[w].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),f=s.length+o.length+a.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+u),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(zt.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,o){for(var a,u=o.metadata.Unicode.widths,f=["","0","00","000","0000"],d=[""],h=0,m=s.length;h<m;++h){if(a=o.metadata.characterToGlyph(s.charCodeAt(h)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(h),u.indexOf(a)==-1&&(u.push(a),u.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return d.join("");a=a.toString(16),d.push(f[4-a.length],a)}return d.join("")},r=function(s){var o,a,u,f,d,h,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],h=0,m=(a=Object.keys(s).sort(function(g,w){return g-w})).length;h<m;h++)o=a[h],u.length>=100&&(d+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(f=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),u.push("<"+o+"><"+f+">"));return u.length&&(d+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,u=o.out,f=o.newObject,d=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,m=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),g="",w=0;w<m.length;w++)g+=String.fromCharCode(m[w]);var _=f();d({data:g,addLength1:!0,objectId:_}),u("endobj");var x=f();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:x}),u("endobj");var C=f();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+ch(a.fontName)),u("/FontFile2 "+_+" 0 R"),u("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),u("/Flags "+a.metadata.flags),u("/StemV "+a.metadata.stemV),u("/ItalicAngle "+a.metadata.italicAngle),u("/Ascent "+a.metadata.ascender),u("/Descent "+a.metadata.decender),u("/CapHeight "+a.metadata.capHeight),u(">>"),u("endobj");var L=f();u("<<"),u("/Type /Font"),u("/BaseFont /"+ch(a.fontName)),u("/FontDescriptor "+C+" 0 R"),u("/W "+n.API.PDFObject.convert(h)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+a.encoding+")"),u(">>"),u(">>"),u("endobj"),a.objectNumber=f(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+x+" 0 R"),u("/BaseFont /"+ch(a.fontName)),u("/Encoding /"+a.encoding),u("/DescendantFonts ["+L+" 0 R]"),u(">>"),u("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,u=o.out,f=o.newObject,d=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,m="",g=0;g<h.length;g++)m+=String.fromCharCode(h[g]);var w=f();d({data:m,addLength1:!0,objectId:w}),u("endobj");var _=f();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:_}),u("endobj");var x=f();u("<<"),u("/Descent "+a.metadata.decender),u("/CapHeight "+a.metadata.capHeight),u("/StemV "+a.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+w+" 0 R"),u("/Flags 96"),u("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),u("/FontName /"+ch(a.fontName)),u("/ItalicAngle "+a.metadata.italicAngle),u("/Ascent "+a.metadata.ascender),u(">>"),u("endobj"),a.objectNumber=f();for(var C=0;C<a.metadata.hmtx.widths.length;C++)a.metadata.hmtx.widths[C]=parseInt(a.metadata.hmtx.widths[C]*(1e3/a.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+ch(a.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),u("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",u=s.x,f=s.y,d=s.options||{},h=s.mutex||{},m=h.pdfEscape,g=h.activeFontKey,w=h.fonts,_=g,x="",C=0,L="",j=w[_].encoding;if(w[_].encoding!=="Identity-H")return{text:a,x:u,y:f,options:d,mutex:h};for(L=a,_=g,Array.isArray(a)&&(L=a[0]),C=0;C<L.length;C+=1)w[_].metadata.hasOwnProperty("cmap")&&(o=w[_].metadata.cmap.unicode.codeMap[L[C].charCodeAt(0)]),o||L[C].charCodeAt(0)<256&&w[_].metadata.hasOwnProperty("Unicode")?x+=L[C]:x+="";var D="";return parseInt(_.slice(1))<14||j==="WinAnsiEncoding"?D=m(x,_).split("").map(function($){return $.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(D=t(x,w[_])),h.isHex=!0,{text:D,x:u,y:f,options:d,mutex:h}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],u={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var f=0;for(f=0;f<o.length;f+=1)Array.isArray(o[f])&&o[f].length===3?a.push([i(Object.assign({},u,{text:o[f][0]})).text,o[f][1],o[f][2]]):a.push(i(Object.assign({},u,{text:o[f]})).text);s.text=a}else s.text=i(Object.assign({},u,{text:o})).text}])}(zt),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(zt.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,o,a,u,f,d,h=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),L=!1,j=0;this.__bidiEngine__={};var D=function(O){var P=O.charCodeAt(),B=P>>8,Y=_[B];return Y!==void 0?h[256*Y+(255&P)]:B===252||B===253?"AL":C.test(B)?"L":B===8?"R":"N"},$=function(O){for(var P,B=0;B<O.length;B++){if((P=D(O.charAt(B)))==="L")return!1;if(P==="R")return!0}return!1},H=function(O,P,B,Y){var ue,ae,le,te,ce=P[Y];switch(ce){case"L":case"R":L=!1;break;case"N":case"AN":break;case"EN":L&&(ce="AN");break;case"AL":L=!0,ce="R";break;case"WS":ce="N";break;case"CS":Y<1||Y+1>=P.length||(ue=B[Y-1])!=="EN"&&ue!=="AN"||(ae=P[Y+1])!=="EN"&&ae!=="AN"?ce="N":L&&(ae="AN"),ce=ae===ue?ae:"N";break;case"ES":ce=(ue=Y>0?B[Y-1]:"B")==="EN"&&Y+1<P.length&&P[Y+1]==="EN"?"EN":"N";break;case"ET":if(Y>0&&B[Y-1]==="EN"){ce="EN";break}if(L){ce="N";break}for(le=Y+1,te=P.length;le<te&&P[le]==="ET";)le++;ce=le<te&&P[le]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(te=P.length,le=Y+1;le<te&&P[le]==="NSM";)le++;if(le<te){var fe=O[Y],ne=fe>=1425&&fe<=2303||fe===64286;if(ue=P[le],ne&&(ue==="R"||ue==="AL")){ce="R";break}}}ce=Y<1||(ue=P[Y-1])==="B"?"N":B[Y-1];break;case"B":L=!1,i=!0,ce=j;break;case"S":s=!0,ce="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":L=!1;break;case"BN":ce="N"}return ce},R=function(O,P,B){var Y=O.split("");return B&&I(Y,B,{hiLevel:j}),Y.reverse(),P&&P.reverse(),Y.join("")},I=function(O,P,B){var Y,ue,ae,le,te,ce=-1,fe=O.length,ne=0,z=[],J=j?g:m,se=[];for(L=!1,i=!1,s=!1,ue=0;ue<fe;ue++)se[ue]=D(O[ue]);for(ae=0;ae<fe;ae++){if(te=ne,z[ae]=H(O,se,z,ae),Y=240&(ne=J[te][w[z[ae]]]),ne&=15,P[ae]=le=J[ne][5],Y>0)if(Y===16){for(ue=ce;ue<ae;ue++)P[ue]=1;ce=-1}else ce=-1;if(J[ne][6])ce===-1&&(ce=ae);else if(ce>-1){for(ue=ce;ue<ae;ue++)P[ue]=le;ce=-1}se[ae]==="B"&&(P[ae]=0),B.hiLevel|=le}s&&function(Z,pe,ye){for(var ve=0;ve<ye;ve++)if(Z[ve]==="S"){pe[ve]=j;for(var we=ve-1;we>=0&&Z[we]==="WS";we--)pe[we]=j}}(se,P,fe)},N=function(O,P,B,Y,ue){if(!(ue.hiLevel<O)){if(O===1&&j===1&&!i)return P.reverse(),void(B&&B.reverse());for(var ae,le,te,ce,fe=P.length,ne=0;ne<fe;){if(Y[ne]>=O){for(te=ne+1;te<fe&&Y[te]>=O;)te++;for(ce=ne,le=te-1;ce<le;ce++,le--)ae=P[ce],P[ce]=P[le],P[le]=ae,B&&(ae=B[ce],B[ce]=B[le],B[le]=ae);ne=te}ne++}}},W=function(O,P,B){var Y=O.split(""),ue={hiLevel:j};return B||(B=[]),I(Y,B,ue),function(ae,le,te){if(te.hiLevel!==0&&d)for(var ce,fe=0;fe<ae.length;fe++)le[fe]===1&&(ce=x.indexOf(ae[fe]))>=0&&(ae[fe]=x[ce+1])}(Y,B,ue),N(2,Y,P,B,ue),N(1,Y,P,B,ue),Y.join("")};return this.__bidiEngine__.doBidiReorder=function(O,P,B){if(function(ue,ae){if(ae)for(var le=0;le<ue.length;le++)ae[le]=le;a===void 0&&(a=$(ue)),f===void 0&&(f=$(ue))}(O,P),o||!u||f)if(o&&u&&a^f)j=a?1:0,O=R(O,P,B);else if(!o&&u&&f)j=a?1:0,O=W(O,P,B),O=R(O,P);else if(!o||a||u||f){if(o&&!u&&a^f)O=R(O,P),a?(j=0,O=W(O,P,B)):(j=1,O=W(O,P,B),O=R(O,P));else if(o&&a&&!u&&f)j=1,O=W(O,P,B),O=R(O,P);else if(!o&&!u&&a^f){var Y=d;a?(j=1,O=W(O,P,B),j=0,d=!1,O=W(O,P,B),d=Y):(j=0,O=W(O,P,B),O=R(O,P),j=1,d=!1,O=W(O,P,B),d=Y,O=R(O,P))}}else j=0,O=W(O,P,B);else j=a?1:0,O=W(O,P,B);return O},this.__bidiEngine__.setOptions=function(O){O&&(o=O.isInputVisual,u=O.isOutputVisual,a=O.isInputRtl,f=O.isOutputRtl,d=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([t.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([t.doBidiReorder(i[a])]);r.text=o}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(zt),zt.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Xc(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new hU(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new ZV(this.contents),this.head=new tU(this),this.name=new oU(this),this.cmap=new cT(this),this.toUnicode={},this.hhea=new nU(this),this.maxp=new aU(this),this.hmtx=new lU(this),this.post=new iU(this),this.os2=new rU(this),this.loca=new dU(this),this.glyf=new uU(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,u,f;for(f=[],o=0,a=(u=this.bbox).length;o<a;o++)e=u[o],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var ll,Xc=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,o,a,u;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^u)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+u},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n}(),ZV=function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,o,a,u,f,d,h,m,g,w,_;for(_ in g=Object.keys(t).length,u=Math.log(2),h=16*Math.floor(Math.log(g)/u),o=Math.floor(h/u),d=16*g-h,(i=new Xc).writeInt(this.scalarType),i.writeShort(g),i.writeShort(h),i.writeShort(o),i.writeShort(d),s=16*g,f=i.pos+s,a=null,w=[],t)for(m=t[_],i.writeString(_),i.writeInt(n(m)),i.writeInt(f),i.writeInt(m.length),w=w.concat(m),_==="head"&&(a=f),f+=m.length;f%4;)w.push(0),f++;return i.write(w),r=2981146554-n(i.data),i.pos=a+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,o;for(t=fT.call(t);t.length%4;)t.push(0);for(s=new Xc(t),i=0,r=0,o=t.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),eU={}.hasOwnProperty,Kl=function(n,e){for(var t in e)eU.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};ll=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var tU=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Kl(e,ll),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Xc).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),HS=function(){function n(e,t){var r,i,s,o,a,u,f,d,h,m,g,w,_,x,C,L,j;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(g=e.readUInt16(),m=g/2,e.pos+=6,s=function(){var D,$;for($=[],u=D=0;0<=m?D<m:D>m;u=0<=m?++D:--D)$.push(e.readUInt16());return $}(),e.pos+=2,_=function(){var D,$;for($=[],u=D=0;0<=m?D<m:D>m;u=0<=m?++D:--D)$.push(e.readUInt16());return $}(),f=function(){var D,$;for($=[],u=D=0;0<=m?D<m:D>m;u=0<=m?++D:--D)$.push(e.readUInt16());return $}(),d=function(){var D,$;for($=[],u=D=0;0<=m?D<m:D>m;u=0<=m?++D:--D)$.push(e.readUInt16());return $}(),i=(this.length-e.pos+this.offset)/2,a=function(){var D,$;for($=[],u=D=0;0<=i?D<i:D>i;u=0<=i?++D:--D)$.push(e.readUInt16());return $}(),u=C=0,j=s.length;C<j;u=++C)for(x=s[u],r=L=w=_[u];w<=x?L<=x:L>=x;r=w<=x?++L:--L)d[u]===0?o=r+f[u]:(o=a[d[u]/2+(r-w)-(m-u)]||0)!==0&&(o+=f[u]),this.codeMap[r]=65535&o}e.pos=h}return n.encode=function(e,t){var r,i,s,o,a,u,f,d,h,m,g,w,_,x,C,L,j,D,$,H,R,I,N,W,O,P,B,Y,ue,ae,le,te,ce,fe,ne,z,J,se,Z,pe,ye,ve,we,Ie,Me,Be;switch(Y=new Xc,o=Object.keys(e).sort(function(We,ft){return We-ft}),t){case"macroman":for(_=0,x=function(){var We=[];for(w=0;w<256;++w)We.push(0);return We}(),L={0:0},s={},ue=0,ce=o.length;ue<ce;ue++)L[we=e[i=o[ue]]]==null&&(L[we]=++_),s[i]={old:e[i],new:L[e[i]]},x[i]=L[e[i]];return Y.writeUInt16(1),Y.writeUInt16(0),Y.writeUInt32(12),Y.writeUInt16(0),Y.writeUInt16(262),Y.writeUInt16(0),Y.write(x),{charMap:s,subtable:Y.data,maxGlyphID:_+1};case"unicode":for(P=[],h=[],j=0,L={},r={},C=f=null,ae=0,fe=o.length;ae<fe;ae++)L[$=e[i=o[ae]]]==null&&(L[$]=++j),r[i]={old:$,new:L[$]},a=L[$]-i,C!=null&&a===f||(C&&h.push(C),P.push(i),f=a),C=i;for(C&&h.push(C),h.push(65535),P.push(65535),W=2*(N=P.length),I=2*Math.pow(Math.log(N)/Math.LN2,2),m=Math.log(I/2)/Math.LN2,R=2*N-I,u=[],H=[],g=[],w=le=0,ne=P.length;le<ne;w=++le){if(O=P[w],d=h[w],O===65535){u.push(0),H.push(0);break}if(O-(B=r[O].new)>=32768)for(u.push(0),H.push(2*(g.length+N-w)),i=te=O;O<=d?te<=d:te>=d;i=O<=d?++te:--te)g.push(r[i].new);else u.push(B-O),H.push(0)}for(Y.writeUInt16(3),Y.writeUInt16(1),Y.writeUInt32(12),Y.writeUInt16(4),Y.writeUInt16(16+8*N+2*g.length),Y.writeUInt16(0),Y.writeUInt16(W),Y.writeUInt16(I),Y.writeUInt16(m),Y.writeUInt16(R),ye=0,z=h.length;ye<z;ye++)i=h[ye],Y.writeUInt16(i);for(Y.writeUInt16(0),ve=0,J=P.length;ve<J;ve++)i=P[ve],Y.writeUInt16(i);for(Ie=0,se=u.length;Ie<se;Ie++)a=u[Ie],Y.writeUInt16(a);for(Me=0,Z=H.length;Me<Z;Me++)D=H[Me],Y.writeUInt16(D);for(Be=0,pe=g.length;Be<pe;Be++)_=g[Be],Y.writeUInt16(_);return{charMap:r,subtable:Y.data,maxGlyphID:j+1}}},n}(),cT=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Kl(e,ll),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new HS(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var i,s;return r==null&&(r="macroman"),i=HS.encode(t,r),(s=new Xc).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),nU=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Kl(e,ll),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),rU=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Kl(e,ll),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),iU=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Kl(e,ll),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var o;for(i=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var a,u,f;for(f=[],o=a=0,u=this.file.maxp.numGlyphs;0<=u?a<u:a>u;o=0<=u?++a:--a)f.push(t.readUInt32());return f}).call(this)}},e}(),sU=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},oU=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Kl(e,ll),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,s,o,a,u,f,d,h,m,g;for(t.pos=this.offset,t.readShort(),r=t.readShort(),u=t.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+u+t.readShort()});for(f={},o=h=0,m=i.length;h<m;o=++h)s=i[o],t.pos=s.offset,d=t.readString(s.length),a=new sU(d,s),f[g=s.nameID]==null&&(f[g]=[]),f[s.nameID].push(a);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},e}(),aU=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Kl(e,ll),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),lU=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Kl(e,ll),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,s,o,a,u,f;for(t.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,h;for(h=[],r=d=0;0<=s?d<s:d>s;r=0<=s?++d:--d)h.push(t.readInt16());return h}(),this.widths=(function(){var d,h,m,g;for(g=[],d=0,h=(m=this.metrics).length;d<h;d++)o=m[d],g.push(o.advance);return g}).call(this),i=this.widths[this.widths.length-1],f=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)f.push(this.widths.push(i));return f},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),fT=[].slice,uU=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Kl(e,ll),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,s,o,a,u,f,d,h,m;return t in this.cache?this.cache[t]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(t),(s=o.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,a=(u=new Xc(r.read(s))).readShort(),d=u.readShort(),m=u.readShort(),f=u.readShort(),h=u.readShort(),this.cache[t]=a===-1?new fU(u,d,m,f,h):new cU(u,a,d,m,f,h),this.cache[t]))},e.prototype.encode=function(t,r,i){var s,o,a,u,f;for(a=[],o=[],u=0,f=r.length;u<f;u++)s=t[r[u]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),cU=function(){function n(e,t,r,i,s,o){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),fU=function(){function n(e,t,r,i,s){var o,a;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Xc(fT.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),dU=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Kl(e,ll),e.prototype.tag="loca",e.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(t.readUInt32());return o}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var u=this.offsets[a],f=this.offsets[a+1]-u;f>0&&(s+=f)}for(var d=new Array(4*i.length),h=0;h<i.length;++h)d[4*h+3]=255&i[h],d[4*h+2]=(65280&i[h])>>8,d[4*h+1]=(16711680&i[h])>>16,d[4*h]=(4278190080&i[h])>>24;return d},e}(),hU=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,o,a,u;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in u=this.glyphsFor(t))r=u[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,o,a,u,f,d,h,m,g,w,_,x,C;for(i in r=cT.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),g={0:0},C=r.charMap)g[(u=C[i]).old]=u.new;for(w in m=r.maxGlyphID,o)w in g||(g[w]=m++);return d=function(L){var j,D;for(j in D={},L)D[L[j]]=j;return D}(g),h=Object.keys(d).sort(function(L,j){return L-j}),_=function(){var L,j,D;for(D=[],L=0,j=h.length;L<j;L++)a=h[L],D.push(d[a]);return D}(),s=this.font.glyf.encode(o,_,g),f=this.font.loca.encode(s.offsets,_),x={cmap:this.font.cmap.raw(),glyf:s.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},n}();zt.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,o;if(Array.isArray(t))return"["+function(){var a,u,f;for(f=[],a=0,u=t.length;a<u;a++)r=t[a],f.push(e.convert(r));return f}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)o=t[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+t},e}();function pm(n){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(n)}function pU(n,e){if(pm(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(pm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function mU(n){var e=pU(n,"string");return pm(e)=="symbol"?e:e+""}function Ke(n,e,t){return(e=mU(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var j1,GS;function gU(){if(GS)return j1;GS=1;var n=function(t,r,i,s,o,a,u,f){if(!t){var d;if(r===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[i,s,o,a,u,f],m=0;d=new Error(r.replace(/%s/g,function(){return h[m++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}};return j1=n,j1}var vU=gU(),_i=dT(vU),cn=S.createContext(null);function yU(){_i(!!S.useContext,"useGoogleMap is React hook and requires React version 16.8+");var n=S.useContext(cn);return _i(!!n,"useGoogleMap needs a GoogleMap available up in the tree"),n}function wU(n,e,t){return Object.keys(n).reduce(function(i,s){return e(i,n[s],s)},t)}function _U(n,e){Object.keys(n).forEach(t=>e(n[t],t))}function bU(n,e,t,r){var i={},s=(o,a)=>{var u=t[a];u!==e[a]&&(i[a]=u,o(r,u))};return _U(n,s),i}function xU(n,e,t){var r=wU(t,function(s,o,a){return typeof n[a]=="function"&&s.push(google.maps.event.addListener(e,o,n[a])),s},[]);return r}function SU(n){google.maps.event.removeListener(n)}function vn(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];n.forEach(SU)}function mn(n){var{updaterMap:e,eventMap:t,prevProps:r,nextProps:i,instance:s}=n,o=xU(i,s,t);return bU(e,r,i,s),o}var KS={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},YS={extraMapTypes(n,e){e.forEach(function(r,i){n.mapTypes.set(String(i),r)})},center(n,e){n.setCenter(e)},clickableIcons(n,e){n.setClickableIcons(e)},heading(n,e){n.setHeading(e)},mapTypeId(n,e){n.setMapTypeId(e)},options(n,e){n.setOptions(e)},streetView(n,e){n.setStreetView(e)},tilt(n,e){n.setTilt(e)},zoom(n,e){n.setZoom(e)}};function EU(n){var{children:e,options:t,id:r,mapContainerStyle:i,mapContainerClassName:s,center:o,onClick:a,onDblClick:u,onDrag:f,onDragEnd:d,onDragStart:h,onMouseMove:m,onMouseOut:g,onMouseOver:w,onMouseDown:_,onMouseUp:x,onRightClick:C,onCenterChanged:L,onLoad:j,onUnmount:D}=n,[$,H]=S.useState(null),R=S.useRef(null),[I,N]=S.useState(null),[W,O]=S.useState(null),[P,B]=S.useState(null),[Y,ue]=S.useState(null),[ae,le]=S.useState(null),[te,ce]=S.useState(null),[fe,ne]=S.useState(null),[z,J]=S.useState(null),[se,Z]=S.useState(null),[pe,ye]=S.useState(null),[ve,we]=S.useState(null),[Ie,Me]=S.useState(null);return S.useEffect(()=>{t&&$!==null&&$.setOptions(t)},[$,t]),S.useEffect(()=>{$!==null&&typeof o<"u"&&$.setCenter(o)},[$,o]),S.useEffect(()=>{$&&u&&(W!==null&&google.maps.event.removeListener(W),O(google.maps.event.addListener($,"dblclick",u)))},[u]),S.useEffect(()=>{$&&d&&(P!==null&&google.maps.event.removeListener(P),B(google.maps.event.addListener($,"dragend",d)))},[d]),S.useEffect(()=>{$&&h&&(Y!==null&&google.maps.event.removeListener(Y),ue(google.maps.event.addListener($,"dragstart",h)))},[h]),S.useEffect(()=>{$&&_&&(ae!==null&&google.maps.event.removeListener(ae),le(google.maps.event.addListener($,"mousedown",_)))},[_]),S.useEffect(()=>{$&&m&&(te!==null&&google.maps.event.removeListener(te),ce(google.maps.event.addListener($,"mousemove",m)))},[m]),S.useEffect(()=>{$&&g&&(fe!==null&&google.maps.event.removeListener(fe),ne(google.maps.event.addListener($,"mouseout",g)))},[g]),S.useEffect(()=>{$&&w&&(z!==null&&google.maps.event.removeListener(z),J(google.maps.event.addListener($,"mouseover",w)))},[w]),S.useEffect(()=>{$&&x&&(se!==null&&google.maps.event.removeListener(se),Z(google.maps.event.addListener($,"mouseup",x)))},[x]),S.useEffect(()=>{$&&C&&(pe!==null&&google.maps.event.removeListener(pe),ye(google.maps.event.addListener($,"rightclick",C)))},[C]),S.useEffect(()=>{$&&a&&(ve!==null&&google.maps.event.removeListener(ve),we(google.maps.event.addListener($,"click",a)))},[a]),S.useEffect(()=>{$&&f&&(Ie!==null&&google.maps.event.removeListener(Ie),Me(google.maps.event.addListener($,"drag",f)))},[f]),S.useEffect(()=>{$&&L&&(I!==null&&google.maps.event.removeListener(I),N(google.maps.event.addListener($,"center_changed",L)))},[a]),S.useEffect(()=>{var Be=R.current===null?null:new google.maps.Map(R.current,t);return H(Be),Be!==null&&j&&j(Be),()=>{Be!==null&&D&&D(Be)}},[]),F.jsx("div",{id:r,ref:R,style:i,className:s,children:F.jsx(cn.Provider,{value:$,children:$!==null?e:null})})}S.memo(EU);class CU extends S.PureComponent{constructor(){super(...arguments),Ke(this,"state",{map:null}),Ke(this,"registeredEvents",[]),Ke(this,"mapRef",null),Ke(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),Ke(this,"panTo",e=>{var t=this.getInstance();t&&t.panTo(e)}),Ke(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),Ke(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=mn({updaterMap:YS,eventMap:KS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(vn(this.registeredEvents),this.registeredEvents=mn({updaterMap:YS,eventMap:KS,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),vn(this.registeredEvents))}render(){return F.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:F.jsx(cn.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function JS(n,e,t,r,i,s,o){try{var a=n[s](o),u=a.value}catch(f){return void t(f)}a.done?e(u):Promise.resolve(u).then(r,i)}function hT(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(u){JS(s,r,i,o,a,"next",u)}function a(u){JS(s,r,i,o,a,"throw",u)}o(void 0)})}}function pT(n){var{googleMapsApiKey:e,googleMapsClientId:t,version:r="weekly",language:i,region:s,libraries:o,channel:a,mapIds:u,authReferrerPolicy:f}=n,d=[];return _i(e&&t||!(e&&t),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?d.push("key=".concat(e)):t&&d.push("client=".concat(t)),r&&d.push("v=".concat(r)),i&&d.push("language=".concat(i)),s&&d.push("region=".concat(s)),o&&o.length&&d.push("libraries=".concat(o.sort().join(","))),a&&d.push("channel=".concat(a)),u&&u.length&&d.push("map_ids=".concat(u.join(","))),f&&d.push("auth_referrer_policy=".concat(f)),d.push("loading=async"),d.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(d.join("&"))}var Kf=typeof document<"u";function mT(n){var{url:e,id:t,nonce:r}=n;return Kf?new Promise(function(s,o){var a=document.getElementById(t),u=window;if(a){var f=a.getAttribute("data-state");if(a.src===e&&f!=="error"){if(f==="ready")return s(t);var d=u.initMap,h=a.onerror;u.initMap=function(){d&&d(),s(t)},a.onerror=function(g){h&&h(g),o(g)};return}else a.remove()}var m=document.createElement("script");m.type="text/javascript",m.src=e,m.id=t,m.async=!0,m.nonce=r||"",m.onerror=function(w){m.setAttribute("data-state","error"),o(w)},u.initMap=function(){m.setAttribute("data-state","ready"),s(t)},document.head.appendChild(m)}).catch(i=>{throw console.error("injectScript error: ",i),i}):Promise.reject(new Error("document is undefined"))}function XS(n){var e=n.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:n.tagName.toLowerCase()==="style"&&n.styleSheet&&n.styleSheet.cssText&&n.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(n.styleSheet.cssText="",!0):n.tagName.toLowerCase()==="style"&&n.innerHTML&&n.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(n.innerHTML="",!0):n.tagName.toLowerCase()==="style"&&!n.styleSheet&&!n.innerHTML}function gT(){var n=document.getElementsByTagName("head")[0];if(n){var e=n.insertBefore.bind(n);n.insertBefore=function(i,s){return XS(i)||Reflect.apply(e,n,[i,s]),i};var t=n.appendChild.bind(n);n.appendChild=function(i){return XS(i)||Reflect.apply(t,n,[i]),i}}}var Pp=!1;function vT(){return F.jsx("div",{children:"Loading..."})}var ew={id:"script-loader",version:"weekly"};class yT extends S.PureComponent{constructor(){super(...arguments),Ke(this,"check",null),Ke(this,"state",{loaded:!1}),Ke(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),Ke(this,"isCleaningUp",hT(function*(){function e(t){if(!Pp)t();else if(Kf)var r=window.setInterval(function(){Pp||(window.clearInterval(r),t())},1)}return new Promise(e)})),Ke(this,"cleanup",()=>{Pp=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),Ke(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&gT(),_i(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:pT(this.props)};mT(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(t=>{this.props.onError&&this.props.onError(t),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),Ke(this,"getRef",e=>{this.check=e})}componentDidMount(){if(Kf){if(window.google&&window.google.maps&&!Pp){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(t){console.error("Error at injecting script after cleaning up: ",t)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Kf&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Kf){this.cleanup();var e=()=>{this.check||(delete window.google,Pp=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return F.jsxs(F.Fragment,{children:[F.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||F.jsx(vT,{})]})}}Ke(yT,"defaultProps",ew);function AU(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}function A5(n,e){if(n==null)return{};var t,r,i=AU(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.includes(t)||{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}var QS;function LU(n){var{id:e=ew.id,version:t=ew.version,nonce:r,googleMapsApiKey:i,googleMapsClientId:s,language:o,region:a,libraries:u,preventGoogleFontsLoading:f,channel:d,mapIds:h,authReferrerPolicy:m}=n,g=S.useRef(!1),[w,_]=S.useState(!1),[x,C]=S.useState(void 0);S.useEffect(function(){return g.current=!0,()=>{g.current=!1}},[]),S.useEffect(function(){Kf&&f&&gT()},[f]),S.useEffect(function(){w&&_i(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[w]);var L=pT({version:t,googleMapsApiKey:i,googleMapsClientId:s,language:o,region:a,libraries:u,channel:d,mapIds:h,authReferrerPolicy:m});S.useEffect(function(){if(!Kf)return;function $(){g.current&&(_(!0),QS=L)}if(window.google&&window.google.maps&&QS===L){$();return}mT({id:e,url:L,nonce:r}).then($).catch(function(R){g.current&&C(R),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(i||"-",") or Client ID (").concat(s||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(R)})},[e,L,r]);var j=S.useRef(void 0);return S.useEffect(function(){j.current&&u!==j.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),j.current=u},[u]),{isLoaded:w,loadError:x,url:L}}var kU=["loadingElement","onLoad","onError","onUnmount","children"],PU=F.jsx(vT,{});function TU(n){var{loadingElement:e,onLoad:t,onError:r,onUnmount:i,children:s}=n,o=A5(n,kU),{isLoaded:a,loadError:u}=LU(o);return S.useEffect(function(){a&&typeof t=="function"&&t()},[a,t]),S.useEffect(function(){u&&typeof r=="function"&&r(u)},[u,r]),S.useEffect(function(){return()=>{i&&i()}},[i]),a?s:e||PU}S.memo(TU);var ZS;(function(n){n[n.INITIALIZED=0]="INITIALIZED",n[n.LOADING=1]="LOADING",n[n.SUCCESS=2]="SUCCESS",n[n.FAILURE=3]="FAILURE"})(ZS||(ZS={}));function eE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function zv(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?eE(Object(t),!0).forEach(function(r){Ke(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):eE(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var tE={},nE={options(n,e){n.setOptions(e)}};function IU(n){var{options:e,onLoad:t,onUnmount:r}=n,i=S.useContext(cn),[s,o]=S.useState(null);return S.useEffect(()=>{s!==null&&s.setMap(i)},[i]),S.useEffect(()=>{e&&s!==null&&s.setOptions(e)},[s,e]),S.useEffect(()=>{var a=new google.maps.TrafficLayer(zv(zv({},e),{},{map:i}));return o(a),t&&t(a),()=>{s!==null&&(r&&r(s),s.setMap(null))}},[]),null}S.memo(IU);class NU extends S.PureComponent{constructor(){super(...arguments),Ke(this,"state",{trafficLayer:null}),Ke(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),Ke(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(zv(zv({},this.props.options),{},{map:this.context}));this.registeredEvents=mn({updaterMap:nE,eventMap:tE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(vn(this.registeredEvents),this.registeredEvents=mn({updaterMap:nE,eventMap:tE,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),vn(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}Ke(NU,"contextType",cn);function RU(n){var{onLoad:e,onUnmount:t}=n,r=S.useContext(cn),[i,s]=S.useState(null);return S.useEffect(()=>{i!==null&&i.setMap(r)},[r]),S.useEffect(()=>{var o=new google.maps.BicyclingLayer;return s(o),o.setMap(r),e&&e(o),()=>{o!==null&&(t&&t(o),o.setMap(null))}},[]),null}S.memo(RU);class OU extends S.PureComponent{constructor(){super(...arguments),Ke(this,"state",{bicyclingLayer:null}),Ke(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}Ke(OU,"contextType",cn);function MU(n){var{onLoad:e,onUnmount:t}=n,r=S.useContext(cn),[i,s]=S.useState(null);return S.useEffect(()=>{i!==null&&i.setMap(r)},[r]),S.useEffect(()=>{var o=new google.maps.TransitLayer;return s(o),o.setMap(r),e&&e(o),()=>{i!==null&&(t&&t(i),i.setMap(null))}},[]),null}S.memo(MU);class DU extends S.PureComponent{constructor(){super(...arguments),Ke(this,"state",{transitLayer:null}),Ke(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}Ke(DU,"contextType",cn);function rE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function $v(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rE(Object(t),!0).forEach(function(r){Ke(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rE(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var iE={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},sE={drawingMode(n,e){n.setDrawingMode(e)},options(n,e){n.setOptions(e)}};function jU(n){var{options:e,drawingMode:t,onCircleComplete:r,onMarkerComplete:i,onOverlayComplete:s,onPolygonComplete:o,onPolylineComplete:a,onRectangleComplete:u,onLoad:f,onUnmount:d}=n,h=S.useContext(cn),[m,g]=S.useState(null),[w,_]=S.useState(null),[x,C]=S.useState(null),[L,j]=S.useState(null),[D,$]=S.useState(null),[H,R]=S.useState(null),[I,N]=S.useState(null);return S.useEffect(()=>{m!==null&&m.setMap(h)},[h]),S.useEffect(()=>{e&&m!==null&&m.setOptions(e)},[m,e]),S.useEffect(()=>{m!==null&&m.setDrawingMode(t??null)},[m,t]),S.useEffect(()=>{m&&r&&(w!==null&&google.maps.event.removeListener(w),_(google.maps.event.addListener(m,"circlecomplete",r)))},[m,r]),S.useEffect(()=>{m&&i&&(x!==null&&google.maps.event.removeListener(x),C(google.maps.event.addListener(m,"markercomplete",i)))},[m,i]),S.useEffect(()=>{m&&s&&(L!==null&&google.maps.event.removeListener(L),j(google.maps.event.addListener(m,"overlaycomplete",s)))},[m,s]),S.useEffect(()=>{m&&o&&(D!==null&&google.maps.event.removeListener(D),$(google.maps.event.addListener(m,"polygoncomplete",o)))},[m,o]),S.useEffect(()=>{m&&a&&(H!==null&&google.maps.event.removeListener(H),R(google.maps.event.addListener(m,"polylinecomplete",a)))},[m,a]),S.useEffect(()=>{m&&u&&(I!==null&&google.maps.event.removeListener(I),N(google.maps.event.addListener(m,"rectanglecomplete",u)))},[m,u]),S.useEffect(()=>{_i(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var W=new google.maps.drawing.DrawingManager($v($v({},e),{},{map:h}));return t&&W.setDrawingMode(t),r&&_(google.maps.event.addListener(W,"circlecomplete",r)),i&&C(google.maps.event.addListener(W,"markercomplete",i)),s&&j(google.maps.event.addListener(W,"overlaycomplete",s)),o&&$(google.maps.event.addListener(W,"polygoncomplete",o)),a&&R(google.maps.event.addListener(W,"polylinecomplete",a)),u&&N(google.maps.event.addListener(W,"rectanglecomplete",u)),g(W),f&&f(W),()=>{m!==null&&(w&&google.maps.event.removeListener(w),x&&google.maps.event.removeListener(x),L&&google.maps.event.removeListener(L),D&&google.maps.event.removeListener(D),H&&google.maps.event.removeListener(H),I&&google.maps.event.removeListener(I),d&&d(m),m.setMap(null))}},[]),null}S.memo(jU);class FU extends S.PureComponent{constructor(e){super(e),Ke(this,"registeredEvents",[]),Ke(this,"state",{drawingManager:null}),Ke(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),_i(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager($v($v({},this.props.options),{},{map:this.context}));this.registeredEvents=mn({updaterMap:sE,eventMap:iE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(vn(this.registeredEvents),this.registeredEvents=mn({updaterMap:sE,eventMap:iE,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),vn(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}Ke(FU,"contextType",cn);function oE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function kh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oE(Object(t),!0).forEach(function(r){Ke(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oE(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var aE={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},lE={animation(n,e){n.setAnimation(e)},clickable(n,e){n.setClickable(e)},cursor(n,e){n.setCursor(e)},draggable(n,e){n.setDraggable(e)},icon(n,e){n.setIcon(e)},label(n,e){n.setLabel(e)},map(n,e){n.setMap(e)},opacity(n,e){n.setOpacity(e)},options(n,e){n.setOptions(e)},position(n,e){n.setPosition(e)},shape(n,e){n.setShape(e)},title(n,e){n.setTitle(e)},visible(n,e){n.setVisible(e)},zIndex(n,e){n.setZIndex(e)}},qv={};function BU(n){var{position:e,options:t,clusterer:r,noClustererRedraw:i,children:s,draggable:o,visible:a,animation:u,clickable:f,cursor:d,icon:h,label:m,opacity:g,shape:w,title:_,zIndex:x,onClick:C,onDblClick:L,onDrag:j,onDragEnd:D,onDragStart:$,onMouseOut:H,onMouseOver:R,onMouseUp:I,onMouseDown:N,onRightClick:W,onClickableChanged:O,onCursorChanged:P,onAnimationChanged:B,onDraggableChanged:Y,onFlatChanged:ue,onIconChanged:ae,onPositionChanged:le,onShapeChanged:te,onTitleChanged:ce,onVisibleChanged:fe,onZindexChanged:ne,onLoad:z,onUnmount:J}=n,se=S.useContext(cn),[Z,pe]=S.useState(null),[ye,ve]=S.useState(null),[we,Ie]=S.useState(null),[Me,Be]=S.useState(null),[We,ft]=S.useState(null),[Te,me]=S.useState(null),[St,vt]=S.useState(null),[Je,st]=S.useState(null),[Ce,Ne]=S.useState(null),[Ve,Ze]=S.useState(null),[ct,nt]=S.useState(null),[dt,lt]=S.useState(null),[_t,gt]=S.useState(null),[ot,rn]=S.useState(null),[Mt,Zn]=S.useState(null),[qt,Jt]=S.useState(null),[on,Rt]=S.useState(null),[Wt,an]=S.useState(null),[dn,Tt]=S.useState(null),[$t,At]=S.useState(null),[Ut,Hn]=S.useState(null),[yn,jn]=S.useState(null);S.useEffect(()=>{Z!==null&&Z.setMap(se)},[se]),S.useEffect(()=>{typeof t<"u"&&Z!==null&&Z.setOptions(t)},[Z,t]),S.useEffect(()=>{typeof o<"u"&&Z!==null&&Z.setDraggable(o)},[Z,o]),S.useEffect(()=>{e&&Z!==null&&Z.setPosition(e)},[Z,e]),S.useEffect(()=>{typeof a<"u"&&Z!==null&&Z.setVisible(a)},[Z,a]),S.useEffect(()=>{Z==null||Z.setAnimation(u)},[Z,u]),S.useEffect(()=>{Z&&f!==void 0&&Z.setClickable(f)},[Z,f]),S.useEffect(()=>{Z&&d!==void 0&&Z.setCursor(d)},[Z,d]),S.useEffect(()=>{Z&&h!==void 0&&Z.setIcon(h)},[Z,h]),S.useEffect(()=>{Z&&m!==void 0&&Z.setLabel(m)},[Z,m]),S.useEffect(()=>{Z&&g!==void 0&&Z.setOpacity(g)},[Z,g]),S.useEffect(()=>{Z&&w!==void 0&&Z.setShape(w)},[Z,w]),S.useEffect(()=>{Z&&_!==void 0&&Z.setTitle(_)},[Z,_]),S.useEffect(()=>{Z&&x!==void 0&&Z.setZIndex(x)},[Z,x]),S.useEffect(()=>{Z&&L&&(ye!==null&&google.maps.event.removeListener(ye),ve(google.maps.event.addListener(Z,"dblclick",L)))},[L]),S.useEffect(()=>{Z&&D&&(we!==null&&google.maps.event.removeListener(we),Ie(google.maps.event.addListener(Z,"dragend",D)))},[D]),S.useEffect(()=>{Z&&$&&(Me!==null&&google.maps.event.removeListener(Me),Be(google.maps.event.addListener(Z,"dragstart",$)))},[$]),S.useEffect(()=>{Z&&N&&(We!==null&&google.maps.event.removeListener(We),ft(google.maps.event.addListener(Z,"mousedown",N)))},[N]),S.useEffect(()=>{Z&&H&&(Te!==null&&google.maps.event.removeListener(Te),me(google.maps.event.addListener(Z,"mouseout",H)))},[H]),S.useEffect(()=>{Z&&R&&(St!==null&&google.maps.event.removeListener(St),vt(google.maps.event.addListener(Z,"mouseover",R)))},[R]),S.useEffect(()=>{Z&&I&&(Je!==null&&google.maps.event.removeListener(Je),st(google.maps.event.addListener(Z,"mouseup",I)))},[I]),S.useEffect(()=>{Z&&W&&(Ce!==null&&google.maps.event.removeListener(Ce),Ne(google.maps.event.addListener(Z,"rightclick",W)))},[W]),S.useEffect(()=>{Z&&C&&(Ve!==null&&google.maps.event.removeListener(Ve),Ze(google.maps.event.addListener(Z,"click",C)))},[C]),S.useEffect(()=>{Z&&j&&(ct!==null&&google.maps.event.removeListener(ct),nt(google.maps.event.addListener(Z,"drag",j)))},[j]),S.useEffect(()=>{Z&&O&&(dt!==null&&google.maps.event.removeListener(dt),lt(google.maps.event.addListener(Z,"clickable_changed",O)))},[O]),S.useEffect(()=>{Z&&P&&(_t!==null&&google.maps.event.removeListener(_t),gt(google.maps.event.addListener(Z,"cursor_changed",P)))},[P]),S.useEffect(()=>{Z&&B&&(ot!==null&&google.maps.event.removeListener(ot),rn(google.maps.event.addListener(Z,"animation_changed",B)))},[B]),S.useEffect(()=>{Z&&Y&&(Mt!==null&&google.maps.event.removeListener(Mt),Zn(google.maps.event.addListener(Z,"draggable_changed",Y)))},[Y]),S.useEffect(()=>{Z&&ue&&(qt!==null&&google.maps.event.removeListener(qt),Jt(google.maps.event.addListener(Z,"flat_changed",ue)))},[ue]),S.useEffect(()=>{Z&&ae&&(on!==null&&google.maps.event.removeListener(on),Rt(google.maps.event.addListener(Z,"icon_changed",ae)))},[ae]),S.useEffect(()=>{Z&&le&&(Wt!==null&&google.maps.event.removeListener(Wt),an(google.maps.event.addListener(Z,"position_changed",le)))},[le]),S.useEffect(()=>{Z&&te&&(dn!==null&&google.maps.event.removeListener(dn),Tt(google.maps.event.addListener(Z,"shape_changed",te)))},[te]),S.useEffect(()=>{Z&&ce&&($t!==null&&google.maps.event.removeListener($t),At(google.maps.event.addListener(Z,"title_changed",ce)))},[ce]),S.useEffect(()=>{Z&&fe&&(Ut!==null&&google.maps.event.removeListener(Ut),Hn(google.maps.event.addListener(Z,"visible_changed",fe)))},[fe]),S.useEffect(()=>{Z&&ne&&(yn!==null&&google.maps.event.removeListener(yn),jn(google.maps.event.addListener(Z,"zindex_changed",ne)))},[ne]),S.useEffect(()=>{var yt=kh(kh(kh({},t||qv),r?qv:{map:se}),{},{position:e}),It=new google.maps.Marker(yt);return r?r.addMarker(It,!!i):It.setMap(se),e&&It.setPosition(e),typeof a<"u"&&It.setVisible(a),typeof o<"u"&&It.setDraggable(o),typeof f<"u"&&It.setClickable(f),typeof d=="string"&&It.setCursor(d),h&&It.setIcon(h),typeof m<"u"&&It.setLabel(m),typeof g<"u"&&It.setOpacity(g),w&&It.setShape(w),typeof _=="string"&&It.setTitle(_),typeof x=="number"&&It.setZIndex(x),L&&ve(google.maps.event.addListener(It,"dblclick",L)),D&&Ie(google.maps.event.addListener(It,"dragend",D)),$&&Be(google.maps.event.addListener(It,"dragstart",$)),N&&ft(google.maps.event.addListener(It,"mousedown",N)),H&&me(google.maps.event.addListener(It,"mouseout",H)),R&&vt(google.maps.event.addListener(It,"mouseover",R)),I&&st(google.maps.event.addListener(It,"mouseup",I)),W&&Ne(google.maps.event.addListener(It,"rightclick",W)),C&&Ze(google.maps.event.addListener(It,"click",C)),j&&nt(google.maps.event.addListener(It,"drag",j)),O&&lt(google.maps.event.addListener(It,"clickable_changed",O)),P&&gt(google.maps.event.addListener(It,"cursor_changed",P)),B&&rn(google.maps.event.addListener(It,"animation_changed",B)),Y&&Zn(google.maps.event.addListener(It,"draggable_changed",Y)),ue&&Jt(google.maps.event.addListener(It,"flat_changed",ue)),ae&&Rt(google.maps.event.addListener(It,"icon_changed",ae)),le&&an(google.maps.event.addListener(It,"position_changed",le)),te&&Tt(google.maps.event.addListener(It,"shape_changed",te)),ce&&At(google.maps.event.addListener(It,"title_changed",ce)),fe&&Hn(google.maps.event.addListener(It,"visible_changed",fe)),ne&&jn(google.maps.event.addListener(It,"zindex_changed",ne)),pe(It),z&&z(It),()=>{ye!==null&&google.maps.event.removeListener(ye),we!==null&&google.maps.event.removeListener(we),Me!==null&&google.maps.event.removeListener(Me),We!==null&&google.maps.event.removeListener(We),Te!==null&&google.maps.event.removeListener(Te),St!==null&&google.maps.event.removeListener(St),Je!==null&&google.maps.event.removeListener(Je),Ce!==null&&google.maps.event.removeListener(Ce),Ve!==null&&google.maps.event.removeListener(Ve),dt!==null&&google.maps.event.removeListener(dt),_t!==null&&google.maps.event.removeListener(_t),ot!==null&&google.maps.event.removeListener(ot),Mt!==null&&google.maps.event.removeListener(Mt),qt!==null&&google.maps.event.removeListener(qt),on!==null&&google.maps.event.removeListener(on),Wt!==null&&google.maps.event.removeListener(Wt),$t!==null&&google.maps.event.removeListener($t),Ut!==null&&google.maps.event.removeListener(Ut),yn!==null&&google.maps.event.removeListener(yn),J&&J(It),r?r.removeMarker(It,!!i):It&&It.setMap(null)}},[]);var Zr=S.useMemo(()=>s?S.Children.map(s,yt=>{if(!S.isValidElement(yt))return yt;var It=yt;return S.cloneElement(It,{anchor:Z})}):null,[s,Z]);return F.jsx(F.Fragment,{children:Zr})||null}S.memo(BU);class mv extends S.PureComponent{constructor(){super(...arguments),Ke(this,"registeredEvents",[])}componentDidMount(){var e=this;return hT(function*(){var t=kh(kh(kh({},e.props.options||qv),e.props.clusterer?qv:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(t),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=mn({updaterMap:lE,eventMap:aE,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(vn(this.registeredEvents),this.registeredEvents=mn({updaterMap:lE,eventMap:aE,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),vn(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?S.Children.map(this.props.children,t=>{if(!S.isValidElement(t))return t;var r=t;return S.cloneElement(r,{anchor:this.marker})}):null;return e||null}}Ke(mv,"contextType",cn);var VU=function(){function n(e,t){e.getClusterer().extend(n,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=t,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return n.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},n.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},n.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var r=t.getMaxZoom(),i=this.cluster.getBounds(),s=t.getMap();s!==null&&"fitBounds"in s&&s.fitBounds(i),this.timeOut=window.setTimeout(function(){var o=t.getMap();if(o!==null){"fitBounds"in o&&o.fitBounds(i);var a=o.getZoom()||0;r!==null&&a>r&&o.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},n.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},n.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},n.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();t!==null&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},n.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},n.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},n.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},n.prototype.show=function(){var e,t,r,i,s,o;if(this.div&&this.center){var a=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,u=this.backgroundPosition.split(" "),f=parseInt(((e=u[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),d=parseInt(((t=u[1])===null||t===void 0?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),h=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(h!==null?"".concat(h.y,"px"):"0","; left: ").concat(h!==null?"".concat(h.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var m=document.createElement("img");m.alt=a,m.src=this.url,m.width=this.width,m.height=this.height,m.setAttribute("style","position: absolute; top: ".concat(d,"px; left: ").concat(f,"px")),this.cluster.getClusterer().enableRetinaIcons||(m.style.clip="rect(-".concat(d,"px, -").concat(f+this.width,"px, -").concat(d+this.height,", -").concat(f,")"));var g=document.createElement("div");g.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(g.innerText="".concat((i=this.sums)===null||i===void 0?void 0:i.text)),!((s=this.sums)===null||s===void 0)&&s.html&&(g.innerHTML="".concat((o=this.sums)===null||o===void 0?void 0:o.html)),this.div.innerHTML="",this.div.appendChild(m),this.div.appendChild(g),this.div.title=a,this.div.style.display=""}this.visible=!0},n.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),r=t[Math.min(t.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},n.prototype.setCenter=function(e){this.center=e},n.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t!==null&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},n}(),UU=function(){function n(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new VU(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return n.prototype.getSize=function(){return this.markers.length},n.prototype.getMarkers=function(){return this.markers},n.prototype.getCenter=function(){return this.center},n.prototype.getMap=function(){return this.map},n.prototype.getClusterer=function(){return this.markerClusterer},n.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=this.getMarkers(),r=0,i=t;r<i.length;r++){var s=i[r],o=s.getPosition();o&&e.extend(o)}return e},n.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},n.prototype.addMarker=function(e){var t;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+r.lat())/i,(this.center.lng()*(i-1)+r.lng())/i),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var s=this.markers.length,o=this.markerClusterer.getMaxZoom(),a=(t=this.map)===null||t===void 0?void 0:t.getZoom();if(o!==null&&typeof a<"u"&&a>o)e.getMap()!==this.map&&e.setMap(this.map);else if(s<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(s===this.minClusterSize)for(var u=0,f=this.markers;u<f.length;u++){var d=f[u];d.setMap(null)}else e.setMap(null);return!0},n.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},n.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},n.prototype.updateIcon=function(){var e,t=this.markers.length,r=this.markerClusterer.getMaxZoom(),i=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof i<"u"&&i>r){this.clusterIcon.hide();return}if(t<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},n.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},n}();function zU(n,e){var t=n.length,r=t.toString().length,i=Math.min(r,e);return{text:t.toString(),index:i,title:""}}var $U=2e3,qU=500,WU="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",HU="png",GU=[53,56,66,78,90],KU="cluster",wT=function(){function n(e,t,r){t===void 0&&(t=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(n,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||WU,this.imageExtension=r.imageExtension||HU,this.imageSizes=r.imageSizes||GU,this.calculator=r.calculator||zU,this.batchSize=r.batchSize||$U,this.batchSizeIE=r.batchSizeIE||qU,this.clusterClass=r.clusterClass||KU,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(t,!0),this.setMap(e)}return n.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((t=this.getMap())===null||t===void 0?void 0:t.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},n.prototype.onIdle=function(){this.redraw()},n.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},n.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var r=t[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var i=0,s=this.clusters;i<s.length;i++){var o=s[i];o.remove()}this.clusters=[];for(var a=0,u=this.listeners;a<u.length;a++){var f=u[a];google.maps.event.removeListener(f)}this.listeners=[],this.activeMap=null,this.ready=!1},n.prototype.draw=function(){},n.prototype.getMap=function(){return null},n.prototype.getPanes=function(){return null},n.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},n.prototype.setMap=function(){},n.prototype.addListener=function(){return{remove:function(){}}},n.prototype.bindTo=function(){},n.prototype.get=function(){},n.prototype.notify=function(){},n.prototype.set=function(){},n.prototype.setValues=function(){},n.prototype.unbind=function(){},n.prototype.unbindAll=function(){},n.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},n.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,r=0,i=e;r<i.length;r++){var s=i[r],o=s.getPosition();o&&t.extend(o)}var a=this.getMap();a!==null&&"fitBounds"in a&&a.fitBounds(t)},n.prototype.getGridSize=function(){return this.gridSize},n.prototype.setGridSize=function(e){this.gridSize=e},n.prototype.getMinimumClusterSize=function(){return this.minClusterSize},n.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},n.prototype.getMaxZoom=function(){return this.maxZoom},n.prototype.setMaxZoom=function(e){this.maxZoom=e},n.prototype.getStyles=function(){return this.styles},n.prototype.setStyles=function(e){this.styles=e},n.prototype.getTitle=function(){return this.title},n.prototype.setTitle=function(e){this.title=e},n.prototype.getZoomOnClick=function(){return this.zoomOnClick},n.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},n.prototype.getAverageCenter=function(){return this.averageCenter},n.prototype.setAverageCenter=function(e){this.averageCenter=e},n.prototype.getIgnoreHidden=function(){return this.ignoreHidden},n.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},n.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},n.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},n.prototype.getImageExtension=function(){return this.imageExtension},n.prototype.setImageExtension=function(e){this.imageExtension=e},n.prototype.getImagePath=function(){return this.imagePath},n.prototype.setImagePath=function(e){this.imagePath=e},n.prototype.getImageSizes=function(){return this.imageSizes},n.prototype.setImageSizes=function(e){this.imageSizes=e},n.prototype.getCalculator=function(){return this.calculator},n.prototype.setCalculator=function(e){this.calculator=e},n.prototype.getBatchSizeIE=function(){return this.batchSizeIE},n.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},n.prototype.getClusterClass=function(){return this.clusterClass},n.prototype.setClusterClass=function(e){this.clusterClass=e},n.prototype.getMarkers=function(){return this.markers},n.prototype.getTotalMarkers=function(){return this.markers.length},n.prototype.getClusters=function(){return this.clusters},n.prototype.getTotalClusters=function(){return this.clusters.length},n.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},n.prototype.addMarkers=function(e,t){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];i&&this.pushMarkerTo(i)}t||this.redraw()},n.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){t.ready&&(e.isAdded=!1,t.repaint())}),e.isAdded=!1,this.markers.push(e)},n.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){t=r;break}return t===-1?!1:(e.setMap(null),this.markers.splice(t,1),!0)},n.prototype.removeMarker=function(e,t){var r=this.removeMarker_(e);return!t&&r&&this.repaint(),r},n.prototype.removeMarkers=function(e,t){for(var r=!1,i=0,s=e;i<s.length;i++){var o=s[i];r=r||this.removeMarker_(o)}return!t&&r&&this.repaint(),r},n.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},n.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,i=e;r<i.length;r++){var s=i[r];s.remove()}},0)},n.prototype.getExtendedBounds=function(e){var t=this.getProjection(),r=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var i=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(i!==null&&(i.x-=this.gridSize,i.y+=this.gridSize),r!==null){var s=t.fromDivPixelToLatLng(r);s!==null&&e.extend(s)}if(i!==null){var o=t.fromDivPixelToLatLng(i);o!==null&&e.extend(o)}return e},n.prototype.redraw=function(){this.createClusters(0)},n.prototype.resetViewport=function(e){for(var t=0,r=this.clusters;t<r.length;t++){var i=r[t];i.remove()}this.clusters=[];for(var s=0,o=this.markers;s<o.length;s++){var a=o[s];a.isAdded=!1,e&&a.setMap(null)}},n.prototype.distanceBetweenPoints=function(e,t){var r=6371,i=(t.lat()-e.lat())*Math.PI/180,s=(t.lng()-e.lng())*Math.PI/180,o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return r*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},n.prototype.isMarkerInBounds=function(e,t){var r=e.getPosition();return r?t.contains(r):!1},n.prototype.addToClosestCluster=function(e){for(var t,r=4e4,i=null,s=0,o=this.clusters;s<o.length;s++){var a=o[s];t=a;var u=t.getCenter(),f=e.getPosition();if(u&&f){var d=this.distanceBetweenPoints(u,f);d<r&&(r=d,i=t)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):(t=new UU(this),t.addMarker(e),this.clusters.push(t))},n.prototype.createClusters=function(e){var t=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),i=r!==null&&("getBounds"in r)?r.getBounds():null,s=(r==null?void 0:r.getZoom())||0,o=s>3?new google.maps.LatLngBounds(i==null?void 0:i.getSouthWest(),i==null?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),a=this.getExtendedBounds(o),u=Math.min(e+this.batchSize,this.markers.length),f=e;f<u;f++){var d=this.markers[f];d&&!d.isAdded&&this.isMarkerInBounds(d,a)&&(!this.ignoreHidden||this.ignoreHidden&&d.getVisible())&&this.addToClosestCluster(d)}if(u<this.markers.length)this.timerRefStatic=window.setTimeout(function(){t.createClusters(u)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var h=0,m=this.clusters;h<m.length;h++){var g=m[h];g.updateIcon()}}}},n.prototype.extend=function(e,t){return(function(i){for(var s in i.prototype){var o=s;this.prototype[o]=i.prototype[o]}return this}).apply(e,[t])},n}();function uE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function YU(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uE(Object(t),!0).forEach(function(r){Ke(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):uE(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var ga={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Dn={averageCenter(n,e){n.setAverageCenter(e)},batchSizeIE(n,e){n.setBatchSizeIE(e)},calculator(n,e){n.setCalculator(e)},clusterClass(n,e){n.setClusterClass(e)},enableRetinaIcons(n,e){n.setEnableRetinaIcons(e)},gridSize(n,e){n.setGridSize(e)},ignoreHidden(n,e){n.setIgnoreHidden(e)},imageExtension(n,e){n.setImageExtension(e)},imagePath(n,e){n.setImagePath(e)},imageSizes(n,e){n.setImageSizes(e)},maxZoom(n,e){n.setMaxZoom(e)},minimumClusterSize(n,e){n.setMinimumClusterSize(e)},styles(n,e){n.setStyles(e)},title(n,e){n.setTitle(e)},zoomOnClick(n,e){n.setZoomOnClick(e)}},JU={};function XU(n){var{children:e,options:t,averageCenter:r,batchSizeIE:i,calculator:s,clusterClass:o,enableRetinaIcons:a,gridSize:u,ignoreHidden:f,imageExtension:d,imagePath:h,imageSizes:m,maxZoom:g,minimumClusterSize:w,styles:_,title:x,zoomOnClick:C,onClick:L,onClusteringBegin:j,onClusteringEnd:D,onMouseOver:$,onMouseOut:H,onLoad:R,onUnmount:I}=n,[N,W]=S.useState(null),O=S.useContext(cn),[P,B]=S.useState(null),[Y,ue]=S.useState(null),[ae,le]=S.useState(null),[te,ce]=S.useState(null),[fe,ne]=S.useState(null);return S.useEffect(()=>{N&&H&&(te!==null&&google.maps.event.removeListener(te),ce(google.maps.event.addListener(N,ga.onMouseOut,H)))},[H]),S.useEffect(()=>{N&&$&&(fe!==null&&google.maps.event.removeListener(fe),ne(google.maps.event.addListener(N,ga.onMouseOver,$)))},[$]),S.useEffect(()=>{N&&L&&(P!==null&&google.maps.event.removeListener(P),B(google.maps.event.addListener(N,ga.onClick,L)))},[L]),S.useEffect(()=>{N&&j&&(Y!==null&&google.maps.event.removeListener(Y),ue(google.maps.event.addListener(N,ga.onClusteringBegin,j)))},[j]),S.useEffect(()=>{N&&D&&(ae!==null&&google.maps.event.removeListener(ae),ue(google.maps.event.addListener(N,ga.onClusteringEnd,D)))},[D]),S.useEffect(()=>{typeof r<"u"&&N!==null&&Dn.averageCenter(N,r)},[N,r]),S.useEffect(()=>{typeof i<"u"&&N!==null&&Dn.batchSizeIE(N,i)},[N,i]),S.useEffect(()=>{typeof s<"u"&&N!==null&&Dn.calculator(N,s)},[N,s]),S.useEffect(()=>{typeof o<"u"&&N!==null&&Dn.clusterClass(N,o)},[N,o]),S.useEffect(()=>{typeof a<"u"&&N!==null&&Dn.enableRetinaIcons(N,a)},[N,a]),S.useEffect(()=>{typeof u<"u"&&N!==null&&Dn.gridSize(N,u)},[N,u]),S.useEffect(()=>{typeof f<"u"&&N!==null&&Dn.ignoreHidden(N,f)},[N,f]),S.useEffect(()=>{typeof d<"u"&&N!==null&&Dn.imageExtension(N,d)},[N,d]),S.useEffect(()=>{typeof h<"u"&&N!==null&&Dn.imagePath(N,h)},[N,h]),S.useEffect(()=>{typeof m<"u"&&N!==null&&Dn.imageSizes(N,m)},[N,m]),S.useEffect(()=>{typeof g<"u"&&N!==null&&Dn.maxZoom(N,g)},[N,g]),S.useEffect(()=>{typeof w<"u"&&N!==null&&Dn.minimumClusterSize(N,w)},[N,w]),S.useEffect(()=>{typeof _<"u"&&N!==null&&Dn.styles(N,_)},[N,_]),S.useEffect(()=>{typeof x<"u"&&N!==null&&Dn.title(N,x)},[N,x]),S.useEffect(()=>{typeof C<"u"&&N!==null&&Dn.zoomOnClick(N,C)},[N,C]),S.useEffect(()=>{if(O){var z=YU({},t||JU),J=new wT(O,[],z);return r&&Dn.averageCenter(J,r),i&&Dn.batchSizeIE(J,i),s&&Dn.calculator(J,s),o&&Dn.clusterClass(J,o),a&&Dn.enableRetinaIcons(J,a),u&&Dn.gridSize(J,u),f&&Dn.ignoreHidden(J,f),d&&Dn.imageExtension(J,d),h&&Dn.imagePath(J,h),m&&Dn.imageSizes(J,m),g&&Dn.maxZoom(J,g),w&&Dn.minimumClusterSize(J,w),_&&Dn.styles(J,_),x&&Dn.title(J,x),C&&Dn.zoomOnClick(J,C),H&&ce(google.maps.event.addListener(J,ga.onMouseOut,H)),$&&ne(google.maps.event.addListener(J,ga.onMouseOver,$)),L&&B(google.maps.event.addListener(J,ga.onClick,L)),j&&ue(google.maps.event.addListener(J,ga.onClusteringBegin,j)),D&&le(google.maps.event.addListener(J,ga.onClusteringEnd,D)),W(J),R&&R(J),()=>{te!==null&&google.maps.event.removeListener(te),fe!==null&&google.maps.event.removeListener(fe),P!==null&&google.maps.event.removeListener(P),Y!==null&&google.maps.event.removeListener(Y),ae!==null&&google.maps.event.removeListener(ae),I&&I(J)}}},[]),N!==null&&e(N)||null}S.memo(XU);class QU extends S.PureComponent{constructor(){super(...arguments),Ke(this,"registeredEvents",[]),Ke(this,"state",{markerClusterer:null}),Ke(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new wT(this.context,[],this.props.options);this.registeredEvents=mn({updaterMap:Dn,eventMap:ga,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(vn(this.registeredEvents),this.registeredEvents=mn({updaterMap:Dn,eventMap:ga,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),vn(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}Ke(QU,"contextType",cn);function cE(n){n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation()}var _T=function(){function n(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(n,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return n.prototype.createInfoBoxDiv=function(){var e=this,t=function(d){d.returnValue=!1,d.preventDefault&&d.preventDefault(),e.enableEventPropagation||cE(d)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var i=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-i.left-i.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var s=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],o=0,a=s;o<a.length;o++){var u=a[o];this.eventListeners.push(google.maps.event.addListener(this.div,u,cE))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",t),google.maps.event.trigger(this,"domready")}},n.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},n.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},n.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},n.prototype.getCloseClickHandler=function(){return this.closeClickHandler},n.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var r=0,i=0,s=t.getBounds();s&&!s.contains(this.position)&&t.setCenter(this.position);var o=t.getDiv(),a=o.offsetWidth,u=o.offsetHeight,f=this.pixelOffset.width,d=this.pixelOffset.height,h=this.div.offsetWidth,m=this.div.offsetHeight,g=this.infoBoxClearance.width,w=this.infoBoxClearance.height,_=this.getProjection(),x=_.fromLatLngToContainerPixel(this.position);x!==null&&(x.x<-f+g?r=x.x+f-g:x.x+h+f+g>a&&(r=x.x+h+f+g-a),this.alignBottom?x.y<-d+w+m?i=x.y+d-w-m:x.y+d+w>u&&(i=x.y+d+w-u):x.y<-d+w?i=x.y+d-w:x.y+m+d+w>u&&(i=x.y+m+d+w-u)),r===0&&i===0||t.panBy(r,i)}}},n.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},n.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,r=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}return e},n.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},n.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),t=e.fromLatLngToDivPixel(this.position);t!==null&&(this.div.style.left=t.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(t.y+this.pixelOffset.height)+"px":this.div.style.top=t.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},n.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},n.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},n.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},n.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},n.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},n.prototype.getContent=function(){return this.content},n.prototype.getPosition=function(){return this.position},n.prototype.getZIndex=function(){return this.zIndex},n.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},n.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},n.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},n.prototype.open=function(e,t){var r=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",function(){var i=t.getPosition();r.setPosition(i)}),this.mapListener=google.maps.event.addListener(t,"map_changed",function(){r.setMap(t.map)})),this.setMap(e),this.div&&this.panBox()},n.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var r=t[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},n.prototype.extend=function(e,t){return(function(i){for(var s in i.prototype)Object.prototype.hasOwnProperty.call(this,s)||(this.prototype[s]=i.prototype[s]);return this}).apply(e,[t])},n}(),ZU=["position"],ez=["position"];function fE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Wv(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fE(Object(t),!0).forEach(function(r){Ke(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fE(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var dE={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},hE={options(n,e){n.setOptions(e)},position(n,e){e instanceof google.maps.LatLng?n.setPosition(e):n.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(n,e){n.setVisible(e)},zIndex(n,e){n.setZIndex(e)}},tz={};function nz(n){var{children:e,anchor:t,options:r,position:i,zIndex:s,onCloseClick:o,onDomReady:a,onContentChanged:u,onPositionChanged:f,onZindexChanged:d,onLoad:h,onUnmount:m}=n,g=S.useContext(cn),[w,_]=S.useState(null),[x,C]=S.useState(null),[L,j]=S.useState(null),[D,$]=S.useState(null),[H,R]=S.useState(null),[I,N]=S.useState(null),W=S.useRef(null);return S.useEffect(()=>{g&&w!==null&&(w.close(),t?w.open(g,t):w.getPosition()&&w.open(g))},[g,w,t]),S.useEffect(()=>{r&&w!==null&&w.setOptions(r)},[w,r]),S.useEffect(()=>{if(i&&w!==null){var O=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);w.setPosition(O)}},[i]),S.useEffect(()=>{typeof s=="number"&&w!==null&&w.setZIndex(s)},[s]),S.useEffect(()=>{w&&o&&(x!==null&&google.maps.event.removeListener(x),C(google.maps.event.addListener(w,"closeclick",o)))},[o]),S.useEffect(()=>{w&&a&&(L!==null&&google.maps.event.removeListener(L),j(google.maps.event.addListener(w,"domready",a)))},[a]),S.useEffect(()=>{w&&u&&(D!==null&&google.maps.event.removeListener(D),$(google.maps.event.addListener(w,"content_changed",u)))},[u]),S.useEffect(()=>{w&&f&&(H!==null&&google.maps.event.removeListener(H),R(google.maps.event.addListener(w,"position_changed",f)))},[f]),S.useEffect(()=>{w&&d&&(I!==null&&google.maps.event.removeListener(I),N(google.maps.event.addListener(w,"zindex_changed",d)))},[d]),S.useEffect(()=>{if(g){var O=r||tz,{position:P}=O,B=A5(O,ZU),Y;P&&!(P instanceof google.maps.LatLng)&&(Y=new google.maps.LatLng(P.lat,P.lng));var ue=new _T(Wv(Wv({},B),Y?{position:Y}:{}));W.current=document.createElement("div"),_(ue),o&&C(google.maps.event.addListener(ue,"closeclick",o)),a&&j(google.maps.event.addListener(ue,"domready",a)),u&&$(google.maps.event.addListener(ue,"content_changed",u)),f&&R(google.maps.event.addListener(ue,"position_changed",f)),d&&N(google.maps.event.addListener(ue,"zindex_changed",d)),ue.setContent(W.current),t?ue.open(g,t):ue.getPosition()?ue.open(g):_i(!1,"You must provide either an anchor or a position prop for <InfoBox>."),h&&h(ue)}return()=>{w!==null&&(x&&google.maps.event.removeListener(x),D&&google.maps.event.removeListener(D),L&&google.maps.event.removeListener(L),H&&google.maps.event.removeListener(H),I&&google.maps.event.removeListener(I),m&&m(w),w.close())}},[]),W.current?ju.createPortal(S.Children.only(e),W.current):null}S.memo(nz);class rz extends S.PureComponent{constructor(){super(...arguments),Ke(this,"registeredEvents",[]),Ke(this,"containerElement",null),Ke(this,"state",{infoBox:null}),Ke(this,"open",(e,t)=>{t?this.context!==null&&e.open(this.context,t):e.getPosition()?this.context!==null&&e.open(this.context):_i(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),Ke(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:t}=e,r=A5(e,ez),i;t&&!(t instanceof google.maps.LatLng)&&(i=new google.maps.LatLng(t.lat,t.lng));var s=new _T(Wv(Wv({},r),i?{position:i}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=mn({updaterMap:hE,eventMap:dE,prevProps:{},nextProps:this.props,instance:s}),this.setState({infoBox:s},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:t}=this.state;t!==null&&(vn(this.registeredEvents),this.registeredEvents=mn({updaterMap:hE,eventMap:dE,prevProps:e,nextProps:this.props,instance:t}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:t}=this.state;t!==null&&(e&&e(t),vn(this.registeredEvents),t.close())}render(){return this.containerElement?ju.createPortal(S.Children.only(this.props.children),this.containerElement):null}}Ke(rz,"contextType",cn);var F1,pE;function iz(){return pE||(pE=1,F1=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!n(e[i],t[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!n(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}),F1}var sz=iz(),mE=dT(sz),gE=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],B1=1,Tp=8;class L5{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[t,r]=new Uint8Array(e,0,2);if(t!==219)throw new Error("Data does not appear to be in a KDBush format.");var i=r>>4;if(i!==B1)throw new Error("Got v".concat(i," data when expected v").concat(B1,"."));var s=gE[r&15];if(!s)throw new Error("Unrecognized array type.");var[o]=new Uint16Array(e,2,1),[a]=new Uint32Array(e,4,1);return new L5(a,o,s,e)}constructor(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,i=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var s=gE.indexOf(this.ArrayType),o=e*2*this.ArrayType.BYTES_PER_ELEMENT,a=e*this.IndexArrayType.BYTES_PER_ELEMENT,u=(8-a%8)%8;if(s<0)throw new Error("Unexpected typed array class: ".concat(r,"."));i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,Tp,e),this.coords=new this.ArrayType(this.data,Tp+a+u,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(Tp+o+a+u),this.ids=new this.IndexArrayType(this.data,Tp,e),this.coords=new this.ArrayType(this.data,Tp+a+u,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(B1<<4)+s]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=t,r}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return tw(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,r,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:o,nodeSize:a}=this,u=[0,s.length-1,0],f=[];u.length;){var d=u.pop()||0,h=u.pop()||0,m=u.pop()||0;if(h-m<=a){for(var g=m;g<=h;g++){var w=o[2*g],_=o[2*g+1];w>=e&&w<=r&&_>=t&&_<=i&&f.push(s[g])}continue}var x=m+h>>1,C=o[2*x],L=o[2*x+1];C>=e&&C<=r&&L>=t&&L<=i&&f.push(s[x]),(d===0?e<=C:t<=L)&&(u.push(m),u.push(x-1),u.push(1-d)),(d===0?r>=C:i>=L)&&(u.push(x+1),u.push(h),u.push(1-d))}return f}within(e,t,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:s,nodeSize:o}=this,a=[0,i.length-1,0],u=[],f=r*r;a.length;){var d=a.pop()||0,h=a.pop()||0,m=a.pop()||0;if(h-m<=o){for(var g=m;g<=h;g++)vE(s[2*g],s[2*g+1],e,t)<=f&&u.push(i[g]);continue}var w=m+h>>1,_=s[2*w],x=s[2*w+1];vE(_,x,e,t)<=f&&u.push(i[w]),(d===0?e-r<=_:t-r<=x)&&(a.push(m),a.push(w-1),a.push(1-d)),(d===0?e+r>=_:t+r>=x)&&(a.push(w+1),a.push(h),a.push(1-d))}return u}}function tw(n,e,t,r,i,s){if(!(i-r<=t)){var o=r+i>>1;bT(n,e,o,r,i,s),tw(n,e,t,r,o-1,1-s),tw(n,e,t,o+1,i,1-s)}}function bT(n,e,t,r,i,s){for(;i>r;){if(i-r>600){var o=i-r+1,a=t-r+1,u=Math.log(o),f=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*f*(o-f)/o)*(a-o/2<0?-1:1),h=Math.max(r,Math.floor(t-a*f/o+d)),m=Math.min(i,Math.floor(t+(o-a)*f/o+d));bT(n,e,t,h,m,s)}var g=e[2*t+s],w=r,_=i;for(Ip(n,e,r,t),e[2*i+s]>g&&Ip(n,e,r,i);w<_;){for(Ip(n,e,w,_),w++,_--;e[2*w+s]<g;)w++;for(;e[2*_+s]>g;)_--}e[2*r+s]===g?Ip(n,e,r,_):(_++,Ip(n,e,_,i)),_<=t&&(r=_+1),t<=_&&(i=_-1)}}function Ip(n,e,t,r){V1(n,t,r),V1(e,2*t,2*r),V1(e,2*t+1,2*r+1)}function V1(n,e,t){var r=n[e];n[e]=n[t],n[t]=r}function vE(n,e,t,r){var i=n-t,s=e-r;return i*i+s*s}var oz={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:n=>n},yE=Math.fround||(n=>e=>(n[0]=+e,n[0]))(new Float32Array(1)),Rf=2,Pc=3,U1=4,Lc=5,xT=6;class az{constructor(e){this.options=Object.assign(Object.create(oz),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:t,minZoom:r,maxZoom:i}=this.options;t&&console.time("total time");var s="prepare ".concat(e.length," points");t&&console.time(s),this.points=e;for(var o=[],a=0;a<e.length;a++){var u=e[a];if(u.geometry){var[f,d]=u.geometry.coordinates,h=yE($g(f)),m=yE(qg(d));o.push(h,m,1/0,a,-1,1),this.options.reduce&&o.push(0)}}var g=this.trees[i+1]=this._createTree(o);t&&console.timeEnd(s);for(var w=i;w>=r;w--){var _=+Date.now();g=this.trees[w]=this._createTree(this._cluster(g,w)),t&&console.log("z%d: %d clusters in %dms",w,g.numItems,+Date.now()-_)}return t&&console.timeEnd("total time"),this}getClusters(e,t){var r=((e[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[1])),s=e[2]===180?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,s=180;else if(r>s){var a=this.getClusters([r,i,180,o],t),u=this.getClusters([-180,i,s,o],t);return a.concat(u)}var f=this.trees[this._limitZoom(t)],d=f.range($g(r),qg(o),$g(s),qg(i)),h=f.data,m=[];for(var g of d){var w=this.stride*g;m.push(h[w+Lc]>1?wE(h,w,this.clusterProps):this.points[h[w+Pc]])}return m}getChildren(e){var t=this._getOriginId(e),r=this._getOriginZoom(e),i="No cluster with the specified id.",s=this.trees[r];if(!s)throw new Error(i);var o=s.data;if(t*this.stride>=o.length)throw new Error(i);var a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),u=o[t*this.stride],f=o[t*this.stride+1],d=s.within(u,f,a),h=[];for(var m of d){var g=m*this.stride;o[g+U1]===e&&h.push(o[g+Lc]>1?wE(o,g,this.clusterProps):this.points[o[g+Pc]])}if(h.length===0)throw new Error(i);return h}getLeaves(e,t,r){t=t||10,r=r||0;var i=[];return this._appendLeaves(i,e,t,r,0),i}getTile(e,t,r){var i=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:o,radius:a}=this.options,u=a/o,f=(r-u)/s,d=(r+1+u)/s,h={features:[]};return this._addTileFeatures(i.range((t-u)/s,f,(t+1+u)/s,d),i.data,t,r,s,h),t===0&&this._addTileFeatures(i.range(1-u/s,f,1,d),i.data,s,r,s,h),t===s-1&&this._addTileFeatures(i.range(0,f,u/s,d),i.data,-1,r,s,h),h.features.length?h:null}getClusterExpansionZoom(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var r=this.getChildren(e);if(t++,r.length!==1)break;e=r[0].properties.cluster_id}return t}_appendLeaves(e,t,r,i,s){var o=this.getChildren(t);for(var a of o){var u=a.properties;if(u&&u.cluster?s+u.point_count<=i?s+=u.point_count:s=this._appendLeaves(e,u.cluster_id,r,i,s):s<i?s++:e.push(a),e.length===r)break}return s}_createTree(e){for(var t=new L5(e.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<e.length;r+=this.stride)t.add(e[r],e[r+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,r,i,s,o){for(var a of e){var u=a*this.stride,f=t[u+Lc]>1,d=void 0,h=void 0,m=void 0;if(f)d=ST(t,u,this.clusterProps),h=t[u],m=t[u+1];else{var g=this.points[t[u+Pc]];d=g.properties;var[w,_]=g.geometry.coordinates;h=$g(w),m=qg(_)}var x={type:1,geometry:[[Math.round(this.options.extent*(h*s-r)),Math.round(this.options.extent*(m*s-i))]],tags:d},C=void 0;f||this.options.generateId?C=t[u+Pc]:C=this.points[t[u+Pc]].id,C!==void 0&&(x.id=C),o.features.push(x)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){for(var{radius:r,extent:i,reduce:s,minPoints:o}=this.options,a=r/(i*Math.pow(2,t)),u=e.data,f=[],d=this.stride,h=0;h<u.length;h+=d)if(!(u[h+Rf]<=t)){u[h+Rf]=t;var m=u[h],g=u[h+1],w=e.within(u[h],u[h+1],a),_=u[h+Lc],x=_;for(var C of w){var L=C*d;u[L+Rf]>t&&(x+=u[L+Lc])}if(x>_&&x>=o){var j=m*_,D=g*_,$=void 0,H=-1,R=((h/d|0)<<5)+(t+1)+this.points.length;for(var I of w){var N=I*d;if(!(u[N+Rf]<=t)){u[N+Rf]=t;var W=u[N+Lc];j+=u[N]*W,D+=u[N+1]*W,u[N+U1]=R,s&&($||($=this._map(u,h,!0),H=this.clusterProps.length,this.clusterProps.push($)),s($,this._map(u,N)))}}u[h+U1]=R,f.push(j/x,D/x,1/0,R,-1,x),s&&f.push(H)}else{for(var O=0;O<d;O++)f.push(u[h+O]);if(x>1)for(var P of w){var B=P*d;if(!(u[B+Rf]<=t)){u[B+Rf]=t;for(var Y=0;Y<d;Y++)f.push(u[B+Y])}}}}return f}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,r){if(e[t+Lc]>1){var i=this.clusterProps[e[t+xT]];return r?Object.assign({},i):i}var s=this.points[e[t+Pc]].properties,o=this.options.map(s);return r&&o===s?Object.assign({},o):o}}function wE(n,e,t){return{type:"Feature",id:n[e+Pc],properties:ST(n,e,t),geometry:{type:"Point",coordinates:[lz(n[e]),uz(n[e+1])]}}}function ST(n,e,t){var r=n[e+Lc],i=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,s=n[e+xT],o=s===-1?{}:Object.assign({},t[s]);return Object.assign(o,{cluster:!0,cluster_id:n[e+Pc],point_count:r,point_count_abbreviated:i})}function $g(n){return n/360+.5}function qg(n){var e=Math.sin(n*Math.PI/180),t=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return t<0?0:t>1?1:t}function lz(n){return(n-.5)*360}function uz(n){var e=(180-n*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function cz(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}class Fo{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class nw{constructor(e){var{markers:t,position:r}=e;this.markers=t,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var t of this.markers)e.extend(Fo.getPosition(t));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Fo.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Fo.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class fz{constructor(e){var{maxZoom:t=16}=e;this.maxZoom=t}noop(e){var{markers:t}=e;return dz(t)}}var dz=n=>{var e=n.map(t=>new nw({position:Fo.getPosition(t),markers:[t]}));return e};class hz extends fz{constructor(e){var{maxZoom:t,radius:r=60}=e,i=cz(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new az(Object.assign({maxZoom:this.maxZoom,radius:r},i))}calculate(e){var t=!1,r={zoom:e.map.getZoom()};if(!mE(e.markers,this.markers)){t=!0,this.markers=[...e.markers];var i=this.markers.map(s=>{var o=Fo.getPosition(s),a=[o.lng(),o.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:a},properties:{marker:s}}});this.superCluster.load(i)}return t||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(t=!mE(this.state,r)),this.state=r,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster(e){var{map:t}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(r=>this.transformCluster(r))}transformCluster(e){var{geometry:{coordinates:[t,r]},properties:i}=e;if(i.cluster)return new nw({markers:this.superCluster.getLeaves(i.cluster_id,1/0).map(o=>o.properties.marker),position:{lat:r,lng:t}});var s=i.marker;return new nw({markers:[s],position:Fo.getPosition(s)})}}class pz{constructor(e,t){this.markers={sum:e.length};var r=t.map(s=>s.count),i=r.reduce((s,o)=>s+o,0);this.clusters={count:t.length,markers:{mean:i/t.length,sum:i,min:Math.min(...r),max:Math.max(...r)}}}}class mz{render(e,t,r){var{count:i,position:s}=e,o=i>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",a='<svg fill="'.concat(o,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(i,`</text>
</svg>`),u="Cluster of ".concat(i," markers"),f=Number(google.maps.Marker.MAX_ZINDEX)+i;if(Fo.isAdvancedMarkerAvailable(r)){var d=new DOMParser,h=d.parseFromString(a,"image/svg+xml").documentElement;h.setAttribute("transform","translate(0 25)");var m={map:r,position:s,zIndex:f,title:u,content:h};return new google.maps.marker.AdvancedMarkerElement(m)}var g={position:s,zIndex:f,title:u,icon:{url:"data:image/svg+xml;base64,".concat(btoa(a)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(g)}}function gz(n,e){for(var t in e.prototype)n.prototype[t]=e.prototype[t]}class k5{constructor(){gz(k5,google.maps.OverlayView)}}var Gp;(function(n){n.CLUSTERING_BEGIN="clusteringbegin",n.CLUSTERING_END="clusteringend",n.CLUSTER_CLICK="click"})(Gp||(Gp={}));var vz=(n,e,t)=>{t.fitBounds(e.bounds)};class yz extends k5{constructor(e){var{map:t,markers:r=[],algorithmOptions:i={},algorithm:s=new hz(i),renderer:o=new mz,onClusterClick:a=vz}=e;super(),this.markers=[...r],this.clusters=[],this.algorithm=s,this.renderer=o,this.onClusterClick=a,t&&this.setMap(t)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach(r=>{this.addMarker(r,!0)}),t||this.render()}removeMarker(e,t){var r=this.markers.indexOf(e);return r===-1?!1:(Fo.setMap(e,null),this.markers.splice(r,1),t||this.render(),!0)}removeMarkers(e,t){var r=!1;return e.forEach(i=>{r=this.removeMarker(i,!0)||r}),r&&!t&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Gp.CLUSTERING_BEGIN,this);var{clusters:t,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){var i=new Set;for(var s of t)s.markers.length==1&&i.add(s.markers[0]);var o=[];for(var a of this.clusters)a.marker!=null&&(a.markers.length==1?i.has(a.marker)||Fo.setMap(a.marker,null):o.push(a.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame(()=>o.forEach(u=>Fo.setMap(u,null)))}google.maps.event.trigger(this,Gp.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Fo.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new pz(this.markers,this.clusters),t=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,t),r.markers.forEach(i=>Fo.setMap(i,null)),this.onClusterClick&&r.marker.addListener("click",i=>{google.maps.event.trigger(this,Gp.CLUSTER_CLICK,r),this.onClusterClick(i,r,t)})),Fo.setMap(r.marker,t)})}}function _E(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function bE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_E(Object(t),!0).forEach(function(r){Ke(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_E(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function wz(n){var e=yU(),[t,r]=S.useState(null);return S.useEffect(()=>{if(e&&t===null){var i=new yz(bE(bE({},n),{},{map:e}));r(i)}},[e]),t}function _z(n){var{children:e,options:t}=n,r=wz(t);return r!==null?e(r):null}S.memo(_z);var xE={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},SE={options(n,e){n.setOptions(e)},position(n,e){n.setPosition(e)},zIndex(n,e){n.setZIndex(e)}};function bz(n){var{children:e,anchor:t,options:r,position:i,zIndex:s,onCloseClick:o,onDomReady:a,onContentChanged:u,onPositionChanged:f,onZindexChanged:d,onLoad:h,onUnmount:m}=n,g=S.useContext(cn),[w,_]=S.useState(null),[x,C]=S.useState(null),[L,j]=S.useState(null),[D,$]=S.useState(null),[H,R]=S.useState(null),[I,N]=S.useState(null),W=S.useRef(null);return S.useEffect(()=>{w!==null&&(w.close(),t?w.open(g,t):w.getPosition()&&w.open(g))},[g,w,t]),S.useEffect(()=>{r&&w!==null&&w.setOptions(r)},[w,r]),S.useEffect(()=>{i&&w!==null&&w.setPosition(i)},[i]),S.useEffect(()=>{typeof s=="number"&&w!==null&&w.setZIndex(s)},[s]),S.useEffect(()=>{w&&o&&(x!==null&&google.maps.event.removeListener(x),C(google.maps.event.addListener(w,"closeclick",o)))},[o]),S.useEffect(()=>{w&&a&&(L!==null&&google.maps.event.removeListener(L),j(google.maps.event.addListener(w,"domready",a)))},[a]),S.useEffect(()=>{w&&u&&(D!==null&&google.maps.event.removeListener(D),$(google.maps.event.addListener(w,"content_changed",u)))},[u]),S.useEffect(()=>{w&&f&&(H!==null&&google.maps.event.removeListener(H),R(google.maps.event.addListener(w,"position_changed",f)))},[f]),S.useEffect(()=>{w&&d&&(I!==null&&google.maps.event.removeListener(I),N(google.maps.event.addListener(w,"zindex_changed",d)))},[d]),S.useEffect(()=>{var O=new google.maps.InfoWindow(r);return _(O),W.current=document.createElement("div"),o&&C(google.maps.event.addListener(O,"closeclick",o)),a&&j(google.maps.event.addListener(O,"domready",a)),u&&$(google.maps.event.addListener(O,"content_changed",u)),f&&R(google.maps.event.addListener(O,"position_changed",f)),d&&N(google.maps.event.addListener(O,"zindex_changed",d)),O.setContent(W.current),i&&O.setPosition(i),s&&O.setZIndex(s),t?O.open(g,t):O.getPosition()?O.open(g):_i(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),h&&h(O),()=>{x&&google.maps.event.removeListener(x),D&&google.maps.event.removeListener(D),L&&google.maps.event.removeListener(L),H&&google.maps.event.removeListener(H),I&&google.maps.event.removeListener(I),m&&m(O),O.close()}},[]),W.current?ju.createPortal(S.Children.only(e),W.current):null}S.memo(bz);class ET extends S.PureComponent{constructor(){super(...arguments),Ke(this,"registeredEvents",[]),Ke(this,"containerElement",null),Ke(this,"state",{infoWindow:null}),Ke(this,"open",(e,t)=>{t?e.open(this.context,t):e.getPosition()?e.open(this.context):_i(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),Ke(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=mn({updaterMap:SE,eventMap:xE,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(vn(this.registeredEvents),this.registeredEvents=mn({updaterMap:SE,eventMap:xE,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(vn(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?ju.createPortal(S.Children.only(this.props.children),this.containerElement):null}}Ke(ET,"contextType",cn);function EE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Hv(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?EE(Object(t),!0).forEach(function(r){Ke(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):EE(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var CE={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},AE={draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},path(n,e){n.setPath(e)},visible(n,e){n.setVisible(e)}},xz={};function Sz(n){var{options:e,draggable:t,editable:r,visible:i,path:s,onDblClick:o,onDragEnd:a,onDragStart:u,onMouseDown:f,onMouseMove:d,onMouseOut:h,onMouseOver:m,onMouseUp:g,onRightClick:w,onClick:_,onDrag:x,onLoad:C,onUnmount:L}=n,j=S.useContext(cn),[D,$]=S.useState(null),[H,R]=S.useState(null),[I,N]=S.useState(null),[W,O]=S.useState(null),[P,B]=S.useState(null),[Y,ue]=S.useState(null),[ae,le]=S.useState(null),[te,ce]=S.useState(null),[fe,ne]=S.useState(null),[z,J]=S.useState(null),[se,Z]=S.useState(null),[pe,ye]=S.useState(null);return S.useEffect(()=>{D!==null&&D.setMap(j)},[j]),S.useEffect(()=>{typeof e<"u"&&D!==null&&D.setOptions(e)},[D,e]),S.useEffect(()=>{typeof t<"u"&&D!==null&&D.setDraggable(t)},[D,t]),S.useEffect(()=>{typeof r<"u"&&D!==null&&D.setEditable(r)},[D,r]),S.useEffect(()=>{typeof i<"u"&&D!==null&&D.setVisible(i)},[D,i]),S.useEffect(()=>{typeof s<"u"&&D!==null&&D.setPath(s)},[D,s]),S.useEffect(()=>{D&&o&&(H!==null&&google.maps.event.removeListener(H),R(google.maps.event.addListener(D,"dblclick",o)))},[o]),S.useEffect(()=>{D&&a&&(I!==null&&google.maps.event.removeListener(I),N(google.maps.event.addListener(D,"dragend",a)))},[a]),S.useEffect(()=>{D&&u&&(W!==null&&google.maps.event.removeListener(W),O(google.maps.event.addListener(D,"dragstart",u)))},[u]),S.useEffect(()=>{D&&f&&(P!==null&&google.maps.event.removeListener(P),B(google.maps.event.addListener(D,"mousedown",f)))},[f]),S.useEffect(()=>{D&&d&&(Y!==null&&google.maps.event.removeListener(Y),ue(google.maps.event.addListener(D,"mousemove",d)))},[d]),S.useEffect(()=>{D&&h&&(ae!==null&&google.maps.event.removeListener(ae),le(google.maps.event.addListener(D,"mouseout",h)))},[h]),S.useEffect(()=>{D&&m&&(te!==null&&google.maps.event.removeListener(te),ce(google.maps.event.addListener(D,"mouseover",m)))},[m]),S.useEffect(()=>{D&&g&&(fe!==null&&google.maps.event.removeListener(fe),ne(google.maps.event.addListener(D,"mouseup",g)))},[g]),S.useEffect(()=>{D&&w&&(z!==null&&google.maps.event.removeListener(z),J(google.maps.event.addListener(D,"rightclick",w)))},[w]),S.useEffect(()=>{D&&_&&(se!==null&&google.maps.event.removeListener(se),Z(google.maps.event.addListener(D,"click",_)))},[_]),S.useEffect(()=>{D&&x&&(pe!==null&&google.maps.event.removeListener(pe),ye(google.maps.event.addListener(D,"drag",x)))},[x]),S.useEffect(()=>{var ve=new google.maps.Polyline(Hv(Hv({},e||xz),{},{map:j}));return s&&ve.setPath(s),typeof i<"u"&&ve.setVisible(i),typeof r<"u"&&ve.setEditable(r),typeof t<"u"&&ve.setDraggable(t),o&&R(google.maps.event.addListener(ve,"dblclick",o)),a&&N(google.maps.event.addListener(ve,"dragend",a)),u&&O(google.maps.event.addListener(ve,"dragstart",u)),f&&B(google.maps.event.addListener(ve,"mousedown",f)),d&&ue(google.maps.event.addListener(ve,"mousemove",d)),h&&le(google.maps.event.addListener(ve,"mouseout",h)),m&&ce(google.maps.event.addListener(ve,"mouseover",m)),g&&ne(google.maps.event.addListener(ve,"mouseup",g)),w&&J(google.maps.event.addListener(ve,"rightclick",w)),_&&Z(google.maps.event.addListener(ve,"click",_)),x&&ye(google.maps.event.addListener(ve,"drag",x)),$(ve),C&&C(ve),()=>{H!==null&&google.maps.event.removeListener(H),I!==null&&google.maps.event.removeListener(I),W!==null&&google.maps.event.removeListener(W),P!==null&&google.maps.event.removeListener(P),Y!==null&&google.maps.event.removeListener(Y),ae!==null&&google.maps.event.removeListener(ae),te!==null&&google.maps.event.removeListener(te),fe!==null&&google.maps.event.removeListener(fe),z!==null&&google.maps.event.removeListener(z),se!==null&&google.maps.event.removeListener(se),L&&L(ve),ve.setMap(null)}},[]),null}S.memo(Sz);class CT extends S.PureComponent{constructor(){super(...arguments),Ke(this,"registeredEvents",[]),Ke(this,"state",{polyline:null}),Ke(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(Hv(Hv({},this.props.options),{},{map:this.context}));this.registeredEvents=mn({updaterMap:AE,eventMap:CE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(vn(this.registeredEvents),this.registeredEvents=mn({updaterMap:AE,eventMap:CE,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),vn(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}Ke(CT,"contextType",cn);function LE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function kE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?LE(Object(t),!0).forEach(function(r){Ke(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):LE(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var PE={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},TE={draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},path(n,e){n.setPath(e)},paths(n,e){n.setPaths(e)},visible(n,e){n.setVisible(e)}};function Ez(n){var{options:e,draggable:t,editable:r,visible:i,path:s,paths:o,onDblClick:a,onDragEnd:u,onDragStart:f,onMouseDown:d,onMouseMove:h,onMouseOut:m,onMouseOver:g,onMouseUp:w,onRightClick:_,onClick:x,onDrag:C,onLoad:L,onUnmount:j,onEdit:D}=n,$=S.useContext(cn),[H,R]=S.useState(null),[I,N]=S.useState(null),[W,O]=S.useState(null),[P,B]=S.useState(null),[Y,ue]=S.useState(null),[ae,le]=S.useState(null),[te,ce]=S.useState(null),[fe,ne]=S.useState(null),[z,J]=S.useState(null),[se,Z]=S.useState(null),[pe,ye]=S.useState(null),[ve,we]=S.useState(null);return S.useEffect(()=>{H!==null&&H.setMap($)},[$]),S.useEffect(()=>{typeof e<"u"&&H!==null&&H.setOptions(e)},[H,e]),S.useEffect(()=>{typeof t<"u"&&H!==null&&H.setDraggable(t)},[H,t]),S.useEffect(()=>{typeof r<"u"&&H!==null&&H.setEditable(r)},[H,r]),S.useEffect(()=>{typeof i<"u"&&H!==null&&H.setVisible(i)},[H,i]),S.useEffect(()=>{typeof s<"u"&&H!==null&&H.setPath(s)},[H,s]),S.useEffect(()=>{typeof o<"u"&&H!==null&&H.setPaths(o)},[H,o]),S.useEffect(()=>{H&&typeof a=="function"&&(I!==null&&google.maps.event.removeListener(I),N(google.maps.event.addListener(H,"dblclick",a)))},[a]),S.useEffect(()=>{H&&(google.maps.event.addListener(H.getPath(),"insert_at",()=>{D==null||D(H)}),google.maps.event.addListener(H.getPath(),"set_at",()=>{D==null||D(H)}),google.maps.event.addListener(H.getPath(),"remove_at",()=>{D==null||D(H)}))},[H,D]),S.useEffect(()=>{H&&typeof u=="function"&&(W!==null&&google.maps.event.removeListener(W),O(google.maps.event.addListener(H,"dragend",u)))},[u]),S.useEffect(()=>{H&&typeof f=="function"&&(P!==null&&google.maps.event.removeListener(P),B(google.maps.event.addListener(H,"dragstart",f)))},[f]),S.useEffect(()=>{H&&typeof d=="function"&&(Y!==null&&google.maps.event.removeListener(Y),ue(google.maps.event.addListener(H,"mousedown",d)))},[d]),S.useEffect(()=>{H&&typeof h=="function"&&(ae!==null&&google.maps.event.removeListener(ae),le(google.maps.event.addListener(H,"mousemove",h)))},[h]),S.useEffect(()=>{H&&typeof m=="function"&&(te!==null&&google.maps.event.removeListener(te),ce(google.maps.event.addListener(H,"mouseout",m)))},[m]),S.useEffect(()=>{H&&typeof g=="function"&&(fe!==null&&google.maps.event.removeListener(fe),ne(google.maps.event.addListener(H,"mouseover",g)))},[g]),S.useEffect(()=>{H&&typeof w=="function"&&(z!==null&&google.maps.event.removeListener(z),J(google.maps.event.addListener(H,"mouseup",w)))},[w]),S.useEffect(()=>{H&&typeof _=="function"&&(se!==null&&google.maps.event.removeListener(se),Z(google.maps.event.addListener(H,"rightclick",_)))},[_]),S.useEffect(()=>{H&&typeof x=="function"&&(pe!==null&&google.maps.event.removeListener(pe),ye(google.maps.event.addListener(H,"click",x)))},[x]),S.useEffect(()=>{H&&typeof C=="function"&&(ve!==null&&google.maps.event.removeListener(ve),we(google.maps.event.addListener(H,"drag",C)))},[C]),S.useEffect(()=>{var Ie=new google.maps.Polygon(kE(kE({},e),{},{map:$}));return s&&Ie.setPath(s),o&&Ie.setPaths(o),typeof i<"u"&&Ie.setVisible(i),typeof r<"u"&&Ie.setEditable(r),typeof t<"u"&&Ie.setDraggable(t),a&&N(google.maps.event.addListener(Ie,"dblclick",a)),u&&O(google.maps.event.addListener(Ie,"dragend",u)),f&&B(google.maps.event.addListener(Ie,"dragstart",f)),d&&ue(google.maps.event.addListener(Ie,"mousedown",d)),h&&le(google.maps.event.addListener(Ie,"mousemove",h)),m&&ce(google.maps.event.addListener(Ie,"mouseout",m)),g&&ne(google.maps.event.addListener(Ie,"mouseover",g)),w&&J(google.maps.event.addListener(Ie,"mouseup",w)),_&&Z(google.maps.event.addListener(Ie,"rightclick",_)),x&&ye(google.maps.event.addListener(Ie,"click",x)),C&&we(google.maps.event.addListener(Ie,"drag",C)),R(Ie),L&&L(Ie),()=>{I!==null&&google.maps.event.removeListener(I),W!==null&&google.maps.event.removeListener(W),P!==null&&google.maps.event.removeListener(P),Y!==null&&google.maps.event.removeListener(Y),ae!==null&&google.maps.event.removeListener(ae),te!==null&&google.maps.event.removeListener(te),fe!==null&&google.maps.event.removeListener(fe),z!==null&&google.maps.event.removeListener(z),se!==null&&google.maps.event.removeListener(se),pe!==null&&google.maps.event.removeListener(pe),j&&j(Ie),Ie.setMap(null)}},[]),null}S.memo(Ez);class Cz extends S.PureComponent{constructor(){super(...arguments),Ke(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=mn({updaterMap:TE,eventMap:PE,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(vn(this.registeredEvents),this.registeredEvents=mn({updaterMap:TE,eventMap:PE,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),vn(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}Ke(Cz,"contextType",cn);function IE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Gv(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?IE(Object(t),!0).forEach(function(r){Ke(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):IE(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var NE={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},RE={bounds(n,e){n.setBounds(e)},draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},visible(n,e){n.setVisible(e)}};function Az(n){var{options:e,bounds:t,draggable:r,editable:i,visible:s,onDblClick:o,onDragEnd:a,onDragStart:u,onMouseDown:f,onMouseMove:d,onMouseOut:h,onMouseOver:m,onMouseUp:g,onRightClick:w,onClick:_,onDrag:x,onBoundsChanged:C,onLoad:L,onUnmount:j}=n,D=S.useContext(cn),[$,H]=S.useState(null),[R,I]=S.useState(null),[N,W]=S.useState(null),[O,P]=S.useState(null),[B,Y]=S.useState(null),[ue,ae]=S.useState(null),[le,te]=S.useState(null),[ce,fe]=S.useState(null),[ne,z]=S.useState(null),[J,se]=S.useState(null),[Z,pe]=S.useState(null),[ye,ve]=S.useState(null),[we,Ie]=S.useState(null);return S.useEffect(()=>{$!==null&&$.setMap(D)},[D]),S.useEffect(()=>{typeof e<"u"&&$!==null&&$.setOptions(e)},[$,e]),S.useEffect(()=>{typeof r<"u"&&$!==null&&$.setDraggable(r)},[$,r]),S.useEffect(()=>{typeof i<"u"&&$!==null&&$.setEditable(i)},[$,i]),S.useEffect(()=>{typeof s<"u"&&$!==null&&$.setVisible(s)},[$,s]),S.useEffect(()=>{typeof t<"u"&&$!==null&&$.setBounds(t)},[$,t]),S.useEffect(()=>{$&&o&&(R!==null&&google.maps.event.removeListener(R),I(google.maps.event.addListener($,"dblclick",o)))},[o]),S.useEffect(()=>{$&&a&&(N!==null&&google.maps.event.removeListener(N),W(google.maps.event.addListener($,"dragend",a)))},[a]),S.useEffect(()=>{$&&u&&(O!==null&&google.maps.event.removeListener(O),P(google.maps.event.addListener($,"dragstart",u)))},[u]),S.useEffect(()=>{$&&f&&(B!==null&&google.maps.event.removeListener(B),Y(google.maps.event.addListener($,"mousedown",f)))},[f]),S.useEffect(()=>{$&&d&&(ue!==null&&google.maps.event.removeListener(ue),ae(google.maps.event.addListener($,"mousemove",d)))},[d]),S.useEffect(()=>{$&&h&&(le!==null&&google.maps.event.removeListener(le),te(google.maps.event.addListener($,"mouseout",h)))},[h]),S.useEffect(()=>{$&&m&&(ce!==null&&google.maps.event.removeListener(ce),fe(google.maps.event.addListener($,"mouseover",m)))},[m]),S.useEffect(()=>{$&&g&&(ne!==null&&google.maps.event.removeListener(ne),z(google.maps.event.addListener($,"mouseup",g)))},[g]),S.useEffect(()=>{$&&w&&(J!==null&&google.maps.event.removeListener(J),se(google.maps.event.addListener($,"rightclick",w)))},[w]),S.useEffect(()=>{$&&_&&(Z!==null&&google.maps.event.removeListener(Z),pe(google.maps.event.addListener($,"click",_)))},[_]),S.useEffect(()=>{$&&x&&(ye!==null&&google.maps.event.removeListener(ye),ve(google.maps.event.addListener($,"drag",x)))},[x]),S.useEffect(()=>{$&&C&&(we!==null&&google.maps.event.removeListener(we),Ie(google.maps.event.addListener($,"bounds_changed",C)))},[C]),S.useEffect(()=>{var Me=new google.maps.Rectangle(Gv(Gv({},e),{},{map:D}));return typeof s<"u"&&Me.setVisible(s),typeof i<"u"&&Me.setEditable(i),typeof r<"u"&&Me.setDraggable(r),typeof t<"u"&&Me.setBounds(t),o&&I(google.maps.event.addListener(Me,"dblclick",o)),a&&W(google.maps.event.addListener(Me,"dragend",a)),u&&P(google.maps.event.addListener(Me,"dragstart",u)),f&&Y(google.maps.event.addListener(Me,"mousedown",f)),d&&ae(google.maps.event.addListener(Me,"mousemove",d)),h&&te(google.maps.event.addListener(Me,"mouseout",h)),m&&fe(google.maps.event.addListener(Me,"mouseover",m)),g&&z(google.maps.event.addListener(Me,"mouseup",g)),w&&se(google.maps.event.addListener(Me,"rightclick",w)),_&&pe(google.maps.event.addListener(Me,"click",_)),x&&ve(google.maps.event.addListener(Me,"drag",x)),C&&Ie(google.maps.event.addListener(Me,"bounds_changed",C)),H(Me),L&&L(Me),()=>{R!==null&&google.maps.event.removeListener(R),N!==null&&google.maps.event.removeListener(N),O!==null&&google.maps.event.removeListener(O),B!==null&&google.maps.event.removeListener(B),ue!==null&&google.maps.event.removeListener(ue),le!==null&&google.maps.event.removeListener(le),ce!==null&&google.maps.event.removeListener(ce),ne!==null&&google.maps.event.removeListener(ne),J!==null&&google.maps.event.removeListener(J),Z!==null&&google.maps.event.removeListener(Z),ye!==null&&google.maps.event.removeListener(ye),we!==null&&google.maps.event.removeListener(we),j&&j(Me),Me.setMap(null)}},[]),null}S.memo(Az);class Lz extends S.PureComponent{constructor(){super(...arguments),Ke(this,"registeredEvents",[]),Ke(this,"state",{rectangle:null}),Ke(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(Gv(Gv({},this.props.options),{},{map:this.context}));this.registeredEvents=mn({updaterMap:RE,eventMap:NE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(vn(this.registeredEvents),this.registeredEvents=mn({updaterMap:RE,eventMap:NE,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),vn(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}Ke(Lz,"contextType",cn);function OE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Kv(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OE(Object(t),!0).forEach(function(r){Ke(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):OE(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var ME={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},DE={center(n,e){n.setCenter(e)},draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},radius(n,e){n.setRadius(e)},visible(n,e){n.setVisible(e)}},kz={};function Pz(n){var{options:e,center:t,radius:r,draggable:i,editable:s,visible:o,onDblClick:a,onDragEnd:u,onDragStart:f,onMouseDown:d,onMouseMove:h,onMouseOut:m,onMouseOver:g,onMouseUp:w,onRightClick:_,onClick:x,onDrag:C,onCenterChanged:L,onRadiusChanged:j,onLoad:D,onUnmount:$}=n,H=S.useContext(cn),[R,I]=S.useState(null),[N,W]=S.useState(null),[O,P]=S.useState(null),[B,Y]=S.useState(null),[ue,ae]=S.useState(null),[le,te]=S.useState(null),[ce,fe]=S.useState(null),[ne,z]=S.useState(null),[J,se]=S.useState(null),[Z,pe]=S.useState(null),[ye,ve]=S.useState(null),[we,Ie]=S.useState(null),[Me,Be]=S.useState(null),[We,ft]=S.useState(null);return S.useEffect(()=>{R!==null&&R.setMap(H)},[H]),S.useEffect(()=>{typeof e<"u"&&R!==null&&R.setOptions(e)},[R,e]),S.useEffect(()=>{typeof i<"u"&&R!==null&&R.setDraggable(i)},[R,i]),S.useEffect(()=>{typeof s<"u"&&R!==null&&R.setEditable(s)},[R,s]),S.useEffect(()=>{typeof o<"u"&&R!==null&&R.setVisible(o)},[R,o]),S.useEffect(()=>{typeof r=="number"&&R!==null&&R.setRadius(r)},[R,r]),S.useEffect(()=>{typeof t<"u"&&R!==null&&R.setCenter(t)},[R,t]),S.useEffect(()=>{R&&a&&(N!==null&&google.maps.event.removeListener(N),W(google.maps.event.addListener(R,"dblclick",a)))},[a]),S.useEffect(()=>{R&&u&&(O!==null&&google.maps.event.removeListener(O),P(google.maps.event.addListener(R,"dragend",u)))},[u]),S.useEffect(()=>{R&&f&&(B!==null&&google.maps.event.removeListener(B),Y(google.maps.event.addListener(R,"dragstart",f)))},[f]),S.useEffect(()=>{R&&d&&(ue!==null&&google.maps.event.removeListener(ue),ae(google.maps.event.addListener(R,"mousedown",d)))},[d]),S.useEffect(()=>{R&&h&&(le!==null&&google.maps.event.removeListener(le),te(google.maps.event.addListener(R,"mousemove",h)))},[h]),S.useEffect(()=>{R&&m&&(ce!==null&&google.maps.event.removeListener(ce),fe(google.maps.event.addListener(R,"mouseout",m)))},[m]),S.useEffect(()=>{R&&g&&(ne!==null&&google.maps.event.removeListener(ne),z(google.maps.event.addListener(R,"mouseover",g)))},[g]),S.useEffect(()=>{R&&w&&(J!==null&&google.maps.event.removeListener(J),se(google.maps.event.addListener(R,"mouseup",w)))},[w]),S.useEffect(()=>{R&&_&&(Z!==null&&google.maps.event.removeListener(Z),pe(google.maps.event.addListener(R,"rightclick",_)))},[_]),S.useEffect(()=>{R&&x&&(ye!==null&&google.maps.event.removeListener(ye),ve(google.maps.event.addListener(R,"click",x)))},[x]),S.useEffect(()=>{R&&C&&(we!==null&&google.maps.event.removeListener(we),Ie(google.maps.event.addListener(R,"drag",C)))},[C]),S.useEffect(()=>{R&&L&&(Me!==null&&google.maps.event.removeListener(Me),Be(google.maps.event.addListener(R,"center_changed",L)))},[x]),S.useEffect(()=>{R&&j&&(We!==null&&google.maps.event.removeListener(We),ft(google.maps.event.addListener(R,"radius_changed",j)))},[j]),S.useEffect(()=>{var Te=new google.maps.Circle(Kv(Kv({},e||kz),{},{map:H}));return typeof r=="number"&&Te.setRadius(r),typeof t<"u"&&Te.setCenter(t),typeof r=="number"&&Te.setRadius(r),typeof o<"u"&&Te.setVisible(o),typeof s<"u"&&Te.setEditable(s),typeof i<"u"&&Te.setDraggable(i),a&&W(google.maps.event.addListener(Te,"dblclick",a)),u&&P(google.maps.event.addListener(Te,"dragend",u)),f&&Y(google.maps.event.addListener(Te,"dragstart",f)),d&&ae(google.maps.event.addListener(Te,"mousedown",d)),h&&te(google.maps.event.addListener(Te,"mousemove",h)),m&&fe(google.maps.event.addListener(Te,"mouseout",m)),g&&z(google.maps.event.addListener(Te,"mouseover",g)),w&&se(google.maps.event.addListener(Te,"mouseup",w)),_&&pe(google.maps.event.addListener(Te,"rightclick",_)),x&&ve(google.maps.event.addListener(Te,"click",x)),C&&Ie(google.maps.event.addListener(Te,"drag",C)),L&&Be(google.maps.event.addListener(Te,"center_changed",L)),j&&ft(google.maps.event.addListener(Te,"radius_changed",j)),I(Te),D&&D(Te),()=>{N!==null&&google.maps.event.removeListener(N),O!==null&&google.maps.event.removeListener(O),B!==null&&google.maps.event.removeListener(B),ue!==null&&google.maps.event.removeListener(ue),le!==null&&google.maps.event.removeListener(le),ce!==null&&google.maps.event.removeListener(ce),ne!==null&&google.maps.event.removeListener(ne),J!==null&&google.maps.event.removeListener(J),Z!==null&&google.maps.event.removeListener(Z),ye!==null&&google.maps.event.removeListener(ye),Me!==null&&google.maps.event.removeListener(Me),We!==null&&google.maps.event.removeListener(We),$&&$(Te),Te.setMap(null)}},[]),null}S.memo(Pz);class Tz extends S.PureComponent{constructor(){super(...arguments),Ke(this,"registeredEvents",[]),Ke(this,"state",{circle:null}),Ke(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(Kv(Kv({},this.props.options),{},{map:this.context}));this.registeredEvents=mn({updaterMap:DE,eventMap:ME,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(vn(this.registeredEvents),this.registeredEvents=mn({updaterMap:DE,eventMap:ME,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),vn(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}Ke(Tz,"contextType",cn);function jE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Yv(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jE(Object(t),!0).forEach(function(r){Ke(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jE(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var FE={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},BE={add(n,e){n.add(e)},addgeojson(n,e,t){n.addGeoJson(e,t)},contains(n,e){n.contains(e)},foreach(n,e){n.forEach(e)},loadgeojson(n,e,t,r){n.loadGeoJson(e,t,r)},overridestyle(n,e,t){n.overrideStyle(e,t)},remove(n,e){n.remove(e)},revertstyle(n,e){n.revertStyle(e)},controlposition(n,e){n.setControlPosition(e)},controls(n,e){n.setControls(e)},drawingmode(n,e){n.setDrawingMode(e)},map(n,e){n.setMap(e)},style(n,e){n.setStyle(e)},togeojson(n,e){n.toGeoJson(e)}};function Iz(n){var{options:e,onClick:t,onDblClick:r,onMouseDown:i,onMouseMove:s,onMouseOut:o,onMouseOver:a,onMouseUp:u,onRightClick:f,onAddFeature:d,onRemoveFeature:h,onRemoveProperty:m,onSetGeometry:g,onSetProperty:w,onLoad:_,onUnmount:x}=n,C=S.useContext(cn),[L,j]=S.useState(null),[D,$]=S.useState(null),[H,R]=S.useState(null),[I,N]=S.useState(null),[W,O]=S.useState(null),[P,B]=S.useState(null),[Y,ue]=S.useState(null),[ae,le]=S.useState(null),[te,ce]=S.useState(null),[fe,ne]=S.useState(null),[z,J]=S.useState(null),[se,Z]=S.useState(null),[pe,ye]=S.useState(null),[ve,we]=S.useState(null);return S.useEffect(()=>{L!==null&&L.setMap(C)},[C]),S.useEffect(()=>{L&&r&&(D!==null&&google.maps.event.removeListener(D),$(google.maps.event.addListener(L,"dblclick",r)))},[r]),S.useEffect(()=>{L&&i&&(H!==null&&google.maps.event.removeListener(H),R(google.maps.event.addListener(L,"mousedown",i)))},[i]),S.useEffect(()=>{L&&s&&(I!==null&&google.maps.event.removeListener(I),N(google.maps.event.addListener(L,"mousemove",s)))},[s]),S.useEffect(()=>{L&&o&&(W!==null&&google.maps.event.removeListener(W),O(google.maps.event.addListener(L,"mouseout",o)))},[o]),S.useEffect(()=>{L&&a&&(P!==null&&google.maps.event.removeListener(P),B(google.maps.event.addListener(L,"mouseover",a)))},[a]),S.useEffect(()=>{L&&u&&(Y!==null&&google.maps.event.removeListener(Y),ue(google.maps.event.addListener(L,"mouseup",u)))},[u]),S.useEffect(()=>{L&&f&&(ae!==null&&google.maps.event.removeListener(ae),le(google.maps.event.addListener(L,"rightclick",f)))},[f]),S.useEffect(()=>{L&&t&&(te!==null&&google.maps.event.removeListener(te),ce(google.maps.event.addListener(L,"click",t)))},[t]),S.useEffect(()=>{L&&d&&(fe!==null&&google.maps.event.removeListener(fe),ne(google.maps.event.addListener(L,"addfeature",d)))},[d]),S.useEffect(()=>{L&&h&&(z!==null&&google.maps.event.removeListener(z),J(google.maps.event.addListener(L,"removefeature",h)))},[h]),S.useEffect(()=>{L&&m&&(se!==null&&google.maps.event.removeListener(se),Z(google.maps.event.addListener(L,"removeproperty",m)))},[m]),S.useEffect(()=>{L&&g&&(pe!==null&&google.maps.event.removeListener(pe),ye(google.maps.event.addListener(L,"setgeometry",g)))},[g]),S.useEffect(()=>{L&&w&&(ve!==null&&google.maps.event.removeListener(ve),we(google.maps.event.addListener(L,"setproperty",w)))},[w]),S.useEffect(()=>{if(C!==null){var Ie=new google.maps.Data(Yv(Yv({},e),{},{map:C}));r&&$(google.maps.event.addListener(Ie,"dblclick",r)),i&&R(google.maps.event.addListener(Ie,"mousedown",i)),s&&N(google.maps.event.addListener(Ie,"mousemove",s)),o&&O(google.maps.event.addListener(Ie,"mouseout",o)),a&&B(google.maps.event.addListener(Ie,"mouseover",a)),u&&ue(google.maps.event.addListener(Ie,"mouseup",u)),f&&le(google.maps.event.addListener(Ie,"rightclick",f)),t&&ce(google.maps.event.addListener(Ie,"click",t)),d&&ne(google.maps.event.addListener(Ie,"addfeature",d)),h&&J(google.maps.event.addListener(Ie,"removefeature",h)),m&&Z(google.maps.event.addListener(Ie,"removeproperty",m)),g&&ye(google.maps.event.addListener(Ie,"setgeometry",g)),w&&we(google.maps.event.addListener(Ie,"setproperty",w)),j(Ie),_&&_(Ie)}return()=>{L&&(D!==null&&google.maps.event.removeListener(D),H!==null&&google.maps.event.removeListener(H),I!==null&&google.maps.event.removeListener(I),W!==null&&google.maps.event.removeListener(W),P!==null&&google.maps.event.removeListener(P),Y!==null&&google.maps.event.removeListener(Y),ae!==null&&google.maps.event.removeListener(ae),te!==null&&google.maps.event.removeListener(te),fe!==null&&google.maps.event.removeListener(fe),z!==null&&google.maps.event.removeListener(z),se!==null&&google.maps.event.removeListener(se),pe!==null&&google.maps.event.removeListener(pe),ve!==null&&google.maps.event.removeListener(ve),x&&x(L),L.setMap(null))}},[]),null}S.memo(Iz);class Nz extends S.PureComponent{constructor(){super(...arguments),Ke(this,"registeredEvents",[]),Ke(this,"state",{data:null}),Ke(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(Yv(Yv({},this.props.options),{},{map:this.context}));this.registeredEvents=mn({updaterMap:BE,eventMap:FE,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(vn(this.registeredEvents),this.registeredEvents=mn({updaterMap:BE,eventMap:FE,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),vn(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}Ke(Nz,"contextType",cn);function VE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function UE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?VE(Object(t),!0).forEach(function(r){Ke(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):VE(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var zE={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},$E={options(n,e){n.setOptions(e)},url(n,e){n.setUrl(e)},zIndex(n,e){n.setZIndex(e)}};class Rz extends S.PureComponent{constructor(){super(...arguments),Ke(this,"registeredEvents",[]),Ke(this,"state",{kmlLayer:null}),Ke(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(UE(UE({},this.props.options),{},{map:this.context}));this.registeredEvents=mn({updaterMap:$E,eventMap:zE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(vn(this.registeredEvents),this.registeredEvents=mn({updaterMap:$E,eventMap:zE,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),vn(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}Ke(Rz,"contextType",cn);function AT(n,e){return typeof e=="function"?e(n.offsetWidth,n.offsetHeight):{x:0,y:0}}function Oz(n,e){return new e(n.lat,n.lng)}function Mz(n,e){return new e(new google.maps.LatLng(n.ne.lat,n.ne.lng),new google.maps.LatLng(n.sw.lat,n.sw.lng))}function Dz(n,e,t){return n instanceof e?n:t(n,e)}function jz(n,e,t){return n instanceof e?n:t(n,e)}function Fz(n,e,t){var r=n&&n.fromLatLngToDivPixel(t.getNorthEast()),i=n&&n.fromLatLngToDivPixel(t.getSouthWest());return r&&i?{left:"".concat(i.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-i.x-e.x,"px"),height:"".concat(i.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function Bz(n,e,t){var r=n&&n.fromLatLngToDivPixel(t);if(r){var{x:i,y:s}=r;return{left:"".concat(i+e.x,"px"),top:"".concat(s+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function LT(n,e,t,r){return t!==void 0?Fz(n,e,jz(t,google.maps.LatLngBounds,Mz)):Bz(n,e,Dz(r,google.maps.LatLng,Oz))}function Vz(n,e){return n.left===e.left&&n.top===e.top&&n.width===e.height&&n.height===e.height}function qE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Uz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qE(Object(t),!0).forEach(function(r){Ke(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):qE(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function zz(n,e,t,r,i){class s extends google.maps.OverlayView{constructor(a,u,f,d){super(),this.container=a,this.pane=u,this.position=f,this.bounds=d}onAdd(){var a,u=(a=this.getPanes())===null||a===void 0?void 0:a[this.pane];u==null||u.appendChild(this.container)}draw(){var a=this.getProjection(),u=Uz({},this.container?AT(this.container,i):{x:0,y:0}),f=LT(a,u,this.bounds,this.position);for(var[d,h]of Object.entries(f))this.container.style[d]=h}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new s(n,e,t,r)}function WE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function $z(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?WE(Object(t),!0).forEach(function(r){Ke(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):WE(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function HE(n){if(!n)return"";var e=n instanceof google.maps.LatLng?n:new google.maps.LatLng(n.lat,n.lng);return e+""}function GE(n){if(!n)return"";var e=n instanceof google.maps.LatLngBounds?n:new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.east),new google.maps.LatLng(n.north,n.west));return e+""}function qz(n){var{position:e,bounds:t,mapPaneName:r,zIndex:i,onLoad:s,onUnmount:o,getPixelPositionOffset:a,children:u}=n,f=S.useContext(cn),d=S.useMemo(()=>{var m=document.createElement("div");return m.style.position="absolute",m},[]),h=S.useMemo(()=>zz(d,r,e,t,a),[d,r,e,t]);return S.useEffect(()=>(s==null||s(h),h==null||h.setMap(f),()=>{o==null||o(h),h==null||h.setMap(null)}),[f,h]),S.useEffect(()=>{d.style.zIndex="".concat(i)},[i,d]),ju.createPortal(u,d)}S.memo(qz);class Zh extends S.PureComponent{constructor(e){super(e),Ke(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),Ke(this,"updatePane",()=>{var r=this.props.mapPaneName,i=this.overlayView.getPanes();_i(!!r,"OverlayView requires props.mapPaneName but got %s",r),i?this.setState({paneEl:i[r]}):this.setState({paneEl:null})}),Ke(this,"onAdd",()=>{var r,i;this.updatePane(),(r=(i=this.props).onLoad)===null||r===void 0||r.call(i,this.overlayView)}),Ke(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),i=$z({x:0,y:0},this.containerRef.current?AT(this.containerRef.current,this.props.getPixelPositionOffset):{}),s=LT(r,i,this.props.bounds,this.props.position);if(!Vz(s,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var o,a,u,f;this.setState({containerStyle:{top:(o=s.top)!==null&&o!==void 0?o:0,left:(a=s.left)!==null&&a!==void 0?a:0,width:(u=s.width)!==null&&u!==void 0?u:0,height:(f=s.height)!==null&&f!==void 0?f:0,position:"absolute"}})}}),Ke(this,"draw",()=>{this.onPositionElement()}),Ke(this,"onRemove",()=>{var r,i;this.setState(()=>({paneEl:null})),(r=(i=this.props).onUnmount)===null||r===void 0||r.call(i,this.overlayView)}),this.containerRef=S.createRef();var t=new google.maps.OverlayView;t.onAdd=this.onAdd,t.draw=this.draw,t.onRemove=this.onRemove,this.overlayView=t}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var t=HE(e.position),r=HE(this.props.position),i=GE(e.bounds),s=GE(this.props.bounds);(t!==r||i!==s)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?ju.createPortal(F.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:S.Children.only(this.props.children)}),e):null}}Ke(Zh,"FLOAT_PANE","floatPane");Ke(Zh,"MAP_PANE","mapPane");Ke(Zh,"MARKER_LAYER","markerLayer");Ke(Zh,"OVERLAY_LAYER","overlayLayer");Ke(Zh,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");Ke(Zh,"contextType",cn);function Wz(){}function KE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function YE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?KE(Object(t),!0).forEach(function(r){Ke(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):KE(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var JE={onDblClick:"dblclick",onClick:"click"},XE={opacity(n,e){n.setOpacity(e)}};function Hz(n){var{url:e,bounds:t,options:r,visible:i}=n,s=S.useContext(cn),o=new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.west),new google.maps.LatLng(t.north,t.east)),a=S.useMemo(()=>new google.maps.GroundOverlay(e,o,r),[]);return S.useEffect(()=>{a!==null&&a.setMap(s)},[s]),S.useEffect(()=>{typeof e<"u"&&a!==null&&(a.set("url",e),a.setMap(s))},[a,e]),S.useEffect(()=>{typeof i<"u"&&a!==null&&a.setOpacity(i?1:0)},[a,i]),S.useEffect(()=>{var u=new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.west),new google.maps.LatLng(t.north,t.east));typeof t<"u"&&a!==null&&(a.set("bounds",u),a.setMap(s))},[a,t]),null}S.memo(Hz);class kT extends S.PureComponent{constructor(){super(...arguments),Ke(this,"registeredEvents",[]),Ke(this,"state",{groundOverlay:null}),Ke(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){_i(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,YE(YE({},this.props.options),{},{map:this.context}));this.registeredEvents=mn({updaterMap:XE,eventMap:JE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(vn(this.registeredEvents),this.registeredEvents=mn({updaterMap:XE,eventMap:JE,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}Ke(kT,"defaultProps",{onLoad:Wz});Ke(kT,"contextType",cn);function QE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Jv(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?QE(Object(t),!0).forEach(function(r){Ke(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):QE(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var ZE={},eC={data(n,e){n.setData(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)}};function Gz(n){var{data:e,onLoad:t,onUnmount:r,options:i}=n,s=S.useContext(cn),[o,a]=S.useState(null);return S.useEffect(()=>{google.maps.visualization||_i(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),S.useEffect(()=>{_i(!!e,"data property is required in HeatmapLayer %s",e)},[e]),S.useEffect(()=>{o!==null&&o.setMap(s)},[s]),S.useEffect(()=>{i&&o!==null&&o.setOptions(i)},[o,i]),S.useEffect(()=>{var u=new google.maps.visualization.HeatmapLayer(Jv(Jv({},i),{},{data:e,map:s}));return a(u),t&&t(u),()=>{o!==null&&(r&&r(o),o.setMap(null))}},[]),null}S.memo(Gz);class Kz extends S.PureComponent{constructor(){super(...arguments),Ke(this,"registeredEvents",[]),Ke(this,"state",{heatmapLayer:null}),Ke(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){_i(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),_i(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(Jv(Jv({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=mn({updaterMap:eC,eventMap:ZE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){vn(this.registeredEvents),this.registeredEvents=mn({updaterMap:eC,eventMap:ZE,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),vn(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}Ke(Kz,"contextType",cn);var tC={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},nC={register(n,e,t){n.registerPanoProvider(e,t)},links(n,e){n.setLinks(e)},motionTracking(n,e){n.setMotionTracking(e)},options(n,e){n.setOptions(e)},pano(n,e){n.setPano(e)},position(n,e){n.setPosition(e)},pov(n,e){n.setPov(e)},visible(n,e){n.setVisible(e)},zoom(n,e){n.setZoom(e)}};class Yz extends S.PureComponent{constructor(){super(...arguments),Ke(this,"registeredEvents",[]),Ke(this,"state",{streetViewPanorama:null}),Ke(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,t,r=(e=(t=this.context)===null||t===void 0?void 0:t.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=mn({updaterMap:nC,eventMap:tC,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(vn(this.registeredEvents),this.registeredEvents=mn({updaterMap:nC,eventMap:tC,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),vn(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}Ke(Yz,"contextType",cn);class Jz extends S.PureComponent{constructor(){super(...arguments),Ke(this,"state",{streetViewService:null}),Ke(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}Ke(Jz,"contextType",cn);var rC={onDirectionsChanged:"directions_changed"},iC={directions(n,e){n.setDirections(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},panel(n,e){n.setPanel(e)},routeIndex(n,e){n.setRouteIndex(e)}};class Xz extends S.PureComponent{constructor(){super(...arguments),Ke(this,"registeredEvents",[]),Ke(this,"state",{directionsRenderer:null}),Ke(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=mn({updaterMap:iC,eventMap:rC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(vn(this.registeredEvents),this.registeredEvents=mn({updaterMap:iC,eventMap:rC,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),vn(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}Ke(Xz,"contextType",cn);var sC={onPlacesChanged:"places_changed"},oC={bounds(n,e){n.setBounds(e)}};class Qz extends S.PureComponent{constructor(){super(...arguments),Ke(this,"registeredEvents",[]),Ke(this,"containerElement",S.createRef()),Ke(this,"state",{searchBox:null}),Ke(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(_i(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=mn({updaterMap:oC,eventMap:sC,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{searchBox:t}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(vn(this.registeredEvents),this.registeredEvents=mn({updaterMap:oC,eventMap:sC,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),vn(this.registeredEvents))}render(){return F.jsx("div",{ref:this.containerElement,children:S.Children.only(this.props.children)})}}Ke(Qz,"contextType",cn);var aC={onPlaceChanged:"place_changed"},lC={bounds(n,e){n.setBounds(e)},restrictions(n,e){n.setComponentRestrictions(e)},fields(n,e){n.setFields(e)},options(n,e){n.setOptions(e)},types(n,e){n.setTypes(e)}};class PT extends S.PureComponent{constructor(){super(...arguments),Ke(this,"registeredEvents",[]),Ke(this,"containerElement",S.createRef()),Ke(this,"state",{autocomplete:null}),Ke(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;_i(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(t){var r=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=mn({updaterMap:lC,eventMap:aC,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(e){vn(this.registeredEvents),this.registeredEvents=mn({updaterMap:lC,eventMap:aC,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&vn(this.registeredEvents)}render(){return F.jsx("div",{ref:this.containerElement,className:this.props.className,children:S.Children.only(this.props.children)})}}Ke(PT,"defaultProps",{className:""});Ke(PT,"contextType",cn);const ar={USER:"user",JOEY:"joey"},oh={URL:"https://api.openweathermap.org/data/2.5/weather",FORECAST_URL:"https://api.openweathermap.org/data/2.5/forecast",KEY:"bd5e378503939ddaee76f12ad7a97608"},Cc=void 0,Wg={distance:.4,cost:.3,scenic:.2,safety:.1},Zz={height:"500px",width:"100%"},Hg={"bengaluru-malpe":{origin:{lat:12.9716,lng:77.5946},destination:{lat:13.349,lng:74.7019},distance:410,duration:435,pitStops:[{name:"Fuel Stop - Channarayapatna",coords:{lat:12.9045,lng:76.3918},time:"7:30 AM",type:"fuel"},{name:"Scenic Stop - Sakleshpur",coords:{lat:12.9417,lng:75.7337},time:"9:20 AM",type:"scenic"},{name:"Lunch Stop - Mangalore",coords:{lat:12.9141,lng:74.856},time:"11:35 AM",type:"lunch"}]},"bengaluru-goa":{origin:{lat:12.9716,lng:77.5946},destination:{lat:15.2993,lng:74.124},distance:560,duration:613,pitStops:[{name:"Fuel Stop - Tumkur",coords:{lat:13.3392,lng:77.101},time:"6:30 AM",type:"fuel"},{name:"Lunch Stop - Hubli",coords:{lat:15.3647,lng:75.124},time:"9:45 AM",type:"lunch"},{name:"Scenic Stop - Belgaum",coords:{lat:15.8497,lng:74.4977},time:"12:15 PM",type:"scenic"}]}},e$={dark:[{elementType:"geometry",stylers:[{color:"#212121"}]},{elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{elementType:"labels.text.stroke",stylers:[{color:"#212121"}]}]};function TT({open:n,onOpenChange:e}){const[t,r]=S.useState([]),[i,s]=S.useState(""),[o,a]=S.useState(!1),[u,f]=S.useState(!1),[d,h]=S.useState({}),[m,g]=S.useState({lat:0,lng:0}),[w,_]=S.useState([]),[x,C]=S.useState([]),[L,j]=S.useState(null),[D,$]=S.useState(""),[H,R]=S.useState(!1),[I,N]=S.useState([]),[W,O]=S.useState(null),[P,B]=S.useState(0),[Y,ue]=S.useState(""),[ae,le]=S.useState(null),te=S.useRef(null),ce=Ce=>{const Ne=Ce.match(/{[\s\S]*}/);return Ne?Ne[0].trim():Ce.trim()},fe=({trip:Ce,itinerary:Ne})=>{let Ve=` **Trip to ${Ce.destination}**
`;return Ve+=`Duration: ${Ce.duration||"Not specified"} | Budget: ${Ce.budget||"Not specified"} | Group: ${Ce.groupSize||"Not specified"}
`,Ve+=`Hotel Type: ${Ce.hotelType||"Not specified"} | Interests: ${(Ce.interests||[]).join(", ")||"Not specified"}
`,Ve+=`Timezone: ${D}

`,Ne.forEach(({day:Ze,plan:ct})=>{Ve+=` **${Ze}**
`,ct.forEach(({time:nt,activity:dt})=>{Ve+=`   ${nt} (${ve(nt)}): ${dt}
`}),Ve+="".repeat(40)+`
`}),Ve.trim()};S.useEffect(()=>{(async()=>{if(m.lat&&m.lng&&!D){const Ne=await ye(m.lat,m.lng);$(Ne)}})()},[m,D]);const ne=async Ce=>{try{const Ne=typeof Ce=="string"?`${oh.URL}?q=${Ce}&appid=${oh.KEY}&units=metric`:`${oh.URL}?lat=${Ce.lat}&lon=${Ce.lng}&appid=${oh.KEY}&units=metric`,{data:Ve}=await Xn.get(Ne);return{role:ar.JOEY,text:`The weather in ${Ve.name||"your area"} is ${Ve.weather[0].description} with a temperature of ${Ve.main.temp}C.`}}catch{return{role:ar.JOEY,text:"I couldnt fetch the weather. Try again?"}}},z=async Ce=>{try{const Ne=`${oh.FORECAST_URL}?q=${Ce}&appid=${oh.KEY}&units=metric`,{data:Ve}=await Xn.get(Ne);return Ve.list.slice(0,5).map(Ze=>({date:new Date(Ze.dt*1e3).toLocaleDateString(),description:Ze.weather[0].description,temp:Ze.main.temp}))}catch(Ne){return console.error("Forecast error:",Ne),[]}},J=async Ce=>{var Ve;const Ne=`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(Ce)}&key=${Cc}`;try{const{data:Ze}=await Xn.get(Ne);if(Ze.status!=="OK")return console.error(`Geocoding failed for ${Ce}: ${Ze.status}`),null;const ct=(Ve=Ze.results[0])==null?void 0:Ve.geometry.location;return ct?{lat:ct.lat,lng:ct.lng}:null}catch(Ze){return console.error(`Geocoding error for ${Ce}:`,Ze),null}},se=async(Ce,Ne)=>{try{const Ve=`https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=${Ce.lat},${Ce.lng}&radius=5000&type=${Ne}&key=${Cc}`,{data:Ze}=await Xn.get(Ve);if(Ze.status!=="OK"||!Ze.results.length)return null;const ct=Ze.results[0];return{name:ct.name,coords:ct.geometry.location,type:Ne==="gas_station"?"fuel":Ne==="restaurant"?"lunch":"scenic"}}catch(Ve){return console.error(`Error fetching nearby ${Ne}:`,Ve),null}},Z=async(Ce,Ne,Ve=[],Ze=null)=>{try{console.log("Google API Key:",Cc),console.log("Fetching coords for Origin:",Ce,"Destination:",Ne);const[ct,nt]=await Promise.all([J(`${Ce}, India`),J(`${Ne}, India`)]);console.log("Origin Coords:",ct),console.log("Destination Coords:",nt);const dt=`${Ce.toLowerCase()}-${Ne.toLowerCase()}`;if(!ct||!nt){if(console.warn("Geocoding failed, using fallback coordinates"),Hg[dt]){const Wt=Hg[dt];return _([Wt.origin,...Wt.pitStops.map(an=>an.coords),Wt.destination]),g(Wt.destination),N(Wt.pitStops),B(Wt.distance),ue(`${Math.floor(Wt.duration/60)} hours ${Wt.duration%60} minutes`),{distance:Wt.distance,cost:Wt.distance*.1,scenic:.5,safety:.7,pitStops:Wt.pitStops,duration:Wt.duration}}const on={lat:12.9716,lng:77.5946},Rt={lat:15.2993,lng:74.124};return _([on,Rt]),g(Rt),N(Ve),{distance:560,cost:560*.1,scenic:.5,safety:.7,pitStops:Ve,duration:"10 hours 13 mins"}}const lt=Ve.filter(on=>on.coords&&on.coords.lat&&on.coords.lng);console.log("Valid Waypoints:",lt);const _t=lt.length>0?`&waypoints=${lt.map(on=>`${on.coords.lat},${on.coords.lng}`).join("|")}`:"",gt=`https://maps.googleapis.com/maps/api/directions/json?origin=${ct.lat},${ct.lng}&destination=${nt.lat},${nt.lng}${_t}&key=${Cc}`;console.log("Directions API URL:",gt);const{data:ot}=await Xn.get(gt);if(console.log("Directions API Response:",ot),ot.status!=="OK")throw new Error(`Directions API failed: ${ot.status} - ${ot.error_message||"No error message"}`);const rn=ot.routes[0];if(!rn||!rn.overview_polyline||!rn.overview_polyline.points)throw new Error("Invalid route data: Missing overview_polyline");const Mt=rn.overview_polyline.points;console.log("Encoded Path:",Mt);const Zn=google.maps.geometry.encoding.decodePath(Mt);console.log("Decoded Path:",Zn),_(Zn),g(nt),N(lt);const qt=rn.legs.reduce((on,Rt)=>on+Rt.distance.value/1e3,0),Jt=rn.legs.reduce((on,Rt)=>{var Tt,$t;const Wt=Rt.duration.text,an=parseInt(((Tt=Wt.match(/(\d+)\s+hour/))==null?void 0:Tt[1])||0),dn=parseInt((($t=Wt.match(/(\d+)\s+min/))==null?void 0:$t[1])||0);return on+(an*60+dn)},0);return B(Math.round(qt)),ue(`${Math.floor(Jt/60)} hours ${Jt%60} minutes`),{distance:qt,cost:qt*.1,scenic:lt.some(on=>on.type==="scenic")?.7:.5,safety:.9,pitStops:lt,duration:Jt}}catch(ct){console.error("Route data error:",ct);const nt=`${Ce.toLowerCase()}-${Ne.toLowerCase()}`;if(Hg[nt]){const gt=Hg[nt];return _([gt.origin,...gt.pitStops.map(ot=>ot.coords),gt.destination]),g(gt.destination),N(gt.pitStops),B(gt.distance),ue(`${Math.floor(gt.duration/60)} hours ${gt.duration%60} minutes`),ni.error("Failed to load route data. Showing approximate route."),{distance:gt.distance,cost:gt.distance*.1,scenic:.5,safety:.7,pitStops:gt.pitStops,duration:gt.duration}}const dt={lat:12.9716,lng:77.5946},lt={lat:15.2993,lng:74.124},_t=[dt,lt];return console.log("Setting fallback routeCoords:",_t),_(_t),g(lt),N(Ve),B(560),ue("10 hours 13 minutes"),ni.error("Failed to load route data. Showing approximate locations."),{distance:560,cost:560*.1,scenic:.5,safety:.7,pitStops:Ve,duration:613}}},pe=async(Ce,Ne)=>{try{const Ve=`https://maps.googleapis.com/maps/api/distancematrix/json?origins=${encodeURIComponent(Ce)}&destinations=${encodeURIComponent(Ne)}&key=${Cc}`,{data:Ze}=await Xn.get(Ve);return Ze.rows[0].elements[0].duration.text}catch(Ve){return console.error("Travel time error:",Ve),"Unknown"}},ye=async(Ce,Ne)=>{try{const Ve=`https://maps.googleapis.com/maps/api/timezone/json?location=${Ce},${Ne}&timestamp=${Date.now()/1e3}&key=${Cc}`,{data:Ze}=await Xn.get(Ve);return Ze.timeZoneId}catch(Ve){return console.error("Timezone error:",Ve),"UTC"}},ve=Ce=>{const[Ne,Ve]=Ce.split(":").map(Number);if(isNaN(Ne)||isNaN(Ve)||Ne>23||Ve>59)return Ce;const Ze=new Date;return Ze.setUTCHours(Ne,Ve,0,0),Ze.toLocaleTimeString("en-US",{timeZone:D,hour:"2-digit",minute:"2-digit",hour12:!0})},we=(Ce,Ne)=>{const Ve=Ce>=12?"PM":"AM";return`${Ce%12||12}:${Ne.toString().padStart(2,"0")} ${Ve}`},Ie=(Ce,Ne)=>{const[Ve,Ze]=Ce.split(":").map(Number);let ct=Ce.match(/(AM|PM)/i)[0].toUpperCase(),nt=(Ve%12+(ct==="PM"?12:0))*60+Ze+Ne,dt=Math.floor(nt/60)%24,lt=nt%60;return ct=dt>=12?"PM":"AM",dt=dt%12||12,we(dt,lt)},Me=Ce=>{let Ne={score:1/0};return Ce.forEach(Ve=>{const Ze=Wg.distance*Ve.distance+Wg.cost*Ve.cost+Wg.scenic*Ve.scenic+Wg.safety*Ve.safety;Ze<Ne.score&&(Ne={...Ve,score:Ze})}),Ne},Be=(Ce,Ne)=>{var Ze;if(Ce.toLowerCase().includes("what should i do")){if(Ne.budget==="low")return"Since you're on a budget, how about visiting free local attractions?";if((Ze=Ne.weather)!=null&&Ze.includes("rain"))return"Its raining! Consider indoor activities."}return null},We=S.useCallback(async Ce=>{console.log("Generating itinerary for:",Ce);const Ne=`Youre Joey, a friendly travel assistant. Generate a detailed travel itinerary for: ${JSON.stringify(Ce)}. Return it as JSON with a "trip" object (destination, duration, budget, groupSize, hotelType, interests) and an "itinerary" array (day objects with "day" and "plan" arrays of "time" and "activity"). Include potential routes with distance, cost, scenic value (0-1), and safety (0-1). Tailor activities to interests. No extra text.`,Ze=(await E1.sendMessage(Ne)).response.text();console.log("Raw response:",Ze);try{const ct=ce(Ze);if(console.log("Cleaned JSON:",ct),!ct||ct==="{}")throw new Error("Empty or invalid JSON");const nt=JSON.parse(ct),dt=t.filter(Tt=>Tt.role===ar.USER).map(Tt=>Tt.text.toLowerCase()).join(" ").match(/from\s+([a-zA-Z\s]+)\s+to/),lt=dt?dt[1].trim():"Bengaluru",_t=t.filter(Tt=>Tt.role===ar.USER).map(Tt=>Tt.text.toLowerCase()).join(" ").match(/leaving\s+(?:at\s+)?(\d+\s*(?:am|pm))/i),gt=_t?_t[1]:"5:00 AM",ot=t.filter(Tt=>Tt.role===ar.USER).map(Tt=>Tt.text.toLowerCase()).join(" ").match(/back\s+on\s+(\d+\w+\s+\w+)/i),rn=ot?ot[1]:null,Mt=t.some(Tt=>Tt.role===ar.USER&&Tt.text.toLowerCase().includes("scenic route")),Zn=t.some(Tt=>Tt.role===ar.USER&&Tt.text.toLowerCase().includes("via car")||Tt.text.toLowerCase().includes("own car")),qt=[];for(const Tt of nt.itinerary)for(const $t of Tt.plan){const At=$t.activity.match(/(?:visit|explore|at)\s+([A-Za-z\s]+)(?:\s|$)/i);if(At){const Ut=At[1].trim(),Hn=await J(`${Ut}, ${Ce.destination}, India`);Hn&&qt.push({name:Ut,coords:Hn,type:"itinerary"})}}console.log("Itinerary Locations:",qt);let Jt=[...qt],on="",Rt="",Wt;if(Zn){Wt=await Z(lt,Ce.destination,[],gt);const Tt=Wt.distance,$t=Wt.duration,At=Tt/3;let Ut=0,Hn=gt,yn=[{name:`Point A: ${lt}`,coords:await J(`${lt}, India`),time:gt}],jn=[],Zr=1;const yt="May 16, 2025",er=(await Xn.get(`https://maps.googleapis.com/maps/api/directions/json?origin=${lt},India&destination=${Ce.destination},India&key=${Cc}`)).data.routes[0].legs[0].steps;let Fn=0;for(const Gn of er)if(Fn+=Gn.distance.value/1e3,Fn>=Ut+At&&jn.length<3){const wr=Gn.end_location;Ut=Fn;let gn,fr;jn.length===0?(gn="gas_station",fr="Fuel Stop. Refuel, stretch, and grab a quick snack (20 minutes)."):jn.length===1?(gn="restaurant",fr="Lunch Stop. Have a light meal at a local eatery (45 minutes)."):(gn="tourist_attraction",fr="Scenic Stop. Enjoy the views and take a break (30 minutes).");const Sn=await se(wr,gn);if(Sn){const zr=gn==="restaurant"?45:gn==="tourist_attraction"?30:20,ai=Math.round(Ut/Tt*$t);Hn=Ie(Hn,ai),jn.push({name:`${gn==="gas_station"?"Fuel Stop":gn==="restaurant"?"Lunch Stop":"Scenic Stop"} - ${Sn.name}`,coords:Sn.coords,time:Hn,type:Sn.type}),yn.push({name:`Point ${String.fromCharCode(66+Zr++)}: ${Sn.name}`,coords:Sn.coords,time:Hn}),Hn=Ie(Hn,zr)}}const tr=Ie(gt,$t+jn.reduce((Gn,wr)=>Gn+(wr.type==="lunch"?45:wr.type==="scenic"?30:20),0));yn.push({name:`Destination: ${Ce.destination}`,coords:await J(`${Ce.destination}, India`),time:tr}),Jt=[...jn,...qt],Wt=await Z(lt,Ce.destination,Jt,gt),Rt=`

 **Route from ${lt} to ${Ce.destination}**
`,Rt+=`**Departure**: ${gt} on ${yt} from ${lt} (Point A)
`,Rt+=`**Route Overview**: Follow the recommended route with stops for fuel, lunch, and a scenic break.
`,Rt+=`**Total Distance**: ~${Math.round(Tt)} km
`,Rt+=`**Total Duration**: ~${Math.floor($t/60)} hours ${$t%60} minutes (including stops)

`,Rt+=`**Point-to-Point Route**:
`;for(let Gn=0;Gn<yn.length-1;Gn++){const wr=yn[Gn],gn=yn[Gn+1],fr=Tt/(yn.length-1),Sn=Math.round(fr/Tt*$t);Rt+=`- **${wr.name} to ${gn.name}**: Depart at ${wr.time}, drive ~${Math.round(fr)} km (~${Math.floor(Sn/60)} hours ${Sn%60} minutes). Arrive by ${gn.time}.
`;const zr=jn.find(ai=>ai.time===gn.time);if(zr){const ai=zr.type==="fuel"?"Fuel Stop. Refuel, stretch, and grab a quick snack (20 minutes).":zr.type==="lunch"?"Lunch Stop. Have a light meal at a local eatery (45 minutes).":"Scenic Stop. Enjoy the views and take a break (30 minutes).";Rt+=`  - **Pit Stop ${Gn+1} (${gn.time})**: ${ai}
`}}const Us=Tt/12*100;Rt+=`
**Car Travel Notes**: Since you're using your own car, ensure it's serviced. Fuel costs: ~${Math.round(Us)} (12 km/l, 100/l). Carry a spare tire and toolkit. May weather can be hot (30-35C); ensure your AC works and carry water and sunscreen.
`;const es=tr;nt.itinerary=[{day:"Day 1 - May 16",plan:[{time:`Afternoon (${es})`,activity:`Check into a mid-range hotel in ${Ce.destination}. Quick rest after the long drive.`},{time:`Evening (${Ie(es,75)})`,activity:`Dinner at a local restaurant in ${Ce.destination}. Try local cuisine.`}]},{day:"Day 2 - May 17",plan:[{time:"Morning (9:00 AM)",activity:"Visit a local cultural site or landmark."},{time:"Afternoon (1:00 PM)",activity:"Lunch at a nearby restaurant, trying local dishes."},{time:"Afternoon (3:00 PM)",activity:"Explore a scenic attraction or market."},{time:"Evening (6:00 PM)",activity:"Sunset views at a popular spot, followed by dinner."}]},{day:"Day 3 - May 18",plan:[{time:"Morning (5:00 AM)",activity:`Depart from ${Ce.destination} for ${lt}.`},{time:"Morning (7:30 AM)",activity:"Fuel Stop en route. Quick refuel and stretch (20 minutes)."},{time:"Afternoon (12:20 PM)",activity:"Lunch Stop en route. Light meal at a local eatery (45 minutes)."},{time:`Evening (${tr})`,activity:`Arrive back in ${lt} after a ~${Math.round(Tt)} km drive (~${Math.floor($t/60)} hours ${$t%60} minutes including stops).`}]}]}else Wt=await Z(lt,Ce.destination,Jt);if(C(Jt),Wt){nt.routes=nt.routes||[],nt.routes.push(Wt);const Tt=Me(nt.routes);nt.optimizedRoute=Tt}else on=`
Couldnt load route data. You can still view the itinerary below or click 'Show Route' to see approximate locations.`;const an=Wt.duration?`${Math.floor(Wt.duration/60)} hours ${Wt.duration%60} minutes`:await pe(lt,Ce.destination);j(an),h(nt.trip);let dn=fe(nt);return dn+=`
Travel Time: ${an}`,Jt.length>0&&(dn+=`
Stops: ${Jt.map(Tt=>Tt.name).join(", ")}.`),dn+=on,dn+=Rt,{role:ar.JOEY,text:dn}}catch(ct){console.error("Itinerary Error:",ct,"Raw:",Ze);try{const nt=ce(Ze);if(nt&&nt!=="{}"){const dt=JSON.parse(nt);h(dt.trip||{});let lt=fe(dt);return lt+=`
Travel Time: Unavailable due to network issues.`,dt.routes&&dt.routes.length>0&&(lt+=`
Routes: ${dt.routes.map(_t=>`${_t.route}: ${_t.distance}km`).join(", ")}.`),{role:ar.JOEY,text:lt}}}catch(nt){console.error("Fallback parsing error:",nt)}return ni.error("Failed to generate itinerary. Please try again."),{role:ar.JOEY,text:"I couldnt generate the itinerary due to a network issue. Please try again!"}}},[m,D,t]),ft=S.useCallback(async(Ce,Ne)=>{const Ve=Ce.toLowerCase(),Ze=Ne.map(lt=>`${lt.role===ar.USER?"You":"Joey"}: ${lt.text}`).join(`
`);if(!u&&(Ve.includes("plan a trip")||Ve.includes("itinerary")))return f(!0),{role:ar.JOEY,text:"Awesome! Lets plan your trip. Where are you headed?"};if(Ve.includes("forget")||Ve.includes("already planning"))return f(!0),{role:ar.JOEY,text:"My mistake! Where are we planning to go now?"};const ct=`Extract from:
${Ze}
User: "${Ce}"
Return JSON with "destination", "duration", "budget", "groupSize", "hotelType", "interests" (array). Do not use defaults unless explicitly mentioned. If a field is missing, return it as null.`,dt=(await E1.sendMessage(ct)).response.text();try{const lt=JSON.parse(ce(dt));return console.log("Extracted details:",lt),lt.destination?lt.destination&&lt.budget&&lt.groupSize&&lt.duration?(lt.hotelType=lt.hotelType||"mid-range",lt.interests=lt.interests&&lt.interests.length>0?lt.interests:["culture","food"],f(!1),await We(lt)):{role:ar.JOEY,text:`Cool, we're planning for ${lt.destination||"somewhere"}! Can you share more details like your budget, how many people are going, and how long youll stay?`}:{role:ar.JOEY,text:"Got it! Where are you planning to travel?"}}catch(lt){return console.error("Details Extraction Error:",lt,"Raw:",dt),{role:ar.JOEY,text:"Im having trouble understanding the details. Could you clarify where youre going, your budget, group size, and trip duration?"}}},[u,We,m]),Te=S.useCallback(async Ce=>{var rn;const Ne=Ce.map(Mt=>`${Mt.role===ar.USER?"You":"Joey"}: ${Mt.text}`).join(`
`),Ve=i.toLowerCase(),Ze=Ne.match(/from\s+([a-zA-Z\s]+)\s+to\s+([a-zA-Z\s]+)/i),ct=Ne.toLowerCase().includes("via car")||Ne.toLowerCase().includes("own car"),nt=Ne.match(/leaving\s+(?:at\s+)?(\d+\s*(?:am|pm))/i);nt&&nt[1];const dt=Ne.match(/back\s+on\s+(\d+\w+\s+\w+)/i),lt=dt?dt[1]:null;if(Ve.includes("route")&&Ze&&ct){Ze[1].trim();const Zn={destination:Ze[2].trim(),duration:lt?`from May 16, 2025 to ${lt}`:"Not specified",budget:null,groupSize:null,hotelType:"mid-range",interests:["culture","food"]};return await We(Zn)}const _t=Be(i,{...d,weather:(rn=Ne.match(/weather.*(\w+)/i))==null?void 0:rn[1]});if(_t)return{role:ar.JOEY,text:_t};const gt=`Youre Joey. Respond to:
${Ne}
User: "${i}"
Give travel advice with context.`,ot=await E1.sendMessage(gt);return{role:ar.JOEY,text:ot.response.text()}},[i,d,We]),me=S.useCallback(async()=>{if(!i.trim())return;const Ce={role:ar.USER,text:i};r(Ne=>[...Ne,Ce]),s(""),a(!0);try{const Ne=i.toLowerCase();let Ve;if(t.length===0&&(Ne.includes("hi")||Ne.includes("hello")))Ve={role:ar.JOEY,text:"Hi! Im Joey, your travel buddy. Ready to plan?"};else if(Ne.includes("weather")||Ne.includes("forecast")){const Ze=i.match(/(?:weather|forecast)\s+(?:in|for)\s+(\w+)/i)||["","Paris"];if(Ve=await ne(Ze[1]||"Paris"),Ne.includes("forecast")){const ct=await z(Ze[1]||"Paris");Ve.text+=`
Daily Forecast: ${ct.map(nt=>`${nt.date}: ${nt.description}, ${nt.temp}C`).join(" | ")}`}}else if(Ne.includes("route")&&Ne.match(/from\s+(\w+)\s+to\s+(\w+)/i)){const[Ze,ct,nt]=Ne.match(/from\s+(\w+)\s+to\s+(\w+)/i),dt=await Z(ct,nt),lt=await pe(ct,nt);j(lt),Ve={role:ar.JOEY,text:`Travel Time: ${lt}.`}}else Ve=u||Ne.includes("plan a trip")||Ne.includes("itinerary")?await ft(i,[...t,Ce]):await Te([...t,Ce]);r(Ze=>[...Ze,Ve])}catch(Ne){console.error("Chat Error:",Ne),r(Ve=>[...Ve,{role:ar.JOEY,text:"Oops! Try again."}])}finally{a(!1)}},[i,t,u,ft,Te]),St=()=>{r([]),s(""),f(!1),h({}),g({lat:0,lng:0}),_([]),C([]),j(null),$(""),R(!1),N([]),O(null),B(0),ue(""),le(null)},vt=()=>{if(!t.length){r([{role:ar.JOEY,text:"Nothing to save yet!"}]);return}const Ce=new zt;Ce.setFontSize(16),Ce.text(`Joey Travel Chat - ${new Date().toLocaleDateString()}`,10,10);let Ne=20;t.forEach(Ve=>{const Ze=`${Ve.role===ar.USER?"You":"Joey"}: `,ct=Ce.splitTextToSize(Ze+Ve.text,180);Ce.setFontSize(12),Ce.text(ct,10,Ne),Ne+=ct.length*7,Ne>280&&(Ce.addPage(),Ne=10)}),Ce.save(`Joey_Chat_${new Date().toISOString().split("T")[0]}.pdf`)},Je=Ce=>{if(te.current=Ce,w.length>0){const Ne=new window.google.maps.LatLngBounds;w.forEach(Ve=>Ne.extend(Ve)),I.forEach(Ve=>{Ve.coords&&Ne.extend(Ve.coords)}),Ce.fitBounds(Ne)}},st=Ce=>{switch(Ce){case"scenic":return{url:"http://maps.google.com/mapfiles/ms/icons/orange-dot.png",scaledSize:new window.google.maps.Size(32,32)};case"itinerary":return{url:"http://maps.google.com/mapfiles/ms/icons/yellow-dot.png",scaledSize:new window.google.maps.Size(32,32)};case"fuel":case"lunch":return{url:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png",scaledSize:new window.google.maps.Size(32,32)};default:return{url:"http://maps.google.com/mapfiles/ms/icons/red-dot.png",scaledSize:new window.google.maps.Size(32,32)}}};return F.jsx(M2,{open:n,onOpenChange:e,children:F.jsxs(Mv,{className:"sm:max-w-lg w-full p-6 bg-white dark:bg-gray-900 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700",children:[F.jsx(Dv,{children:F.jsxs(jv,{className:"flex items-center gap-2 text-xl font-bold text-gray-900 dark:text-white",children:[F.jsx(NP,{className:"h-6 w-6 text-indigo-600 dark:text-indigo-400"}),"Joey - Your Travel Buddy"]})}),F.jsxs("div",{className:"h-80 overflow-y-auto p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[t.length===0?F.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center text-sm italic",children:"Im Joey! Ask about trips, weather, routes, or attractions!"}):t.map((Ce,Ne)=>F.jsxs("div",{className:`mb-4 p-3 rounded-lg max-w-[85%] ${Ce.role===ar.USER?"ml-auto bg-indigo-600 text-white":"mr-auto bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-100"} shadow-md`,children:[F.jsxs("span",{className:"font-medium text-sm",children:[Ce.role===ar.USER?"You":"Joey",":"]})," ",F.jsx("span",{className:"text-sm",style:{whiteSpace:"pre-wrap"},children:Ce.text})]},Ne)),o&&F.jsxs("div",{className:"flex items-center justify-center text-gray-500 dark:text-gray-400",children:[F.jsx(G7,{className:"h-5 w-5 animate-spin mr-2"}),"Thinking..."]})]}),w.length>0&&F.jsxs(Br,{onClick:()=>R(!0),className:"mt-4 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 dark:bg-indigo-600 dark:hover:bg-indigo-500 transition-colors",children:[F.jsx(J7,{className:"h-5 w-5 mr-2"}),"Show Route"]}),F.jsx(M2,{open:H,onOpenChange:R,children:F.jsxs(Mv,{className:"sm:max-w-4xl",children:[F.jsx(Dv,{children:F.jsx(jv,{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Route Map"})}),F.jsxs("div",{className:"relative",children:[F.jsx(yT,{googleMapsApiKey:Cc,libraries:["geometry"],onError:()=>{O("Failed to load map. Check your API key."),ni.error("Failed to load map. Check your API key.")},children:F.jsxs(CU,{mapContainerStyle:Zz,center:m,zoom:7,options:{styles:e$.dark},onLoad:Je,className:"google-map rounded-lg shadow-md",children:[w.length>0&&F.jsx(CT,{path:w,options:{strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:4}}),w.length>0&&F.jsx(mv,{position:w[0],label:{text:"Start",color:"#FFFFFF",fontSize:"14px",fontWeight:"bold"},icon:{url:"http://maps.google.com/mapfiles/ms/icons/green-dot.png",scaledSize:new window.google.maps.Size(32,32)},onClick:()=>le({position:w[0],label:"Start"})}),w.length>0&&F.jsx(mv,{position:w[w.length-1],label:{text:"End",color:"#FFFFFF",fontSize:"14px",fontWeight:"bold"},icon:{url:"http://maps.google.com/mapfiles/ms/icons/red-dot.png",scaledSize:new window.google.maps.Size(32,32)},onClick:()=>le({position:w[w.length-1],label:"End"})}),I.map((Ce,Ne)=>Ce.coords&&F.jsx(mv,{position:Ce.coords,label:{text:`${Ce.name.split(" - ")[0]} (${Ce.time})`,color:Ce.type==="scenic"?"#FF4500":Ce.type==="itinerary"?"#FFD700":"#FFFFFF",fontSize:"12px",fontWeight:"bold"},icon:st(Ce.type),onClick:()=>le({position:Ce.coords,label:`${Ce.name} (${Ce.time})`})},Ne)),ae&&F.jsx(ET,{position:ae.position,onCloseClick:()=>le(null),children:F.jsx("div",{className:"text-sm text-gray-800",children:ae.label})})]})}),F.jsxs("div",{className:"absolute top-4 left-4 bg-white dark:bg-gray-800 p-4 rounded-lg shadow-md",children:[F.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Route Info"}),F.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Distance: ",P," km"]}),F.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Duration: ",Y]}),F.jsx("h4",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"Legend"}),F.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[F.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),F.jsx("span",{className:"text-xs text-gray-700 dark:text-gray-300",children:"Start"})]}),F.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[F.jsx("div",{className:"w-4 h-4 bg-red-500 rounded-full"}),F.jsx("span",{className:"text-xs text-gray-700 dark:text-gray-300",children:"End"})]}),F.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[F.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full"}),F.jsx("span",{className:"text-xs text-gray-700 dark:text-gray-300",children:"Fuel/Lunch Stop"})]}),F.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[F.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded-full"}),F.jsx("span",{className:"text-xs text-gray-700 dark:text-gray-300",children:"Scenic Stop"})]}),F.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[F.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded-full"}),F.jsx("span",{className:"text-xs text-gray-700 dark:text-gray-300",children:"Itinerary Stop"})]})]}),W&&F.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm mt-2",children:W})]})]})}),F.jsxs("div",{className:"mt-4 space-y-4",children:[F.jsxs("div",{className:"flex gap-2",children:[F.jsx(Ic,{value:i,onChange:Ce=>s(Ce.target.value),placeholder:"Ask me anything...",onKeyPress:Ce=>Ce.key==="Enter"&&me(),disabled:o,className:"flex-1 bg-gray-100 dark:bg-gray-800 border-gray-300 dark:border-gray-600 focus:ring-indigo-500 dark:focus:ring-indigo-400 rounded-lg text-gray-800 dark:text-gray-100"}),F.jsx(Br,{onClick:me,disabled:o||!i.trim(),className:"bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 dark:bg-indigo-600 dark:hover:bg-indigo-500 transition-colors disabled:opacity-50",children:F.jsx(eF,{className:"h-5 w-5"})})]}),F.jsxs("div",{className:"flex gap-2",children:[F.jsxs(Br,{onClick:St,variant:"outline",className:"flex-1 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:[F.jsx(Z7,{className:"h-5 w-5 mr-2"}),"New Chat"]}),F.jsxs(Br,{onClick:vt,variant:"outline",className:"flex-1 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:[F.jsx(W7,{className:"h-5 w-5 mr-2"}),"Save as PDF"]})]})]}),F.jsx(f4,{asChild:!0,children:F.jsx(Br,{variant:"outline",className:"mt-4 w-full border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:"Close Chat"})})]})})}function Of({heroRef:n}){const{isAuthenticated:e}=S.useContext(Ho),[t,r]=S.useState(!1),i=[{name:"Chichen Itza",src:"/hero/chichen.webp",link:"https://en.wikipedia.org/wiki/Chichen_Itza"},{name:"Venkateswara Temple",src:"/hero/tirupati.png",link:"https://en.wikipedia.org/wiki/Venkateswara_Temple,_Tirumala"},{name:"Christ the Redeemer",src:"/hero/christ.webp",link:"https://en.wikipedia.org/wiki/Christ_the_Redeemer_(statue)"},{name:"Colosseum",src:"/hero/colosseum.webp",link:"https://en.wikipedia.org/wiki/Colosseum"},{name:"Great Pyramid of Giza",src:"/hero/giza.webp",link:"https://en.wikipedia.org/wiki/Great_Pyramid_of_Giza"},{name:"Machu Picchu",src:"/hero/peru.webp",link:"https://en.wikipedia.org/wiki/Machu_Picchu"},{name:"Taj Mahal",src:"/hero/taj.webp",link:"https://en.wikipedia.org/wiki/Taj_Mahal"},{name:"India Gate",src:"/hero/india.webp",link:"https://en.wikipedia.org/wiki/India_Gate"},{name:"Great Wall of China",src:"/hero/wall.webp",link:"https://en.wikipedia.org/wiki/Great_Wall_of_China"},{name:"Eiffel Tower",src:"/hero/tower.webp",link:"https://en.wikipedia.org/wiki/Eiffel_Tower"},{name:"Statue of Liberty",src:"/hero/liberty.webp",link:"https://en.wikipedia.org/wiki/Statue_of_Liberty"},{name:"Sydney Opera House",src:"/hero/sydney.webp",link:"https://en.wikipedia.org/wiki/Sydney_Opera_House"},{name:"Mount Everest",src:"/hero/everest.webp",link:"https://en.wikipedia.org/wiki/Mount_Everest"},{name:"Stonehenge",src:"/hero/stonehenge.webp",link:"https://en.wikipedia.org/wiki/Stonehenge"}],s=i.slice(0,i.length/2),o=i.slice(i.length/2);return F.jsxs("div",{ref:n,className:"flex items-center flex-col text-center justify-center min-h-screen py-10",children:[F.jsxs("div",{className:"text px-10 md:px-40 flex flex-col items-center justify-center gap-4",children:[F.jsxs("div",{className:"heading p-2 md:py-5",children:[F.jsxs("h1",{className:"font-black text-3xl md:text-5xl bg-gradient-to-b from-primary/90 to-primary/60 bg-clip-text text-transparent",children:["Embark on Electrifying ",F.jsx("br",{})," Adventures with"]}),F.jsx("h1",{className:"font-black text-5xl md:text-9xl bg-gradient-to-b from-blue-400 to-blue-700 bg-clip-text text-center text-transparent pb-4",children:"Aurora Go"})]}),F.jsx("div",{className:"desc",children:F.jsx("h5",{className:"opacity-90 mx-auto text-center text-lg font-medium tracking-tight text-primary/80 md:text-xl",children:"Your trusted trip planner and adventure guide."})}),F.jsxs("div",{className:"buttons flex flex-col gap-3 md:flex-row",children:[F.jsx(ya,{to:"/plan-a-trip",children:F.jsx(Br,{className:"",children:e?"Let's Make Another Trip":"Plan a Trip, It's Free"})}),F.jsxs(Br,{variant:"outline",onClick:()=>r(!0),className:"flex items-center gap-2",children:[F.jsx(NP,{className:"h-5 w-5"})," Chat with Joey"]})]}),F.jsxs("div",{className:"marquee relative flex w-[75vw] flex-col items-center justify-center overflow-hidden rounded-lg bg-background",children:[F.jsx(Qx,{reverse:!0,pauseOnHover:!0,className:"[--duration:60s]",children:o.map((a,u)=>F.jsx(ya,{to:a.link,target:"_blank",rel:"noopener noreferrer",className:"img cursor-pointer border hover:border-foreground transition-all overflow-hidden rounded-md w-[200px] md:w-[250px]",children:F.jsx("img",{src:a.src,alt:a.name,className:"h-full hover:scale-110 duration-300",loading:"lazy",role:"presentation",fetchpriority:"high"})},u))}),F.jsx(Qx,{pauseOnHover:!0,className:"[--duration:60s]",children:s.map((a,u)=>F.jsx(ya,{to:a.link,target:"_blank",rel:"noopener noreferrer",className:"img cursor-pointer border hover:border-foreground transition-all overflow-hidden rounded-md w-[200px] md:w-[250px]",children:F.jsx("img",{src:a.src,alt:a.name,className:"h-full hover:scale-110 duration-300",loading:"lazy",role:"presentation",fetchPriority:"high"})},u))}),F.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 w-1/3 bg-gradient-to-r from-white dark:from-background"}),F.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 w-1/3 bg-gradient-to-l from-white dark:from-background"})]})]}),F.jsx(TT,{open:t,onOpenChange:r})]})}var z1={},Np={},$1={exports:{}},q1,uC;function t$(){if(uC)return q1;uC=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return q1=n,q1}var W1,cC;function n$(){if(cC)return W1;cC=1;var n=t$();function e(){}function t(){}return t.resetWarningCache=e,W1=function(){function r(o,a,u,f,d,h){if(h!==n){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},W1}var fC;function IT(){return fC||(fC=1,$1.exports=n$()()),$1.exports}var Gg={},Mf={},dC;function r$(){if(dC)return Mf;dC=1,Object.defineProperty(Mf,"__esModule",{value:!0}),Mf.loadGoogleMapScript=Mf.isBrowser=void 0;var n=typeof window<"u"&&window.document;Mf.isBrowser=n;var e=function(r,i){if(!n||typeof google<"u"&&google.maps&&google.maps.api)return Promise.resolve();var s=document.querySelectorAll('script[src*="'.concat(r,'"]'));if(s&&s.length)return new Promise(function(u){if(typeof google<"u")return u();s[0].addEventListener("load",function(){return u()})});var o=new URL(i);o.searchParams.set("callback","__REACT_GOOGLE_AUTOCOMPLETE_CALLBACK__");var a=document.createElement("script");return a.src=o.toString(),new Promise(function(u){window.__REACT_GOOGLE_AUTOCOMPLETE_CALLBACK__=u,document.body.appendChild(a)})};return Mf.loadGoogleMapScript=e,Mf}var Rp={},hC;function i$(){if(hC)return Rp;hC=1,Object.defineProperty(Rp,"__esModule",{value:!0}),Rp.GOOGLE_MAP_SCRIPT_BASE_URL=void 0;var n="https://maps.googleapis.com/maps/api/js";return Rp.GOOGLE_MAP_SCRIPT_BASE_URL=n,Rp}var pC;function NT(){if(pC)return Gg;pC=1;function n(m){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(w){return typeof w}:n=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},n(m)}Object.defineProperty(Gg,"__esModule",{value:!0}),Gg.default=h;var e=s(Nm()),t=r$(),r=i$();function i(m){if(typeof WeakMap!="function")return null;var g=new WeakMap,w=new WeakMap;return(i=function(x){return x?w:g})(m)}function s(m,g){if(m&&m.__esModule)return m;if(m===null||n(m)!=="object"&&typeof m!="function")return{default:m};var w=i(g);if(w&&w.has(m))return w.get(m);var _={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in m)if(C!=="default"&&Object.prototype.hasOwnProperty.call(m,C)){var L=x?Object.getOwnPropertyDescriptor(m,C):null;L&&(L.get||L.set)?Object.defineProperty(_,C,L):_[C]=m[C]}return _.default=m,w&&w.set(m,_),_}function o(m,g){var w=Object.keys(m);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(m);g&&(_=_.filter(function(x){return Object.getOwnPropertyDescriptor(m,x).enumerable})),w.push.apply(w,_)}return w}function a(m){for(var g=1;g<arguments.length;g++){var w=arguments[g]!=null?arguments[g]:{};g%2?o(Object(w),!0).forEach(function(_){u(m,_,w[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(w)):o(Object(w)).forEach(function(_){Object.defineProperty(m,_,Object.getOwnPropertyDescriptor(w,_))})}return m}function u(m,g,w){return g in m?Object.defineProperty(m,g,{value:w,enumerable:!0,configurable:!0,writable:!0}):m[g]=w,m}function f(m,g){if(m==null)return{};var w=d(m,g),_,x;if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(m);for(x=0;x<C.length;x++)_=C[x],!(g.indexOf(_)>=0)&&Object.prototype.propertyIsEnumerable.call(m,_)&&(w[_]=m[_])}return w}function d(m,g){if(m==null)return{};var w={},_=Object.keys(m),x,C;for(C=0;C<_.length;C++)x=_[C],!(g.indexOf(x)>=0)&&(w[x]=m[x]);return w}function h(m){var g=m.ref,w=m.onPlaceSelected,_=m.apiKey,x=m.libraries,C=x===void 0?"places":x,L=m.inputAutocompleteValue,j=L===void 0?"new-password":L,D=m.options;D=D===void 0?{}:D;var $=D.types,H=$===void 0?["(cities)"]:$,R=D.componentRestrictions,I=D.fields,N=I===void 0?["address_components","geometry.location","place_id","formatted_address"]:I,W=D.bounds,O=f(D,["types","componentRestrictions","fields","bounds"]),P=m.googleMapsScriptBaseUrl,B=P===void 0?r.GOOGLE_MAP_SCRIPT_BASE_URL:P,Y=m.language,ue=(0,e.useRef)(null),ae=(0,e.useRef)(null),le=(0,e.useRef)(null),te=Y?"&language=".concat(Y):"",ce="".concat(B,"?libraries=").concat(C,"&key=").concat(_).concat(te),fe=(0,e.useCallback)(function(){return(0,t.loadGoogleMapScript)(B,ce)},[B,ce]);return(0,e.useEffect)(function(){var ne=a(a({},O),{},{fields:N,types:H,bounds:W});if(R&&(ne.componentRestrictions=R),!(le.current||!ue.current||!t.isBrowser)){g&&!g.current&&(g.current=ue.current);var z=function(){var se;if(typeof google>"u")return console.error("Google has not been found. Make sure your provide apiKey prop.");if(!((se=google.maps)!==null&&se!==void 0&&se.places))return console.error("Google maps places API must be loaded.");if(!(ue.current instanceof HTMLInputElement))return console.error("Input ref must be HTMLInputElement.");le.current=new google.maps.places.Autocomplete(ue.current,ne),le.current&&(ae.current=le.current.addListener("place_changed",function(){w&&le&&le.current&&w(le.current.getPlace(),ue.current,le.current)}))};return _?fe().then(function(){return z()}):z(),function(){return ae.current?ae.current.remove():void 0}}},[]),(0,e.useEffect)(function(){if(t.isBrowser&&window.MutationObserver&&ue.current&&ue.current instanceof HTMLInputElement){var ne=new MutationObserver(function(){ne.disconnect(),ue.current&&(ue.current.autocomplete=j)});return ne.observe(ue.current,{attributes:!0,attributeFilter:["autocomplete"]}),function(){ne.disconnect()}}},[j]),(0,e.useEffect)(function(){le.current&&le.current.setFields(N)},[N]),(0,e.useEffect)(function(){le.current&&le.current.setBounds(W)},[W]),(0,e.useEffect)(function(){le.current&&le.current.setComponentRestrictions(R)},[R]),(0,e.useEffect)(function(){le.current&&le.current.setOptions(O)},[O]),{ref:ue,autocompleteRef:le}}return Gg}var mC;function s$(){if(mC)return Np;mC=1;function n(m){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(w){return typeof w}:n=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},n(m)}Object.defineProperty(Np,"__esModule",{value:!0}),Np.default=void 0;var e=o(Nm()),t=i(IT()),r=i(NT());function i(m){return m&&m.__esModule?m:{default:m}}function s(m){if(typeof WeakMap!="function")return null;var g=new WeakMap,w=new WeakMap;return(s=function(x){return x?w:g})(m)}function o(m,g){if(m&&m.__esModule)return m;if(m===null||n(m)!=="object"&&typeof m!="function")return{default:m};var w=s(g);if(w&&w.has(m))return w.get(m);var _={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in m)if(C!=="default"&&Object.prototype.hasOwnProperty.call(m,C)){var L=x?Object.getOwnPropertyDescriptor(m,C):null;L&&(L.get||L.set)?Object.defineProperty(_,C,L):_[C]=m[C]}return _.default=m,w&&w.set(m,_),_}function a(){return a=Object.assign||function(m){for(var g=1;g<arguments.length;g++){var w=arguments[g];for(var _ in w)Object.prototype.hasOwnProperty.call(w,_)&&(m[_]=w[_])}return m},a.apply(this,arguments)}function u(m,g){if(m==null)return{};var w=f(m,g),_,x;if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(m);for(x=0;x<C.length;x++)_=C[x],!(g.indexOf(_)>=0)&&Object.prototype.propertyIsEnumerable.call(m,_)&&(w[_]=m[_])}return w}function f(m,g){if(m==null)return{};var w={},_=Object.keys(m),x,C;for(C=0;C<_.length;C++)x=_[C],!(g.indexOf(x)>=0)&&(w[x]=m[x]);return w}function d(m){var g=m.onPlaceSelected,w=m.apiKey,_=m.libraries,x=m.inputAutocompleteValue,C=m.options,L=m.googleMapsScriptBaseUrl,j=m.refProp,D=m.language,$=u(m,["onPlaceSelected","apiKey","libraries","inputAutocompleteValue","options","googleMapsScriptBaseUrl","refProp","language"]),H=(0,r.default)({ref:j,googleMapsScriptBaseUrl:L,onPlaceSelected:g,apiKey:w,libraries:_,inputAutocompleteValue:x,options:C,language:D}),R=H.ref;return e.default.createElement("input",a({ref:R},$))}d.propTypes={apiKey:t.default.string,libraries:t.default.arrayOf(t.default.string),ref:t.default.oneOfType([t.default.func,t.default.shape({current:t.default.any})]),googleMapsScriptBaseUrl:t.default.string,onPlaceSelected:t.default.func,inputAutocompleteValue:t.default.string,options:t.default.shape({componentRestrictions:t.default.object,bounds:t.default.object,location:t.default.object,offset:t.default.number,origin:t.default.object,radius:t.default.number,sessionToken:t.default.object,types:t.default.arrayOf(t.default.string)}),language:t.default.string};var h=(0,e.forwardRef)(function(m,g){return e.default.createElement(d,a({},m,{refProp:g}))});return Np.default=h,Np}var gC;function o$(){return gC||(gC=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"usePlacesWidget",{enumerable:!0,get:function(){return t.default}});var e=r(s$()),t=r(NT());function r(i){return i&&i.__esModule?i:{default:i}}}(z1)),z1}var H1,vC;function a$(){return vC||(vC=1,H1=o$()),H1}var l$=a$();const u$=yd(l$),yC=[{id:1,icon:"",title:"Cheap",desc:"Economize and Save"},{id:2,icon:"",title:"Moderate",desc:"Balance Cost and Comfort"},{id:3,icon:"",title:"Luxury",desc:"Indulge without Limits"}],wC=[{id:1,icon:"",title:"Solo",desc:"Discovering on Your Own",no:"1 Person"},{id:2,icon:"",title:"Partner",desc:"Exploring with a Loved One",no:"2 People"},{id:3,icon:"",title:"Family",desc:"Fun for All Ages",no:"3 to 5 People"},{id:4,icon:"",title:"Friends",desc:"Adventure with Your Crew",no:"5 to 10 People"}],c$="Create an optimal trip itinerary based on the specified location, duration, budget, number of persons, preferences, and pace. Generate Travel Plan for Location: {location} for no of days: {noOfDays} Days with no of People or group: {People} with Total Budget: {Budget} (where Budget is the total for the entire group), Preferences: {preferences}, and Pace: {pace} (Relaxed: 1-2 activities/day, Moderate: 3-4 activities/day, Packed: 5-6 activities/day); give me a list of hotels with hotel name, description, address, rating, price, location in map, coordinates (latitude, longitude), image url; also create the itinerary for {noOfDays} days, suggest places, give name, details, pricing, timings, place image urls, location coordinates (latitude, longitude); ensure activities are scheduled to minimize travel time between locations; all must fit within the {Budget} total budget and align with the specified preferences: {preferences} and pace: {pace}. Important: give the result in JSON Format";var RT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_C=Yi.createContext&&Yi.createContext(RT),f$=["attr","size","title"];function d$(n,e){if(n==null)return{};var t=h$(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function h$(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Xv(){return Xv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Xv.apply(this,arguments)}function bC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Qv(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bC(Object(t),!0).forEach(function(r){p$(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function p$(n,e,t){return e=m$(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function m$(n){var e=g$(n,"string");return typeof e=="symbol"?e:e+""}function g$(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function OT(n){return n&&n.map((e,t)=>Yi.createElement(e.tag,Qv({key:t},e.attr),OT(e.child)))}function P5(n){return e=>Yi.createElement(v$,Xv({attr:Qv({},n.attr)},e),OT(n.child))}function v$(n){var e=t=>{var{attr:r,size:i,title:s}=n,o=d$(n,f$),a=i||t.size||"1em",u;return t.className&&(u=t.className),n.className&&(u=(u?u+" ":"")+n.className),Yi.createElement("svg",Xv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:u,style:Qv(Qv({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Yi.createElement("title",null,s),n.children)};return _C!==void 0?Yi.createElement(_C.Consumer,null,t=>e(t)):e(RT)}function y$(n){return P5({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(n)}function w$(n){return P5({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-80.8 108.9L531.7 514.4c-7.8 6.1-18.7 6.1-26.5 0L189.6 268.9A7.2 7.2 0 0 1 194 256h648.8a7.2 7.2 0 0 1 4.4 12.9z"},child:[]}]})(n)}function _$(n){return P5({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 1024c-69.1 0-136.2-13.5-199.3-40.2C251.7 958 197 921 150 874c-47-47-84-101.7-109.8-162.7C13.5 648.2 0 581.1 0 512c0-19.9 16.1-36 36-36s36 16.1 36 36c0 59.4 11.6 117 34.6 171.3 22.2 52.4 53.9 99.5 94.3 139.9 40.4 40.4 87.5 72.2 139.9 94.3C395 940.4 452.6 952 512 952c59.4 0 117-11.6 171.3-34.6 52.4-22.2 99.5-53.9 139.9-94.3 40.4-40.4 72.2-87.5 94.3-139.9C940.4 629 952 571.4 952 512c0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.2C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3s-13.5 136.2-40.2 199.3C958 772.3 921 827 874 874c-47 47-101.8 83.9-162.7 109.7-63.1 26.8-130.2 40.3-199.3 40.3z"},child:[]}]})(n)}const b$="AIzaSyBSeSG4hhcT-w5s2bXzurb1kCJxazhlxqM",x$=new w4(b$),S$=x$.getGenerativeModel({model:"gemini-1.5-flash"}),E$={temperature:1,topP:.95,topK:40,maxOutputTokens:8192,responseMimeType:"application/json"},C$=S$.startChat({generationConfig:E$,history:[{role:"user",parts:[{text:"Create an optimal trip itinerary based on the specified location, duration, budget, and number of persons. Generate Travel Plan for Location: {Bhopal} for no of days: {3} Days with no of People or group: {4-5} with Budget: {Luxury}; give me list of hotels with hotel name, description, address, rating, price, location in map, coordinates, image url; also for the same create the itinerary for {4-5} days, suggest places, give name, details, pricing, timings, place images urls, location (coordinate or in map); Remember all have to cover in the {Luxury} level budget. Important: give the result in JSON Format"}]},{role:"model",parts:[{text:`\`\`\`json
{
  "location": "Bhopal",
  "duration": 3,
  "budget": "Luxury",
  "people": 4,
  "hotels": [
    {
      "name": "Jehan Numa Palace Hotel",
      "description": "A heritage hotel with opulent rooms, a sprawling garden, and a rooftop pool offering panoramic views of the city.",
      "address": "1, Shamla Hills, Near Van Vihar National Park, Bhopal, Madhya Pradesh 462003",
      "rating": 4.5,
      "price": "15,000 - 30,000 per night",
      "location": "https://goo.gl/maps/j12Q3Z5g5aL9R7T9",
      "coordinates": "23.2594, 77.4096",
      "image_url": "https://images.thrillophilia.com/image/upload/s--7i8t9L4h--/c_fill,f_auto,fl_progressive,h_600,q_auto,w_900/v1/images/photos/000/009/817/original/jehan_numa_palace_hotel_bhopal_hotel_exterior_view.jpg"
    },
    {
      "name": "The Lalit, Bhopal",
      "description": "A modern and luxurious hotel with elegant rooms, a rooftop pool, a spa, and multiple dining options.",
      "address": "122, VIP Road, Near New Market, Bhopal, Madhya Pradesh 462003",
      "rating": 4.2,
      "price": "12,000 - 25,000 per night",
      "location": "https://goo.gl/maps/bYfX1V85QmG96y3y",
      "coordinates": "23.2582, 77.4118",
      "image_url": "https://www.thelaLit.com/images/hotels/the-lalit-bhopal/home-slider-image-1.jpg"
    },
    {
      "name": "Hotel Lake View Ashok",
      "description": "A lakeside hotel with stunning views of the Upper Lake, comfortable rooms, and an outdoor pool.",
      "address": "Shahpura, Near Van Vihar National Park, Bhopal, Madhya Pradesh 462016",
      "rating": 4,
      "price": "8,000 - 18,000 per night",
      "location": "https://goo.gl/maps/2D19M97kC451wK7b",
      "coordinates": "23.2438, 77.4253",
      "image_url": "https://www.hotellakeviewashok.com/images/gallery/gallery_3.jpg"
    }
  ],
  "itinerary": [
    {
      "day": 1,
      "title": "Exploring the City's Heart",
      "places": [
        {
          "name": "Bharat Bhavan",
          "details": "A renowned cultural center showcasing Indian art, craft, and literature.",
          "pricing": "Entry Fee: 50 per person",
          "timings": "10:00 AM - 6:00 PM",
          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/Bharat_Bhavan_Bhopal.jpg/1280px-Bharat_Bhavan_Bhopal.jpg",
          "location": "https://goo.gl/maps/M1aJqM9J9L6YzY9b"
        },
        {
          "name": "Rajwada",
          "details": "A magnificent palace built in the 18th century, showcasing the grandeur of the Bhopal State.",
          "pricing": "Entry Fee: 20 per person",
          "timings": "9:00 AM - 6:00 PM",
          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/Rajwada_Bhopal.jpg/1280px-Rajwada_Bhopal.jpg",
          "location": "https://goo.gl/maps/2LhR6YfG84RjX2Q9"
        },
        {
          "name": "Moti Masjid",
          "details": "A beautiful mosque known for its intricate marble work and elegant architecture.",
          "pricing": "Free Entry",
          "timings": "5:00 AM - 8:00 PM",
          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/9/98/Moti_Masjid_%28Bhopal%29.jpg/1280px-Moti_Masjid_%28Bhopal%29.jpg",
          "location": "https://goo.gl/maps/6D14aU3p13wZ3g83"
        }
      ]
    },
    {
      "day": 2,
      "title": "Nature and History",
      "places": [
        {
          "name": "Van Vihar National Park",
          "details": "A lush green sanctuary home to various wildlife species, ideal for a relaxing day.",
          "pricing": "Entry Fee: 50 per person",
          "timings": "8:00 AM - 6:00 PM",
          "image_url": "https://www.bhopal.nic.in/sites/default/files/styles/medium/public/vanvihar_national_park.jpg",
          "location": "https://goo.gl/maps/Y1z3D7CqHq4y4wF7"
        },
        {
          "name": "Upper Lake",
          "details": "A serene lake offering scenic views, boat rides, and a chance to soak in the tranquility.",
          "pricing": "Boat Ride: 100 - 500 per person",
          "timings": "8:00 AM - 8:00 PM",
          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/0/0a/Upper_Lake_Bhopal_India.jpg/1280px-Upper_Lake_Bhopal_India.jpg",
          "location": "https://goo.gl/maps/1S1N3bU47N26529v"
        },
        {
          "name": "State Museum",
          "details": "A comprehensive museum showcasing the history, art, and culture of Madhya Pradesh.",
          "pricing": "Entry Fee: 20 per person",
          "timings": "10:00 AM - 5:00 PM",
          "image_url": "https://www.bhopal.nic.in/sites/default/files/styles/medium/public/state_museum.jpg",
          "location": "https://goo.gl/maps/v3z4K9C931vD69s8"
        }
      ]
    },
    {
      "day": 3,
      "title": "Religious Sites and Culinary Delights",
      "places": [
        {
          "name": "Taj-ul-Masjid",
          "details": "One of the largest mosques in India, known for its grandeur and intricate architecture.",
          "pricing": "Free Entry",
          "timings": "5:00 AM - 8:00 PM",
          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/f/f3/Taj_ul_Masjid_Bhopal.jpg/1280px-Taj_ul_Masjid_Bhopal.jpg",
          "location": "https://goo.gl/maps/C9M1nR2zW1Qm6K7g"
        },
        {
          "name": "Birla Mandir",
          "details": "A serene Hindu temple dedicated to Lord Vishnu, offering panoramic views of the city.",
          "pricing": "Free Entry",
          "timings": "6:00 AM - 8:00 PM",
          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/b/bf/Birla_Mandir_Bhopal_India.jpg/1280px-Birla_Mandir_Bhopal_India.jpg",
          "location": "https://goo.gl/maps/2x6kQ76F4c4s776R"
        },
        {
          "name": "Bhopal Food Tour",
          "details": "Experience the rich culinary heritage of Bhopal with a guided food tour, sampling local delicacies.",
          "pricing": "1,500 - 2,500 per person",
          "timings": "11:00 AM - 3:00 PM",
          "image_url": "https://www.holidify.com/images/cmsuploads/2019/02/08/best-food-in-bhopal_1549636789.jpg",
          "location": "Various locations in the city"
        }
      ]
    }
  ]
}
\`\`\`

**Note:** This itinerary is based on a luxury budget, which means the suggested hotels and activities cater to higher-end preferences. The prices for attractions and food tours are approximate and may vary depending on the chosen provider. The coordinates provided are for the general area and may not be exact pinpoint locations. It's always recommended to confirm the latest information and availability before your trip. 
`}]}]}),A$=()=>{};var xC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},L$=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],a=n[t++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},DT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,f=u?n[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let m=(a&15)<<2|f>>6,g=f&63;u||(g=64,o||(m=64)),r.push(t[d],t[h],t[m],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(MT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):L$(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const h=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||f==null||h==null)throw new k$;const m=s<<2|a>>4;if(r.push(m),f!==64){const g=a<<4&240|f>>2;if(r.push(g),h!==64){const w=f<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class k$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const P$=function(n){const e=MT(n);return DT.encodeByteArray(e,!0)},Zv=function(n){return P$(n).replace(/\./g,"")},T$=function(n){try{return DT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$=()=>I$().__FIREBASE_DEFAULTS__,R$=()=>{if(typeof process>"u"||typeof xC>"u")return;const n=xC.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},O$=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&T$(n[1]);return e&&JSON.parse(e)},T5=()=>{try{return A$()||N$()||R$()||O$()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},M$=n=>{var e,t;return(t=(e=T5())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},D$=n=>{const e=M$(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},jT=()=>{var n;return(n=T5())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F$(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Zv(JSON.stringify(t)),Zv(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B$(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function V$(){var n;const e=(n=T5())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function U$(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function z$(){return!V$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FT(){try{return typeof indexedDB=="object"}catch{return!1}}function BT(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}function $$(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$="FirebaseError";class df extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=q$,Object.setPrototypeOf(this,df.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,q0.prototype.create)}}class q0{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?W$(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new df(i,a,r)}}function W$(n,e){return n.replace(H$,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const H$=/\{\$([^}]+)}/g;function e0(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(SC(s)&&SC(o)){if(!e0(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function SC(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G$=1e3,K$=2,Y$=4*60*60*1e3,J$=.5;function EC(n,e=G$,t=K$){const r=e*Math.pow(t,n),i=Math.round(J$*r*(Math.random()-.5)*2);return Math.min(Y$,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(n){return n&&n._delegate?n._delegate:n}class Iu{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new j$;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Z$(e))try{this.getOrInitializeService({instanceIdentifier:Vf})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Vf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vf){return this.instances.has(e)}getOptions(e=Vf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Q$(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vf){return this.component?this.component.multipleInstances?e:Vf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q$(n){return n===Vf?void 0:n}function Z$(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new X$(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(kn||(kn={}));const tq={debug:kn.DEBUG,verbose:kn.VERBOSE,info:kn.INFO,warn:kn.WARN,error:kn.ERROR,silent:kn.SILENT},nq=kn.INFO,rq={[kn.DEBUG]:"log",[kn.VERBOSE]:"log",[kn.INFO]:"info",[kn.WARN]:"warn",[kn.ERROR]:"error"},iq=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=rq[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class I5{constructor(e){this.name=e,this._logLevel=nq,this._logHandler=iq,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in kn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,kn.DEBUG,...e),this._logHandler(this,kn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,kn.VERBOSE,...e),this._logHandler(this,kn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,kn.INFO,...e),this._logHandler(this,kn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,kn.WARN,...e),this._logHandler(this,kn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,kn.ERROR,...e),this._logHandler(this,kn.ERROR,...e)}}const sq=(n,e)=>e.some(t=>n instanceof t);let CC,AC;function oq(){return CC||(CC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aq(){return AC||(AC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VT=new WeakMap,rw=new WeakMap,UT=new WeakMap,G1=new WeakMap,N5=new WeakMap;function lq(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Vc(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&VT.set(t,n)}).catch(()=>{}),N5.set(e,n),e}function uq(n){if(rw.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});rw.set(n,e)}let iw={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return rw.get(n);if(e==="objectStoreNames")return n.objectStoreNames||UT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Vc(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function cq(n){iw=n(iw)}function fq(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(K1(this),e,...t);return UT.set(r,e.sort?e.sort():[e]),Vc(r)}:aq().includes(n)?function(...e){return n.apply(K1(this),e),Vc(VT.get(this))}:function(...e){return Vc(n.apply(K1(this),e))}}function dq(n){return typeof n=="function"?fq(n):(n instanceof IDBTransaction&&uq(n),sq(n,oq())?new Proxy(n,iw):n)}function Vc(n){if(n instanceof IDBRequest)return lq(n);if(G1.has(n))return G1.get(n);const e=dq(n);return e!==n&&(G1.set(n,e),N5.set(e,n)),e}const K1=n=>N5.get(n);function zT(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Vc(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Vc(o.result),u.oldVersion,u.newVersion,Vc(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),a}const hq=["get","getKey","getAll","getAllKeys","count"],pq=["put","add","delete","clear"],Y1=new Map;function LC(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Y1.get(e))return Y1.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=pq.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hq.includes(t)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let f=u.store;return r&&(f=f.index(a.shift())),(await Promise.all([f[t](...a),i&&u.done]))[0]};return Y1.set(e,s),s}cq(n=>({...n,get:(e,t,r)=>LC(e,t)||n.get(e,t,r),has:(e,t)=>!!LC(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(gq(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function gq(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sw="@firebase/app",kC="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu=new I5("@firebase/app"),vq="@firebase/app-compat",yq="@firebase/analytics-compat",wq="@firebase/analytics",_q="@firebase/app-check-compat",bq="@firebase/app-check",xq="@firebase/auth",Sq="@firebase/auth-compat",Eq="@firebase/database",Cq="@firebase/data-connect",Aq="@firebase/database-compat",Lq="@firebase/functions",kq="@firebase/functions-compat",Pq="@firebase/installations",Tq="@firebase/installations-compat",Iq="@firebase/messaging",Nq="@firebase/messaging-compat",Rq="@firebase/performance",Oq="@firebase/performance-compat",Mq="@firebase/remote-config",Dq="@firebase/remote-config-compat",jq="@firebase/storage",Fq="@firebase/storage-compat",Bq="@firebase/firestore",Vq="@firebase/vertexai",Uq="@firebase/firestore-compat",zq="firebase",$q="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="[DEFAULT]",qq={[sw]:"fire-core",[vq]:"fire-core-compat",[wq]:"fire-analytics",[yq]:"fire-analytics-compat",[bq]:"fire-app-check",[_q]:"fire-app-check-compat",[xq]:"fire-auth",[Sq]:"fire-auth-compat",[Eq]:"fire-rtdb",[Cq]:"fire-data-connect",[Aq]:"fire-rtdb-compat",[Lq]:"fire-fn",[kq]:"fire-fn-compat",[Pq]:"fire-iid",[Tq]:"fire-iid-compat",[Iq]:"fire-fcm",[Nq]:"fire-fcm-compat",[Rq]:"fire-perf",[Oq]:"fire-perf-compat",[Mq]:"fire-rc",[Dq]:"fire-rc-compat",[jq]:"fire-gcs",[Fq]:"fire-gcs-compat",[Bq]:"fire-fst",[Uq]:"fire-fst-compat",[Vq]:"fire-vertex","fire-js":"fire-js",[zq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=new Map,Wq=new Map,aw=new Map;function PC(n,e){try{n.container.addComponent(e)}catch(t){Nu.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Qc(n){const e=n.name;if(aw.has(e))return Nu.debug(`There were multiple attempts to register component ${e}.`),!1;aw.set(e,n);for(const t of t0.values())PC(t,n);for(const t of Wq.values())PC(t,n);return!0}function R5(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Hq(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Uc=new q0("app","Firebase",Gq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Iu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Uc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq=$q;function $T(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ow,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Uc.create("bad-app-name",{appName:String(i)});if(t||(t=jT()),!t)throw Uc.create("no-options");const s=t0.get(i);if(s){if(e0(t,s.options)&&e0(r,s.config))return s;throw Uc.create("duplicate-app",{appName:i})}const o=new eq(i);for(const u of aw.values())o.addComponent(u);const a=new Kq(t,r,o);return t0.set(i,a),a}function Jq(n=ow){const e=t0.get(n);if(!e&&n===ow&&jT())return $T();if(!e)throw Uc.create("no-app",{appName:n});return e}function Fl(n,e,t){var r;let i=(r=qq[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nu.warn(a.join(" "));return}Qc(new Iu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xq="firebase-heartbeat-database",Qq=1,mm="firebase-heartbeat-store";let J1=null;function qT(){return J1||(J1=zT(Xq,Qq,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(mm)}catch(t){console.warn(t)}}}}).catch(n=>{throw Uc.create("idb-open",{originalErrorMessage:n.message})})),J1}async function Zq(n){try{const t=(await qT()).transaction(mm),r=await t.objectStore(mm).get(WT(n));return await t.done,r}catch(e){if(e instanceof df)Nu.warn(e.message);else{const t=Uc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Nu.warn(t.message)}}}async function TC(n,e){try{const r=(await qT()).transaction(mm,"readwrite");await r.objectStore(mm).put(e,WT(n)),await r.done}catch(t){if(t instanceof df)Nu.warn(t.message);else{const r=Uc.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Nu.warn(r.message)}}}function WT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eW=1024,tW=30;class nW{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new iW(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=IC();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>tW){const o=sW(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Nu.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=IC(),{heartbeatsToSend:r,unsentEntries:i}=rW(this._heartbeatsCache.heartbeats),s=Zv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Nu.warn(t),""}}}function IC(){return new Date().toISOString().substring(0,10)}function rW(n,e=eW){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),NC(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),NC(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class iW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FT()?BT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Zq(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return TC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return TC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function NC(n){return Zv(JSON.stringify({version:2,heartbeats:n})).length}function sW(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oW(n){Qc(new Iu("platform-logger",e=>new mq(e),"PRIVATE")),Qc(new Iu("heartbeat",e=>new nW(e),"PRIVATE")),Fl(sw,kC,n),Fl(sw,kC,"esm2017"),Fl("fire-js","")}oW("");var aW="firebase",lW="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fl(aW,lW,"app");const HT="@firebase/installations",O5="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=1e4,KT=`w:${O5}`,YT="FIS_v2",uW="https://firebaseinstallations.googleapis.com/v1",cW=60*60*1e3,fW="installations",dW="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hW={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},dd=new q0(fW,dW,hW);function JT(n){return n instanceof df&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT({projectId:n}){return`${uW}/projects/${n}/installations`}function QT(n){return{token:n.token,requestStatus:2,expiresIn:mW(n.expiresIn),creationTime:Date.now()}}async function ZT(n,e){const r=(await e.json()).error;return dd.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function e3({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function pW(n,{refreshToken:e}){const t=e3(n);return t.append("Authorization",gW(e)),t}async function t3(n){const e=await n();return e.status>=500&&e.status<600?n():e}function mW(n){return Number(n.replace("s","000"))}function gW(n){return`${YT} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vW({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=XT(n),i=e3(n),s=e.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const o={fid:t,authVersion:YT,appId:n.appId,sdkVersion:KT},a={method:"POST",headers:i,body:JSON.stringify(o)},u=await t3(()=>fetch(r,a));if(u.ok){const f=await u.json();return{fid:f.fid||t,registrationStatus:2,refreshToken:f.refreshToken,authToken:QT(f.authToken)}}else throw await ZT("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n3(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yW(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wW=/^[cdef][\w-]{21}$/,lw="";function _W(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=bW(n);return wW.test(t)?t:lw}catch{return lw}}function bW(n){return yW(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=new Map;function i3(n,e){const t=W0(n);s3(t,e),xW(t,e)}function s3(n,e){const t=r3.get(n);if(t)for(const r of t)r(e)}function xW(n,e){const t=SW();t&&t.postMessage({key:n,fid:e}),EW()}let Yf=null;function SW(){return!Yf&&"BroadcastChannel"in self&&(Yf=new BroadcastChannel("[Firebase] FID Change"),Yf.onmessage=n=>{s3(n.data.key,n.data.fid)}),Yf}function EW(){r3.size===0&&Yf&&(Yf.close(),Yf=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CW="firebase-installations-database",AW=1,hd="firebase-installations-store";let X1=null;function M5(){return X1||(X1=zT(CW,AW,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(hd)}}})),X1}async function n0(n,e){const t=W0(n),i=(await M5()).transaction(hd,"readwrite"),s=i.objectStore(hd),o=await s.get(t);return await s.put(e,t),await i.done,(!o||o.fid!==e.fid)&&i3(n,e.fid),e}async function o3(n){const e=W0(n),r=(await M5()).transaction(hd,"readwrite");await r.objectStore(hd).delete(e),await r.done}async function H0(n,e){const t=W0(n),i=(await M5()).transaction(hd,"readwrite"),s=i.objectStore(hd),o=await s.get(t),a=e(o);return a===void 0?await s.delete(t):await s.put(a,t),await i.done,a&&(!o||o.fid!==a.fid)&&i3(n,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D5(n){let e;const t=await H0(n.appConfig,r=>{const i=LW(r),s=kW(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===lw?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function LW(n){const e=n||{fid:_W(),registrationStatus:0};return a3(e)}function kW(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(dd.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=PW(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:TW(n)}:{installationEntry:e}}async function PW(n,e){try{const t=await vW(n,e);return n0(n.appConfig,t)}catch(t){throw JT(t)&&t.customData.serverCode===409?await o3(n.appConfig):await n0(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function TW(n){let e=await RC(n.appConfig);for(;e.registrationStatus===1;)await n3(100),e=await RC(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await D5(n);return r||t}return e}function RC(n){return H0(n,e=>{if(!e)throw dd.create("installation-not-found");return a3(e)})}function a3(n){return IW(n)?{fid:n.fid,registrationStatus:0}:n}function IW(n){return n.registrationStatus===1&&n.registrationTime+GT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NW({appConfig:n,heartbeatServiceProvider:e},t){const r=RW(n,t),i=pW(n,t),s=e.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const o={installation:{sdkVersion:KT,appId:n.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},u=await t3(()=>fetch(r,a));if(u.ok){const f=await u.json();return QT(f)}else throw await ZT("Generate Auth Token",u)}function RW(n,{fid:e}){return`${XT(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j5(n,e=!1){let t;const r=await H0(n.appConfig,s=>{if(!l3(s))throw dd.create("not-registered");const o=s.authToken;if(!e&&DW(o))return s;if(o.requestStatus===1)return t=OW(n,e),s;{if(!navigator.onLine)throw dd.create("app-offline");const a=FW(s);return t=MW(n,a),a}});return t?await t:r.authToken}async function OW(n,e){let t=await OC(n.appConfig);for(;t.authToken.requestStatus===1;)await n3(100),t=await OC(n.appConfig);const r=t.authToken;return r.requestStatus===0?j5(n,e):r}function OC(n){return H0(n,e=>{if(!l3(e))throw dd.create("not-registered");const t=e.authToken;return BW(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function MW(n,e){try{const t=await NW(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await n0(n.appConfig,r),t}catch(t){if(JT(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await o3(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await n0(n.appConfig,r)}throw t}}function l3(n){return n!==void 0&&n.registrationStatus===2}function DW(n){return n.requestStatus===2&&!jW(n)}function jW(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+cW}function FW(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function BW(n){return n.requestStatus===1&&n.requestTime+GT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VW(n){const e=n,{installationEntry:t,registrationPromise:r}=await D5(e);return r?r.catch(console.error):j5(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UW(n,e=!1){const t=n;return await zW(t),(await j5(t,e)).token}async function zW(n){const{registrationPromise:e}=await D5(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $W(n){if(!n||!n.options)throw Q1("App Configuration");if(!n.name)throw Q1("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Q1(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Q1(n){return dd.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3="installations",qW="installations-internal",WW=n=>{const e=n.getProvider("app").getImmediate(),t=$W(e),r=R5(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},HW=n=>{const e=n.getProvider("app").getImmediate(),t=R5(e,u3).getImmediate();return{getId:()=>VW(t),getToken:i=>UW(t,i)}};function GW(){Qc(new Iu(u3,WW,"PUBLIC")),Qc(new Iu(qW,HW,"PRIVATE"))}GW();Fl(HT,O5);Fl(HT,O5,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="analytics",KW="firebase_id",YW="origin",JW=60*1e3,XW="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",F5="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=new I5("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QW={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},xa=new q0("analytics","Analytics",QW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZW(n){if(!n.startsWith(F5)){const e=xa.create("invalid-gtag-resource",{gtagURL:n});return co.warn(e.message),""}return n}function c3(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function eH(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function tH(n,e){const t=eH("firebase-js-sdk-policy",{createScriptURL:ZW}),r=document.createElement("script"),i=`${F5}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function nH(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function rH(n,e,t,r,i,s){const o=r[i];try{if(o)await e[o];else{const u=(await c3(t)).find(f=>f.measurementId===i);u&&await e[u.appId]}}catch(a){co.error(a)}n("config",i,s)}async function iH(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await c3(t);for(const u of o){const f=a.find(h=>h.measurementId===u),d=f&&e[f.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),n("event",r,i||{})}catch(s){co.error(s)}}function sH(n,e,t,r){async function i(s,...o){try{if(s==="event"){const[a,u]=o;await iH(n,e,t,a,u)}else if(s==="config"){const[a,u]=o;await rH(n,e,t,r,a,u)}else if(s==="consent"){const[a,u]=o;n("consent",a,u)}else if(s==="get"){const[a,u,f]=o;n("get",a,u,f)}else if(s==="set"){const[a]=o;n("set",a)}else n(s,...o)}catch(a){co.error(a)}}return i}function oH(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=sH(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}function aH(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(F5)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lH=30,uH=1e3;class cH{constructor(e={},t=uH){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const f3=new cH;function fH(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function dH(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:fH(r)},s=XW.replace("{app-id}",t),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const u=await o.json();!((e=u.error)===null||e===void 0)&&e.message&&(a=u.error.message)}catch{}throw xa.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function hH(n,e=f3,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw xa.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw xa.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new gH;return setTimeout(async()=>{a.abort()},JW),d3({appId:r,apiKey:i,measurementId:s},o,a,e)}async function d3(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=f3){var s;const{appId:o,measurementId:a}=n;try{await pH(r,e)}catch(u){if(a)return co.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw u}try{const u=await dH(n);return i.deleteThrottleMetadata(o),u}catch(u){const f=u;if(!mH(f)){if(i.deleteThrottleMetadata(o),a)return co.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:o,measurementId:a};throw u}const d=Number((s=f==null?void 0:f.customData)===null||s===void 0?void 0:s.httpStatus)===503?EC(t,i.intervalMillis,lH):EC(t,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:t+1};return i.setThrottleMetadata(o,h),co.debug(`Calling attemptFetch again in ${d} millis`),d3(n,h,r,i)}}function pH(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(xa.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function mH(n){if(!(n instanceof df)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class gH{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function vH(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});n("event",t,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yH(){if(FT())try{await BT()}catch(n){return co.warn(xa.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return co.warn(xa.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function wH(n,e,t,r,i,s,o){var a;const u=hH(n);u.then(g=>{t[g.measurementId]=g.appId,n.options.measurementId&&g.measurementId!==n.options.measurementId&&co.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>co.error(g)),e.push(u);const f=yH().then(g=>{if(g)return r.getId()}),[d,h]=await Promise.all([u,f]);aH(s)||tH(s,d.measurementId),i("js",new Date);const m=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return m[YW]="firebase",m.update=!0,h!=null&&(m[KW]=h),i("config",d.measurementId,m),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{constructor(e){this.app=e}_delete(){return delete Kp[this.app.options.appId],Promise.resolve()}}let Kp={},DC=[];const jC={};let Z1="dataLayer",bH="gtag",FC,h3,BC=!1;function xH(){const n=[];if(U$()&&n.push("This is a browser extension environment."),$$()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=xa.create("invalid-analytics-context",{errorInfo:e});co.warn(t.message)}}function SH(n,e,t){xH();const r=n.options.appId;if(!r)throw xa.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)co.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw xa.create("no-api-key");if(Kp[r]!=null)throw xa.create("already-exists",{id:r});if(!BC){nH(Z1);const{wrappedGtag:s,gtagCore:o}=oH(Kp,DC,jC,Z1,bH);h3=s,FC=o,BC=!0}return Kp[r]=wH(n,DC,jC,e,FC,Z1,t),new _H(n)}function EH(n,e,t,r){n=fd(n),vH(h3,Kp[n.app.options.appId],e,t,r).catch(i=>co.error(i))}const VC="@firebase/analytics",UC="0.10.12";function CH(){Qc(new Iu(MC,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return SH(r,i,t)},"PUBLIC")),Qc(new Iu("analytics-internal",n,"PRIVATE")),Fl(VC,UC),Fl(VC,UC,"esm2017");function n(e){try{const t=e.getProvider(MC).getImmediate();return{logEvent:(r,i,s)=>EH(t,r,i,s)}}catch(t){throw xa.create("interop-component-reg-failed",{reason:t})}}}CH();var zC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zc,p3;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,I){function N(){}N.prototype=I.prototype,R.D=I.prototype,R.prototype=new N,R.prototype.constructor=R,R.C=function(W,O,P){for(var B=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)B[Y-2]=arguments[Y];return I.prototype[O].apply(W,B)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,I,N){N||(N=0);var W=Array(16);if(typeof I=="string")for(var O=0;16>O;++O)W[O]=I.charCodeAt(N++)|I.charCodeAt(N++)<<8|I.charCodeAt(N++)<<16|I.charCodeAt(N++)<<24;else for(O=0;16>O;++O)W[O]=I[N++]|I[N++]<<8|I[N++]<<16|I[N++]<<24;I=R.g[0],N=R.g[1],O=R.g[2];var P=R.g[3],B=I+(P^N&(O^P))+W[0]+3614090360&4294967295;I=N+(B<<7&4294967295|B>>>25),B=P+(O^I&(N^O))+W[1]+3905402710&4294967295,P=I+(B<<12&4294967295|B>>>20),B=O+(N^P&(I^N))+W[2]+606105819&4294967295,O=P+(B<<17&4294967295|B>>>15),B=N+(I^O&(P^I))+W[3]+3250441966&4294967295,N=O+(B<<22&4294967295|B>>>10),B=I+(P^N&(O^P))+W[4]+4118548399&4294967295,I=N+(B<<7&4294967295|B>>>25),B=P+(O^I&(N^O))+W[5]+1200080426&4294967295,P=I+(B<<12&4294967295|B>>>20),B=O+(N^P&(I^N))+W[6]+2821735955&4294967295,O=P+(B<<17&4294967295|B>>>15),B=N+(I^O&(P^I))+W[7]+4249261313&4294967295,N=O+(B<<22&4294967295|B>>>10),B=I+(P^N&(O^P))+W[8]+1770035416&4294967295,I=N+(B<<7&4294967295|B>>>25),B=P+(O^I&(N^O))+W[9]+2336552879&4294967295,P=I+(B<<12&4294967295|B>>>20),B=O+(N^P&(I^N))+W[10]+4294925233&4294967295,O=P+(B<<17&4294967295|B>>>15),B=N+(I^O&(P^I))+W[11]+2304563134&4294967295,N=O+(B<<22&4294967295|B>>>10),B=I+(P^N&(O^P))+W[12]+1804603682&4294967295,I=N+(B<<7&4294967295|B>>>25),B=P+(O^I&(N^O))+W[13]+4254626195&4294967295,P=I+(B<<12&4294967295|B>>>20),B=O+(N^P&(I^N))+W[14]+2792965006&4294967295,O=P+(B<<17&4294967295|B>>>15),B=N+(I^O&(P^I))+W[15]+1236535329&4294967295,N=O+(B<<22&4294967295|B>>>10),B=I+(O^P&(N^O))+W[1]+4129170786&4294967295,I=N+(B<<5&4294967295|B>>>27),B=P+(N^O&(I^N))+W[6]+3225465664&4294967295,P=I+(B<<9&4294967295|B>>>23),B=O+(I^N&(P^I))+W[11]+643717713&4294967295,O=P+(B<<14&4294967295|B>>>18),B=N+(P^I&(O^P))+W[0]+3921069994&4294967295,N=O+(B<<20&4294967295|B>>>12),B=I+(O^P&(N^O))+W[5]+3593408605&4294967295,I=N+(B<<5&4294967295|B>>>27),B=P+(N^O&(I^N))+W[10]+38016083&4294967295,P=I+(B<<9&4294967295|B>>>23),B=O+(I^N&(P^I))+W[15]+3634488961&4294967295,O=P+(B<<14&4294967295|B>>>18),B=N+(P^I&(O^P))+W[4]+3889429448&4294967295,N=O+(B<<20&4294967295|B>>>12),B=I+(O^P&(N^O))+W[9]+568446438&4294967295,I=N+(B<<5&4294967295|B>>>27),B=P+(N^O&(I^N))+W[14]+3275163606&4294967295,P=I+(B<<9&4294967295|B>>>23),B=O+(I^N&(P^I))+W[3]+4107603335&4294967295,O=P+(B<<14&4294967295|B>>>18),B=N+(P^I&(O^P))+W[8]+1163531501&4294967295,N=O+(B<<20&4294967295|B>>>12),B=I+(O^P&(N^O))+W[13]+2850285829&4294967295,I=N+(B<<5&4294967295|B>>>27),B=P+(N^O&(I^N))+W[2]+4243563512&4294967295,P=I+(B<<9&4294967295|B>>>23),B=O+(I^N&(P^I))+W[7]+1735328473&4294967295,O=P+(B<<14&4294967295|B>>>18),B=N+(P^I&(O^P))+W[12]+2368359562&4294967295,N=O+(B<<20&4294967295|B>>>12),B=I+(N^O^P)+W[5]+4294588738&4294967295,I=N+(B<<4&4294967295|B>>>28),B=P+(I^N^O)+W[8]+2272392833&4294967295,P=I+(B<<11&4294967295|B>>>21),B=O+(P^I^N)+W[11]+1839030562&4294967295,O=P+(B<<16&4294967295|B>>>16),B=N+(O^P^I)+W[14]+4259657740&4294967295,N=O+(B<<23&4294967295|B>>>9),B=I+(N^O^P)+W[1]+2763975236&4294967295,I=N+(B<<4&4294967295|B>>>28),B=P+(I^N^O)+W[4]+1272893353&4294967295,P=I+(B<<11&4294967295|B>>>21),B=O+(P^I^N)+W[7]+4139469664&4294967295,O=P+(B<<16&4294967295|B>>>16),B=N+(O^P^I)+W[10]+3200236656&4294967295,N=O+(B<<23&4294967295|B>>>9),B=I+(N^O^P)+W[13]+681279174&4294967295,I=N+(B<<4&4294967295|B>>>28),B=P+(I^N^O)+W[0]+3936430074&4294967295,P=I+(B<<11&4294967295|B>>>21),B=O+(P^I^N)+W[3]+3572445317&4294967295,O=P+(B<<16&4294967295|B>>>16),B=N+(O^P^I)+W[6]+76029189&4294967295,N=O+(B<<23&4294967295|B>>>9),B=I+(N^O^P)+W[9]+3654602809&4294967295,I=N+(B<<4&4294967295|B>>>28),B=P+(I^N^O)+W[12]+3873151461&4294967295,P=I+(B<<11&4294967295|B>>>21),B=O+(P^I^N)+W[15]+530742520&4294967295,O=P+(B<<16&4294967295|B>>>16),B=N+(O^P^I)+W[2]+3299628645&4294967295,N=O+(B<<23&4294967295|B>>>9),B=I+(O^(N|~P))+W[0]+4096336452&4294967295,I=N+(B<<6&4294967295|B>>>26),B=P+(N^(I|~O))+W[7]+1126891415&4294967295,P=I+(B<<10&4294967295|B>>>22),B=O+(I^(P|~N))+W[14]+2878612391&4294967295,O=P+(B<<15&4294967295|B>>>17),B=N+(P^(O|~I))+W[5]+4237533241&4294967295,N=O+(B<<21&4294967295|B>>>11),B=I+(O^(N|~P))+W[12]+1700485571&4294967295,I=N+(B<<6&4294967295|B>>>26),B=P+(N^(I|~O))+W[3]+2399980690&4294967295,P=I+(B<<10&4294967295|B>>>22),B=O+(I^(P|~N))+W[10]+4293915773&4294967295,O=P+(B<<15&4294967295|B>>>17),B=N+(P^(O|~I))+W[1]+2240044497&4294967295,N=O+(B<<21&4294967295|B>>>11),B=I+(O^(N|~P))+W[8]+1873313359&4294967295,I=N+(B<<6&4294967295|B>>>26),B=P+(N^(I|~O))+W[15]+4264355552&4294967295,P=I+(B<<10&4294967295|B>>>22),B=O+(I^(P|~N))+W[6]+2734768916&4294967295,O=P+(B<<15&4294967295|B>>>17),B=N+(P^(O|~I))+W[13]+1309151649&4294967295,N=O+(B<<21&4294967295|B>>>11),B=I+(O^(N|~P))+W[4]+4149444226&4294967295,I=N+(B<<6&4294967295|B>>>26),B=P+(N^(I|~O))+W[11]+3174756917&4294967295,P=I+(B<<10&4294967295|B>>>22),B=O+(I^(P|~N))+W[2]+718787259&4294967295,O=P+(B<<15&4294967295|B>>>17),B=N+(P^(O|~I))+W[9]+3951481745&4294967295,R.g[0]=R.g[0]+I&4294967295,R.g[1]=R.g[1]+(O+(B<<21&4294967295|B>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+P&4294967295}r.prototype.u=function(R,I){I===void 0&&(I=R.length);for(var N=I-this.blockSize,W=this.B,O=this.h,P=0;P<I;){if(O==0)for(;P<=N;)i(this,R,P),P+=this.blockSize;if(typeof R=="string"){for(;P<I;)if(W[O++]=R.charCodeAt(P++),O==this.blockSize){i(this,W),O=0;break}}else for(;P<I;)if(W[O++]=R[P++],O==this.blockSize){i(this,W),O=0;break}}this.h=O,this.o+=I},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var I=1;I<R.length-8;++I)R[I]=0;var N=8*this.o;for(I=R.length-8;I<R.length;++I)R[I]=N&255,N/=256;for(this.u(R),R=Array(16),I=N=0;4>I;++I)for(var W=0;32>W;W+=8)R[N++]=this.g[I]>>>W&255;return R};function s(R,I){var N=a;return Object.prototype.hasOwnProperty.call(N,R)?N[R]:N[R]=I(R)}function o(R,I){this.h=I;for(var N=[],W=!0,O=R.length-1;0<=O;O--){var P=R[O]|0;W&&P==I||(N[O]=P,W=!1)}this.g=N}var a={};function u(R){return-128<=R&&128>R?s(R,function(I){return new o([I|0],0>I?-1:0)}):new o([R|0],0>R?-1:0)}function f(R){if(isNaN(R)||!isFinite(R))return h;if(0>R)return x(f(-R));for(var I=[],N=1,W=0;R>=N;W++)I[W]=R/N|0,N*=4294967296;return new o(I,0)}function d(R,I){if(R.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(R.charAt(0)=="-")return x(d(R.substring(1),I));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=f(Math.pow(I,8)),W=h,O=0;O<R.length;O+=8){var P=Math.min(8,R.length-O),B=parseInt(R.substring(O,O+P),I);8>P?(P=f(Math.pow(I,P)),W=W.j(P).add(f(B))):(W=W.j(N),W=W.add(f(B)))}return W}var h=u(0),m=u(1),g=u(16777216);n=o.prototype,n.m=function(){if(_(this))return-x(this).m();for(var R=0,I=1,N=0;N<this.g.length;N++){var W=this.i(N);R+=(0<=W?W:4294967296+W)*I,I*=4294967296}return R},n.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(w(this))return"0";if(_(this))return"-"+x(this).toString(R);for(var I=f(Math.pow(R,6)),N=this,W="";;){var O=D(N,I).g;N=C(N,O.j(I));var P=((0<N.g.length?N.g[0]:N.h)>>>0).toString(R);if(N=O,w(N))return P+W;for(;6>P.length;)P="0"+P;W=P+W}},n.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function w(R){if(R.h!=0)return!1;for(var I=0;I<R.g.length;I++)if(R.g[I]!=0)return!1;return!0}function _(R){return R.h==-1}n.l=function(R){return R=C(this,R),_(R)?-1:w(R)?0:1};function x(R){for(var I=R.g.length,N=[],W=0;W<I;W++)N[W]=~R.g[W];return new o(N,~R.h).add(m)}n.abs=function(){return _(this)?x(this):this},n.add=function(R){for(var I=Math.max(this.g.length,R.g.length),N=[],W=0,O=0;O<=I;O++){var P=W+(this.i(O)&65535)+(R.i(O)&65535),B=(P>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);W=B>>>16,P&=65535,B&=65535,N[O]=B<<16|P}return new o(N,N[N.length-1]&-2147483648?-1:0)};function C(R,I){return R.add(x(I))}n.j=function(R){if(w(this)||w(R))return h;if(_(this))return _(R)?x(this).j(x(R)):x(x(this).j(R));if(_(R))return x(this.j(x(R)));if(0>this.l(g)&&0>R.l(g))return f(this.m()*R.m());for(var I=this.g.length+R.g.length,N=[],W=0;W<2*I;W++)N[W]=0;for(W=0;W<this.g.length;W++)for(var O=0;O<R.g.length;O++){var P=this.i(W)>>>16,B=this.i(W)&65535,Y=R.i(O)>>>16,ue=R.i(O)&65535;N[2*W+2*O]+=B*ue,L(N,2*W+2*O),N[2*W+2*O+1]+=P*ue,L(N,2*W+2*O+1),N[2*W+2*O+1]+=B*Y,L(N,2*W+2*O+1),N[2*W+2*O+2]+=P*Y,L(N,2*W+2*O+2)}for(W=0;W<I;W++)N[W]=N[2*W+1]<<16|N[2*W];for(W=I;W<2*I;W++)N[W]=0;return new o(N,0)};function L(R,I){for(;(R[I]&65535)!=R[I];)R[I+1]+=R[I]>>>16,R[I]&=65535,I++}function j(R,I){this.g=R,this.h=I}function D(R,I){if(w(I))throw Error("division by zero");if(w(R))return new j(h,h);if(_(R))return I=D(x(R),I),new j(x(I.g),x(I.h));if(_(I))return I=D(R,x(I)),new j(x(I.g),I.h);if(30<R.g.length){if(_(R)||_(I))throw Error("slowDivide_ only works with positive integers.");for(var N=m,W=I;0>=W.l(R);)N=$(N),W=$(W);var O=H(N,1),P=H(W,1);for(W=H(W,2),N=H(N,2);!w(W);){var B=P.add(W);0>=B.l(R)&&(O=O.add(N),P=B),W=H(W,1),N=H(N,1)}return I=C(R,O.j(I)),new j(O,I)}for(O=h;0<=R.l(I);){for(N=Math.max(1,Math.floor(R.m()/I.m())),W=Math.ceil(Math.log(N)/Math.LN2),W=48>=W?1:Math.pow(2,W-48),P=f(N),B=P.j(I);_(B)||0<B.l(R);)N-=W,P=f(N),B=P.j(I);w(P)&&(P=m),O=O.add(P),R=C(R,B)}return new j(O,R)}n.A=function(R){return D(this,R).h},n.and=function(R){for(var I=Math.max(this.g.length,R.g.length),N=[],W=0;W<I;W++)N[W]=this.i(W)&R.i(W);return new o(N,this.h&R.h)},n.or=function(R){for(var I=Math.max(this.g.length,R.g.length),N=[],W=0;W<I;W++)N[W]=this.i(W)|R.i(W);return new o(N,this.h|R.h)},n.xor=function(R){for(var I=Math.max(this.g.length,R.g.length),N=[],W=0;W<I;W++)N[W]=this.i(W)^R.i(W);return new o(N,this.h^R.h)};function $(R){for(var I=R.g.length+1,N=[],W=0;W<I;W++)N[W]=R.i(W)<<1|R.i(W-1)>>>31;return new o(N,R.h)}function H(R,I){var N=I>>5;I%=32;for(var W=R.g.length-N,O=[],P=0;P<W;P++)O[P]=0<I?R.i(P+N)>>>I|R.i(P+N+1)<<32-I:R.i(P+N);return new o(O,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,p3=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=d,zc=o}).apply(typeof zC<"u"?zC:typeof self<"u"?self:typeof window<"u"?window:{});var Kg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var m3,jp,g3,gv,uw,v3,y3,w3;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(y,M,q){return y==Array.prototype||y==Object.prototype||(y[M]=q.value),y};function t(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kg=="object"&&Kg];for(var M=0;M<y.length;++M){var q=y[M];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}var r=t(this);function i(y,M){if(M)e:{var q=r;y=y.split(".");for(var ie=0;ie<y.length-1;ie++){var Le=y[ie];if(!(Le in q))break e;q=q[Le]}y=y[y.length-1],ie=q[y],M=M(ie),M!=ie&&M!=null&&e(q,y,{configurable:!0,writable:!0,value:M})}}function s(y,M){y instanceof String&&(y+="");var q=0,ie=!1,Le={next:function(){if(!ie&&q<y.length){var je=q++;return{value:M(je,y[je]),done:!1}}return ie=!0,{done:!0,value:void 0}}};return Le[Symbol.iterator]=function(){return Le},Le}i("Array.prototype.values",function(y){return y||function(){return s(this,function(M,q){return q})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(y){var M=typeof y;return M=M!="object"?M:y?Array.isArray(y)?"array":M:"null",M=="array"||M=="object"&&typeof y.length=="number"}function f(y){var M=typeof y;return M=="object"&&y!=null||M=="function"}function d(y,M,q){return y.call.apply(y.bind,arguments)}function h(y,M,q){if(!y)throw Error();if(2<arguments.length){var ie=Array.prototype.slice.call(arguments,2);return function(){var Le=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Le,ie),y.apply(M,Le)}}return function(){return y.apply(M,arguments)}}function m(y,M,q){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,m.apply(null,arguments)}function g(y,M){var q=Array.prototype.slice.call(arguments,1);return function(){var ie=q.slice();return ie.push.apply(ie,arguments),y.apply(this,ie)}}function w(y,M){function q(){}q.prototype=M.prototype,y.aa=M.prototype,y.prototype=new q,y.prototype.constructor=y,y.Qb=function(ie,Le,je){for(var rt=Array(arguments.length-2),Xt=2;Xt<arguments.length;Xt++)rt[Xt-2]=arguments[Xt];return M.prototype[Le].apply(ie,rt)}}function _(y){const M=y.length;if(0<M){const q=Array(M);for(let ie=0;ie<M;ie++)q[ie]=y[ie];return q}return[]}function x(y,M){for(let q=1;q<arguments.length;q++){const ie=arguments[q];if(u(ie)){const Le=y.length||0,je=ie.length||0;y.length=Le+je;for(let rt=0;rt<je;rt++)y[Le+rt]=ie[rt]}else y.push(ie)}}class C{constructor(M,q){this.i=M,this.j=q,this.h=0,this.g=null}get(){let M;return 0<this.h?(this.h--,M=this.g,this.g=M.next,M.next=null):M=this.i(),M}}function L(y){return/^[\s\xa0]*$/.test(y)}function j(){var y=a.navigator;return y&&(y=y.userAgent)?y:""}function D(y){return D[" "](y),y}D[" "]=function(){};var $=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function H(y,M,q){for(const ie in y)M.call(q,y[ie],ie,y)}function R(y,M){for(const q in y)M.call(void 0,y[q],q,y)}function I(y){const M={};for(const q in y)M[q]=y[q];return M}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(y,M){let q,ie;for(let Le=1;Le<arguments.length;Le++){ie=arguments[Le];for(q in ie)y[q]=ie[q];for(let je=0;je<N.length;je++)q=N[je],Object.prototype.hasOwnProperty.call(ie,q)&&(y[q]=ie[q])}}function O(y){var M=1;y=y.split(":");const q=[];for(;0<M&&y.length;)q.push(y.shift()),M--;return y.length&&q.push(y.join(":")),q}function P(y){a.setTimeout(()=>{throw y},0)}function B(){var y=ce;let M=null;return y.g&&(M=y.g,y.g=y.g.next,y.g||(y.h=null),M.next=null),M}class Y{constructor(){this.h=this.g=null}add(M,q){const ie=ue.get();ie.set(M,q),this.h?this.h.next=ie:this.g=ie,this.h=ie}}var ue=new C(()=>new ae,y=>y.reset());class ae{constructor(){this.next=this.g=this.h=null}set(M,q){this.h=M,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let le,te=!1,ce=new Y,fe=()=>{const y=a.Promise.resolve(void 0);le=()=>{y.then(ne)}};var ne=()=>{for(var y;y=B();){try{y.h.call(y.g)}catch(q){P(q)}var M=ue;M.j(y),100>M.h&&(M.h++,y.next=M.g,M.g=y)}te=!1};function z(){this.s=this.s,this.C=this.C}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(y,M){this.type=y,this.g=this.target=M,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var y=!1,M=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const q=()=>{};a.addEventListener("test",q,M),a.removeEventListener("test",q,M)}catch{}return y}();function Z(y,M){if(J.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var q=this.type=y.type,ie=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=M,M=y.relatedTarget){if($){e:{try{D(M.nodeName);var Le=!0;break e}catch{}Le=!1}Le||(M=null)}}else q=="mouseover"?M=y.fromElement:q=="mouseout"&&(M=y.toElement);this.relatedTarget=M,ie?(this.clientX=ie.clientX!==void 0?ie.clientX:ie.pageX,this.clientY=ie.clientY!==void 0?ie.clientY:ie.pageY,this.screenX=ie.screenX||0,this.screenY=ie.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=typeof y.pointerType=="string"?y.pointerType:pe[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&Z.aa.h.call(this)}}w(Z,J);var pe={2:"touch",3:"pen",4:"mouse"};Z.prototype.h=function(){Z.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),ve=0;function we(y,M,q,ie,Le){this.listener=y,this.proxy=null,this.src=M,this.type=q,this.capture=!!ie,this.ha=Le,this.key=++ve,this.da=this.fa=!1}function Ie(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function Me(y){this.src=y,this.g={},this.h=0}Me.prototype.add=function(y,M,q,ie,Le){var je=y.toString();y=this.g[je],y||(y=this.g[je]=[],this.h++);var rt=We(y,M,ie,Le);return-1<rt?(M=y[rt],q||(M.fa=!1)):(M=new we(M,this.src,je,!!ie,Le),M.fa=q,y.push(M)),M};function Be(y,M){var q=M.type;if(q in y.g){var ie=y.g[q],Le=Array.prototype.indexOf.call(ie,M,void 0),je;(je=0<=Le)&&Array.prototype.splice.call(ie,Le,1),je&&(Ie(M),y.g[q].length==0&&(delete y.g[q],y.h--))}}function We(y,M,q,ie){for(var Le=0;Le<y.length;++Le){var je=y[Le];if(!je.da&&je.listener==M&&je.capture==!!q&&je.ha==ie)return Le}return-1}var ft="closure_lm_"+(1e6*Math.random()|0),Te={};function me(y,M,q,ie,Le){if(Array.isArray(M)){for(var je=0;je<M.length;je++)me(y,M[je],q,ie,Le);return null}return q=ct(q),y&&y[ye]?y.K(M,q,f(ie)?!!ie.capture:!1,Le):St(y,M,q,!1,ie,Le)}function St(y,M,q,ie,Le,je){if(!M)throw Error("Invalid event type");var rt=f(Le)?!!Le.capture:!!Le,Xt=Ve(y);if(Xt||(y[ft]=Xt=new Me(y)),q=Xt.add(M,q,ie,rt,je),q.proxy)return q;if(ie=vt(),q.proxy=ie,ie.src=y,ie.listener=q,y.addEventListener)se||(Le=rt),Le===void 0&&(Le=!1),y.addEventListener(M.toString(),ie,Le);else if(y.attachEvent)y.attachEvent(Ce(M.toString()),ie);else if(y.addListener&&y.removeListener)y.addListener(ie);else throw Error("addEventListener and attachEvent are unavailable.");return q}function vt(){function y(q){return M.call(y.src,y.listener,q)}const M=Ne;return y}function Je(y,M,q,ie,Le){if(Array.isArray(M))for(var je=0;je<M.length;je++)Je(y,M[je],q,ie,Le);else ie=f(ie)?!!ie.capture:!!ie,q=ct(q),y&&y[ye]?(y=y.i,M=String(M).toString(),M in y.g&&(je=y.g[M],q=We(je,q,ie,Le),-1<q&&(Ie(je[q]),Array.prototype.splice.call(je,q,1),je.length==0&&(delete y.g[M],y.h--)))):y&&(y=Ve(y))&&(M=y.g[M.toString()],y=-1,M&&(y=We(M,q,ie,Le)),(q=-1<y?M[y]:null)&&st(q))}function st(y){if(typeof y!="number"&&y&&!y.da){var M=y.src;if(M&&M[ye])Be(M.i,y);else{var q=y.type,ie=y.proxy;M.removeEventListener?M.removeEventListener(q,ie,y.capture):M.detachEvent?M.detachEvent(Ce(q),ie):M.addListener&&M.removeListener&&M.removeListener(ie),(q=Ve(M))?(Be(q,y),q.h==0&&(q.src=null,M[ft]=null)):Ie(y)}}}function Ce(y){return y in Te?Te[y]:Te[y]="on"+y}function Ne(y,M){if(y.da)y=!0;else{M=new Z(M,this);var q=y.listener,ie=y.ha||y.src;y.fa&&st(y),y=q.call(ie,M)}return y}function Ve(y){return y=y[ft],y instanceof Me?y:null}var Ze="__closure_events_fn_"+(1e9*Math.random()>>>0);function ct(y){return typeof y=="function"?y:(y[Ze]||(y[Ze]=function(M){return y.handleEvent(M)}),y[Ze])}function nt(){z.call(this),this.i=new Me(this),this.M=this,this.F=null}w(nt,z),nt.prototype[ye]=!0,nt.prototype.removeEventListener=function(y,M,q,ie){Je(this,y,M,q,ie)};function dt(y,M){var q,ie=y.F;if(ie)for(q=[];ie;ie=ie.F)q.push(ie);if(y=y.M,ie=M.type||M,typeof M=="string")M=new J(M,y);else if(M instanceof J)M.target=M.target||y;else{var Le=M;M=new J(ie,y),W(M,Le)}if(Le=!0,q)for(var je=q.length-1;0<=je;je--){var rt=M.g=q[je];Le=lt(rt,ie,!0,M)&&Le}if(rt=M.g=y,Le=lt(rt,ie,!0,M)&&Le,Le=lt(rt,ie,!1,M)&&Le,q)for(je=0;je<q.length;je++)rt=M.g=q[je],Le=lt(rt,ie,!1,M)&&Le}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var y=this.i,M;for(M in y.g){for(var q=y.g[M],ie=0;ie<q.length;ie++)Ie(q[ie]);delete y.g[M],y.h--}}this.F=null},nt.prototype.K=function(y,M,q,ie){return this.i.add(String(y),M,!1,q,ie)},nt.prototype.L=function(y,M,q,ie){return this.i.add(String(y),M,!0,q,ie)};function lt(y,M,q,ie){if(M=y.i.g[String(M)],!M)return!0;M=M.concat();for(var Le=!0,je=0;je<M.length;++je){var rt=M[je];if(rt&&!rt.da&&rt.capture==q){var Xt=rt.listener,hn=rt.ha||rt.src;rt.fa&&Be(y.i,rt),Le=Xt.call(hn,ie)!==!1&&Le}}return Le&&!ie.defaultPrevented}function _t(y,M,q){if(typeof y=="function")q&&(y=m(y,q));else if(y&&typeof y.handleEvent=="function")y=m(y.handleEvent,y);else throw Error("Invalid listener argument");return 2147483647<Number(M)?-1:a.setTimeout(y,M||0)}function gt(y){y.g=_t(()=>{y.g=null,y.i&&(y.i=!1,gt(y))},y.l);const M=y.h;y.h=null,y.m.apply(null,M)}class ot extends z{constructor(M,q){super(),this.m=M,this.l=q,this.h=null,this.i=!1,this.g=null}j(M){this.h=arguments,this.g?this.i=!0:gt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rn(y){z.call(this),this.h=y,this.g={}}w(rn,z);var Mt=[];function Zn(y){H(y.g,function(M,q){this.g.hasOwnProperty(q)&&st(M)},y),y.g={}}rn.prototype.N=function(){rn.aa.N.call(this),Zn(this)},rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qt=a.JSON.stringify,Jt=a.JSON.parse,on=class{stringify(y){return a.JSON.stringify(y,void 0)}parse(y){return a.JSON.parse(y,void 0)}};function Rt(){}Rt.prototype.h=null;function Wt(y){return y.h||(y.h=y.i())}function an(){}var dn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tt(){J.call(this,"d")}w(Tt,J);function $t(){J.call(this,"c")}w($t,J);var At={},Ut=null;function Hn(){return Ut=Ut||new nt}At.La="serverreachability";function yn(y){J.call(this,At.La,y)}w(yn,J);function jn(y){const M=Hn();dt(M,new yn(M))}At.STAT_EVENT="statevent";function Zr(y,M){J.call(this,At.STAT_EVENT,y),this.stat=M}w(Zr,J);function yt(y){const M=Hn();dt(M,new Zr(M,y))}At.Ma="timingevent";function It(y,M){J.call(this,At.Ma,y),this.size=M}w(It,J);function Cr(y,M){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){y()},M)}function Ar(){this.g=!0}Ar.prototype.xa=function(){this.g=!1};function er(y,M,q,ie,Le,je){y.info(function(){if(y.g)if(je)for(var rt="",Xt=je.split("&"),hn=0;hn<Xt.length;hn++){var Qt=Xt[hn].split("=");if(1<Qt.length){var Nn=Qt[0];Qt=Qt[1];var Vn=Nn.split("_");rt=2<=Vn.length&&Vn[1]=="type"?rt+(Nn+"="+Qt+"&"):rt+(Nn+"=redacted&")}}else rt=null;else rt=je;return"XMLHTTP REQ ("+ie+") [attempt "+Le+"]: "+M+`
`+q+`
`+rt})}function Fn(y,M,q,ie,Le,je,rt){y.info(function(){return"XMLHTTP RESP ("+ie+") [ attempt "+Le+"]: "+M+`
`+q+`
`+je+" "+rt})}function tr(y,M,q,ie){y.info(function(){return"XMLHTTP TEXT ("+M+"): "+es(y,q)+(ie?" "+ie:"")})}function Us(y,M){y.info(function(){return"TIMEOUT: "+M})}Ar.prototype.info=function(){};function es(y,M){if(!y.g)return M;if(!M)return null;try{var q=JSON.parse(M);if(q){for(y=0;y<q.length;y++)if(Array.isArray(q[y])){var ie=q[y];if(!(2>ie.length)){var Le=ie[1];if(Array.isArray(Le)&&!(1>Le.length)){var je=Le[0];if(je!="noop"&&je!="stop"&&je!="close")for(var rt=1;rt<Le.length;rt++)Le[rt]=""}}}}return qt(q)}catch{return M}}var Gn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gn;function fr(){}w(fr,Rt),fr.prototype.g=function(){return new XMLHttpRequest},fr.prototype.i=function(){return{}},gn=new fr;function Sn(y,M,q,ie){this.j=y,this.i=M,this.l=q,this.R=ie||1,this.U=new rn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zr}function zr(){this.i=null,this.g="",this.h=!1}var ai={},wo={};function _o(y,M,q){y.L=1,y.v=So(ci(M)),y.m=q,y.P=!0,Go(y,null)}function Go(y,M){y.F=Date.now(),Kn(y),y.A=ci(y.v);var q=y.A,ie=y.R;Array.isArray(ie)||(ie=[String(ie)]),jt(q.i,"t",ie),y.C=0,q=y.j.J,y.h=new zr,y.g=K(y.j,q?M:null,!y.m),0<y.O&&(y.M=new ot(m(y.Y,y,y.g),y.O)),M=y.U,q=y.g,ie=y.ca;var Le="readystatechange";Array.isArray(Le)||(Le&&(Mt[0]=Le.toString()),Le=Mt);for(var je=0;je<Le.length;je++){var rt=me(q,Le[je],ie||M.handleEvent,!1,M.h||M);if(!rt)break;M.g[rt.key]=rt}M=y.H?I(y.H):{},y.m?(y.u||(y.u="POST"),M["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,M)):(y.u="GET",y.g.ea(y.A,y.u,null,M)),jn(),er(y.i,y.u,y.A,y.l,y.R,y.m)}Sn.prototype.ca=function(y){y=y.target;const M=this.M;M&&br(y)==3?M.j():this.Y(y)},Sn.prototype.Y=function(y){try{if(y==this.g)e:{const Vn=br(this.g);var M=this.g.Ba();const Bi=this.g.Z();if(!(3>Vn)&&(Vn!=3||this.g&&(this.h.h||this.g.oa()||Zl(this.g)))){this.J||Vn!=4||M==7||(M==8||0>=Bi?jn(3):jn(2)),zs(this);var q=this.g.Z();this.X=q;t:if(Sa(this)){var ie=Zl(this.g);y="";var Le=ie.length,je=br(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ts(this),bo(this);var rt="";break t}this.h.i=new a.TextDecoder}for(M=0;M<Le;M++)this.h.h=!0,y+=this.h.i.decode(ie[M],{stream:!(je&&M==Le-1)});ie.length=0,this.h.g+=y,this.C=0,rt=this.h.g}else rt=this.g.oa();if(this.o=q==200,Fn(this.i,this.u,this.A,this.l,this.R,Vn,q),this.o){if(this.T&&!this.K){t:{if(this.g){var Xt,hn=this.g;if((Xt=hn.g?hn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Xt)){var Qt=Xt;break t}}Qt=null}if(q=Qt)tr(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ea(this,q);else{this.o=!1,this.s=3,yt(12),ts(this),bo(this);break e}}if(this.P){q=!0;let hi;for(;!this.J&&this.C<rt.length;)if(hi=Bu(this,rt),hi==wo){Vn==4&&(this.s=4,yt(14),q=!1),tr(this.i,this.l,null,"[Incomplete Response]");break}else if(hi==ai){this.s=4,yt(15),tr(this.i,this.l,rt,"[Invalid Chunk]"),q=!1;break}else tr(this.i,this.l,hi,null),Ea(this,hi);if(Sa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vn!=4||rt.length!=0||this.h.h||(this.s=1,yt(16),q=!1),this.o=this.o&&q,!q)tr(this.i,this.l,rt,"[Invalid Chunked Response]"),ts(this),bo(this);else if(0<rt.length&&!this.W){this.W=!0;var Nn=this.j;Nn.g==this&&Nn.ba&&!Nn.M&&(Nn.j.info("Great, no buffering proxy detected. Bytes received: "+rt.length),pl(Nn),Nn.M=!0,yt(11))}}else tr(this.i,this.l,rt,null),Ea(this,rt);Vn==4&&ts(this),this.o&&!this.J&&(Vn==4?Ys(this.j,this):(this.o=!1,Kn(this)))}else As(this.g),q==400&&0<rt.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),ts(this),bo(this)}}}catch{}finally{}};function Sa(y){return y.g?y.u=="GET"&&y.L!=2&&y.j.Ca:!1}function Bu(y,M){var q=y.C,ie=M.indexOf(`
`,q);return ie==-1?wo:(q=Number(M.substring(q,ie)),isNaN(q)?ai:(ie+=1,ie+q>M.length?wo:(M=M.slice(ie,ie+q),y.C=ie+q,M)))}Sn.prototype.cancel=function(){this.J=!0,ts(this)};function Kn(y){y.S=Date.now()+y.I,Vu(y,y.I)}function Vu(y,M){if(y.B!=null)throw Error("WatchDog timer not null");y.B=Cr(m(y.ba,y),M)}function zs(y){y.B&&(a.clearTimeout(y.B),y.B=null)}Sn.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(Us(this.i,this.A),this.L!=2&&(jn(),yt(17)),ts(this),this.s=2,bo(this)):Vu(this,this.S-y)};function bo(y){y.j.G==0||y.J||Ys(y.j,y)}function ts(y){zs(y);var M=y.M;M&&typeof M.ma=="function"&&M.ma(),y.M=null,Zn(y.U),y.g&&(M=y.g,y.g=null,M.abort(),M.ma())}function Ea(y,M){try{var q=y.j;if(q.G!=0&&(q.g==y||li(q.h,y))){if(!y.K&&li(q.h,y)&&q.G==3){try{var ie=q.Da.g.parse(M)}catch{ie=null}if(Array.isArray(ie)&&ie.length==3){var Le=ie;if(Le[0]==0){e:if(!q.u){if(q.g)if(q.g.F+3e3<y.F)Lo(q),Ls(q);else break e;ia(q),yt(18)}}else q.za=Le[1],0<q.za-q.T&&37500>Le[2]&&q.F&&q.v==0&&!q.C&&(q.C=Cr(m(q.Za,q),6e3));if(1>=Ca(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else Si(q,11)}else if((y.K||q.g==y)&&Lo(q),!L(M))for(Le=q.Da.g.parse(M),M=0;M<Le.length;M++){let Qt=Le[M];if(q.T=Qt[0],Qt=Qt[1],q.G==2)if(Qt[0]=="c"){q.K=Qt[1],q.ia=Qt[2];const Nn=Qt[3];Nn!=null&&(q.la=Nn,q.j.info("VER="+q.la));const Vn=Qt[4];Vn!=null&&(q.Aa=Vn,q.j.info("SVER="+q.Aa));const Bi=Qt[5];Bi!=null&&typeof Bi=="number"&&0<Bi&&(ie=1.5*Bi,q.L=ie,q.j.info("backChannelRequestTimeoutMs_="+ie)),ie=q;const hi=y.g;if(hi){const ko=hi.g?hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ko){var je=ie.h;je.g||ko.indexOf("spdy")==-1&&ko.indexOf("quic")==-1&&ko.indexOf("h2")==-1||(je.j=je.l,je.g=new Set,je.h&&(sr(je,je.h),je.h=null))}if(ie.D){const Po=hi.g?hi.g.getResponseHeader("X-HTTP-Session-Id"):null;Po&&(ie.ya=Po,Bn(ie.I,ie.D,Po))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-y.F,q.j.info("Handshake RTT: "+q.R+"ms")),ie=q;var rt=y;if(ie.qa=A(ie,ie.J?ie.ia:null,ie.W),rt.K){Yl(ie.h,rt);var Xt=rt,hn=ie.L;hn&&(Xt.I=hn),Xt.B&&(zs(Xt),Kn(Xt)),ie.g=rt}else Ao(ie);0<q.i.length&&Gs(q)}else Qt[0]!="stop"&&Qt[0]!="close"||Si(q,7);else q.G==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Si(q,7):dr(q):Qt[0]!="noop"&&q.l&&q.l.ta(Qt),q.v=0)}}jn(4)}catch{}}var Uu=class{constructor(y,M){this.g=y,this.map=M}};function Ko(y){this.l=y||10,a.PerformanceNavigationTiming?(y=a.performance.getEntriesByType("navigation"),y=0<y.length&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Di(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function Ca(y){return y.h?1:y.g?y.g.size:0}function li(y,M){return y.h?y.h==M:y.g?y.g.has(M):!1}function sr(y,M){y.g?y.g.add(M):y.h=M}function Yl(y,M){y.h&&y.h==M?y.h=null:y.g&&y.g.has(M)&&y.g.delete(M)}Ko.prototype.cancel=function(){if(this.i=Jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Jl(y){if(y.h!=null)return y.i.concat(y.h.D);if(y.g!=null&&y.g.size!==0){let M=y.i;for(const q of y.g.values())M=M.concat(q.D);return M}return _(y.i)}function Aa(y){if(y.V&&typeof y.V=="function")return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if(typeof y=="string")return y.split("");if(u(y)){for(var M=[],q=y.length,ie=0;ie<q;ie++)M.push(y[ie]);return M}M=[],q=0;for(ie in y)M[q++]=y[ie];return M}function Yo(y){if(y.na&&typeof y.na=="function")return y.na();if(!y.V||typeof y.V!="function"){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(u(y)||typeof y=="string"){var M=[];y=y.length;for(var q=0;q<y;q++)M.push(q);return M}M=[],q=0;for(const ie in y)M[q++]=ie;return M}}}function Jo(y,M){if(y.forEach&&typeof y.forEach=="function")y.forEach(M,void 0);else if(u(y)||typeof y=="string")Array.prototype.forEach.call(y,M,void 0);else for(var q=Yo(y),ie=Aa(y),Le=ie.length,je=0;je<Le;je++)M.call(void 0,ie[je],q&&q[je],y)}var ui=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ul(y,M){if(y){y=y.split("&");for(var q=0;q<y.length;q++){var ie=y[q].indexOf("="),Le=null;if(0<=ie){var je=y[q].substring(0,ie);Le=y[q].substring(ie+1)}else je=y[q];M(je,Le?decodeURIComponent(Le.replace(/\+/g," ")):"")}}}function _r(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof _r){this.h=y.h,Xo(this,y.j),this.o=y.o,this.g=y.g,Qo(this,y.s),this.l=y.l;var M=y.i,q=new Es;q.i=M.i,M.g&&(q.g=new Map(M.g),q.h=M.h),xo(this,q),this.m=y.m}else y&&(M=String(y).match(ui))?(this.h=!1,Xo(this,M[1]||"",!0),this.o=fn(M[2]||""),this.g=fn(M[3]||"",!0),Qo(this,M[4]),this.l=fn(M[5]||"",!0),xo(this,M[6]||"",!0),this.m=fn(M[7]||"")):(this.h=!1,this.i=new Es(null,this.h))}_r.prototype.toString=function(){var y=[],M=this.j;M&&y.push($s(M,cl,!0),":");var q=this.g;return(q||M=="file")&&(y.push("//"),(M=this.o)&&y.push($s(M,cl,!0),"@"),y.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),q=this.s,q!=null&&y.push(":",String(q))),(q=this.l)&&(this.g&&q.charAt(0)!="/"&&y.push("/"),y.push($s(q,q.charAt(0)=="/"?qs:$u,!0))),(q=this.i.toString())&&y.push("?",q),(q=this.m)&&y.push("#",$s(q,Zo)),y.join("")};function ci(y){return new _r(y)}function Xo(y,M,q){y.j=q?fn(M,!0):M,y.j&&(y.j=y.j.replace(/:$/,""))}function Qo(y,M){if(M){if(M=Number(M),isNaN(M)||0>M)throw Error("Bad port number "+M);y.s=M}else y.s=null}function xo(y,M,q){M instanceof Es?(y.i=M,Ws(y.i,y.h)):(q||(M=$s(M,La)),y.i=new Es(M,y.h))}function Bn(y,M,q){y.i.set(M,q)}function So(y){return Bn(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function fn(y,M){return y?M?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function $s(y,M,q){return typeof y=="string"?(y=encodeURI(y).replace(M,zu),q&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function zu(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var cl=/[#\/\?@]/g,$u=/[#\?:]/g,qs=/[#\?]/g,La=/[#\?@]/g,Zo=/#/g;function Es(y,M){this.h=this.g=null,this.i=y||null,this.j=!!M}function En(y){y.g||(y.g=new Map,y.h=0,y.i&&ul(y.i,function(M,q){y.add(decodeURIComponent(M.replace(/\+/g," ")),q)}))}n=Es.prototype,n.add=function(y,M){En(this),this.i=null,y=rs(this,y);var q=this.g.get(y);return q||this.g.set(y,q=[]),q.push(M),this.h+=1,this};function Cs(y,M){En(y),M=rs(y,M),y.g.has(M)&&(y.i=null,y.h-=y.g.get(M).length,y.g.delete(M))}function ns(y,M){return En(y),M=rs(y,M),y.g.has(M)}n.forEach=function(y,M){En(this),this.g.forEach(function(q,ie){q.forEach(function(Le){y.call(M,Le,ie,this)},this)},this)},n.na=function(){En(this);const y=Array.from(this.g.values()),M=Array.from(this.g.keys()),q=[];for(let ie=0;ie<M.length;ie++){const Le=y[ie];for(let je=0;je<Le.length;je++)q.push(M[ie])}return q},n.V=function(y){En(this);let M=[];if(typeof y=="string")ns(this,y)&&(M=M.concat(this.g.get(rs(this,y))));else{y=Array.from(this.g.values());for(let q=0;q<y.length;q++)M=M.concat(y[q])}return M},n.set=function(y,M){return En(this),this.i=null,y=rs(this,y),ns(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[M]),this.h+=1,this},n.get=function(y,M){return y?(y=this.V(y),0<y.length?String(y[0]):M):M};function jt(y,M,q){Cs(y,M),0<q.length&&(y.i=null,y.g.set(rs(y,M),_(q)),y.h+=q.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],M=Array.from(this.g.keys());for(var q=0;q<M.length;q++){var ie=M[q];const je=encodeURIComponent(String(ie)),rt=this.V(ie);for(ie=0;ie<rt.length;ie++){var Le=je;rt[ie]!==""&&(Le+="="+encodeURIComponent(String(rt[ie]))),y.push(Le)}}return this.i=y.join("&")};function rs(y,M){return M=String(M),y.j&&(M=M.toLowerCase()),M}function Ws(y,M){M&&!y.j&&(En(y),y.i=null,y.g.forEach(function(q,ie){var Le=ie.toLowerCase();ie!=Le&&(Cs(this,ie),jt(this,Le,q))},y)),y.j=M}function Hs(y,M){const q=new Ar;if(a.Image){const ie=new Image;ie.onload=g(fi,q,"TestLoadImage: loaded",!0,M,ie),ie.onerror=g(fi,q,"TestLoadImage: error",!1,M,ie),ie.onabort=g(fi,q,"TestLoadImage: abort",!1,M,ie),ie.ontimeout=g(fi,q,"TestLoadImage: timeout",!1,M,ie),a.setTimeout(function(){ie.ontimeout&&ie.ontimeout()},1e4),ie.src=y}else M(!1)}function Xl(y,M){const q=new Ar,ie=new AbortController,Le=setTimeout(()=>{ie.abort(),fi(q,"TestPingServer: timeout",!1,M)},1e4);fetch(y,{signal:ie.signal}).then(je=>{clearTimeout(Le),je.ok?fi(q,"TestPingServer: ok",!0,M):fi(q,"TestPingServer: server error",!1,M)}).catch(()=>{clearTimeout(Le),fi(q,"TestPingServer: error",!1,M)})}function fi(y,M,q,ie,Le){try{Le&&(Le.onload=null,Le.onerror=null,Le.onabort=null,Le.ontimeout=null),ie(q)}catch{}}function fl(){this.g=new on}function dl(y,M,q){const ie=q||"";try{Jo(y,function(Le,je){let rt=Le;f(Le)&&(rt=qt(Le)),M.push(ie+je+"="+encodeURIComponent(rt))})}catch(Le){throw M.push(ie+"type="+encodeURIComponent("_badmap")),Le}}function Eo(y){this.l=y.Ub||null,this.j=y.eb||!1}w(Eo,Rt),Eo.prototype.g=function(){return new ka(this.l,this.j)},Eo.prototype.i=function(y){return function(){return y}}({});function ka(y,M){nt.call(this),this.D=y,this.o=M,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(ka,nt),n=ka.prototype,n.open=function(y,M){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=M,this.readyState=1,di(this)},n.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const M={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(M.body=y),(this.D||a).fetch(new Request(this.A,M)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ji(this)),this.readyState=0},n.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qu(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))};function qu(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}n.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var M=y.value?y.value:new Uint8Array(0);(M=this.v.decode(M,{stream:!y.done}))&&(this.response=this.responseText+=M)}y.done?ji(this):di(this),this.readyState==3&&qu(this)}},n.Ra=function(y){this.g&&(this.response=this.responseText=y,ji(this))},n.Qa=function(y){this.g&&(this.response=y,ji(this))},n.ga=function(){this.g&&ji(this)};function ji(y){y.readyState=4,y.l=null,y.j=null,y.v=null,di(y)}n.setRequestHeader=function(y,M){this.u.append(y,M)},n.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],M=this.h.entries();for(var q=M.next();!q.done;)q=q.value,y.push(q[0]+": "+q[1]),q=M.next();return y.join(`\r
`)};function di(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(ka.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function bi(y){let M="";return H(y,function(q,ie){M+=ie,M+=":",M+=q,M+=`\r
`}),M}function ea(y,M,q){e:{for(ie in q){var ie=!1;break e}ie=!0}ie||(q=bi(q),typeof y=="string"?q!=null&&encodeURIComponent(String(q)):Bn(y,M,q))}function In(y){nt.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(In,nt);var Ql=/^https?$/i,ta=["POST","PUT"];n=In.prototype,n.Ha=function(y){this.J=y},n.ea=function(y,M,q,ie){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);M=M?M.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gn.g(),this.v=this.o?Wt(this.o):Wt(gn),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(M,String(y),!0),this.B=!1}catch(je){na(this,je);return}if(y=q||"",q=new Map(this.headers),ie)if(Object.getPrototypeOf(ie)===Object.prototype)for(var Le in ie)q.set(Le,ie[Le]);else if(typeof ie.keys=="function"&&typeof ie.get=="function")for(const je of ie.keys())q.set(je,ie.get(je));else throw Error("Unknown input type for opt_headers: "+String(ie));ie=Array.from(q.keys()).find(je=>je.toLowerCase()=="content-type"),Le=a.FormData&&y instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ta,M,void 0))||ie||Le||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[je,rt]of q)this.g.setRequestHeader(je,rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fi(this),this.u=!0,this.g.send(y),this.u=!1}catch(je){na(this,je)}};function na(y,M){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=M,y.m=5,Pa(y),xi(y)}function Pa(y){y.A||(y.A=!0,dt(y,"complete"),dt(y,"error"))}n.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,dt(this,"complete"),dt(this,"abort"),xi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),In.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?hl(this):this.bb())},n.bb=function(){hl(this)};function hl(y){if(y.h&&typeof o<"u"&&(!y.v[1]||br(y)!=4||y.Z()!=2)){if(y.u&&br(y)==4)_t(y.Ea,0,y);else if(dt(y,"readystatechange"),br(y)==4){y.h=!1;try{const rt=y.Z();e:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var M=!0;break e;default:M=!1}var q;if(!(q=M)){var ie;if(ie=rt===0){var Le=String(y.D).match(ui)[1]||null;!Le&&a.self&&a.self.location&&(Le=a.self.location.protocol.slice(0,-1)),ie=!Ql.test(Le?Le.toLowerCase():"")}q=ie}if(q)dt(y,"complete"),dt(y,"success");else{y.m=6;try{var je=2<br(y)?y.g.statusText:""}catch{je=""}y.l=je+" ["+y.Z()+"]",Pa(y)}}finally{xi(y)}}}}function xi(y,M){if(y.g){Fi(y);const q=y.g,ie=y.v[0]?()=>{}:null;y.g=null,y.v=null,M||dt(y,"ready");try{q.onreadystatechange=ie}catch{}}}function Fi(y){y.I&&(a.clearTimeout(y.I),y.I=null)}n.isActive=function(){return!!this.g};function br(y){return y.g?y.g.readyState:0}n.Z=function(){try{return 2<br(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(y){if(this.g){var M=this.g.responseText;return y&&M.indexOf(y)==0&&(M=M.substring(y.length)),Jt(M)}};function Zl(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function As(y){const M={};y=(y.g&&2<=br(y)&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let ie=0;ie<y.length;ie++){if(L(y[ie]))continue;var q=O(y[ie]);const Le=q[0];if(q=q[1],typeof q!="string")continue;q=q.trim();const je=M[Le]||[];M[Le]=je,je.push(q)}R(M,function(ie){return ie.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rr(y,M,q){return q&&q.internalChannelParams&&q.internalChannelParams[y]||M}function Ta(y){this.Aa=0,this.i=[],this.j=new Ar,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rr("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rr("baseRetryDelayMs",5e3,y),this.cb=Rr("retryDelaySeedMs",1e4,y),this.Wa=Rr("forwardChannelMaxRetries",2,y),this.wa=Rr("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new Ko(y&&y.concurrentRequestLimit),this.Da=new fl,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ta.prototype,n.la=8,n.G=1,n.connect=function(y,M,q,ie){yt(0),this.W=y,this.H=M||{},q&&ie!==void 0&&(this.H.OSID=q,this.H.OAID=ie),this.F=this.X,this.I=A(this,null,this.W),Gs(this)};function dr(y){if(Co(y),y.G==3){var M=y.U++,q=ci(y.I);if(Bn(q,"SID",y.K),Bn(q,"RID",M),Bn(q,"TYPE","terminate"),Ks(y,q),M=new Sn(y,y.j,M),M.L=2,M.v=So(ci(q)),q=!1,a.navigator&&a.navigator.sendBeacon)try{q=a.navigator.sendBeacon(M.v.toString(),"")}catch{}!q&&a.Image&&(new Image().src=M.v,q=!0),q||(M.g=K(M.j,null),M.g.ea(M.v)),M.F=Date.now(),Kn(M)}gl(y)}function Ls(y){y.g&&(pl(y),y.g.cancel(),y.g=null)}function Co(y){Ls(y),y.u&&(a.clearTimeout(y.u),y.u=null),Lo(y),y.h.cancel(),y.s&&(typeof y.s=="number"&&a.clearTimeout(y.s),y.s=null)}function Gs(y){if(!Di(y.h)&&!y.s){y.s=!0;var M=y.Ga;le||fe(),te||(le(),te=!0),ce.add(M,y),y.B=0}}function eu(y,M){return Ca(y.h)>=y.h.j-(y.s?1:0)?!1:y.s?(y.i=M.D.concat(y.i),!0):y.G==1||y.G==2||y.B>=(y.Va?0:y.Wa)?!1:(y.s=Cr(m(y.Ga,y,M),ml(y,y.B)),y.B++,!0)}n.Ga=function(y){if(this.s)if(this.s=null,this.G==1){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const Le=new Sn(this,this.j,y);let je=this.o;if(this.S&&(je?(je=I(je),W(je,this.S)):je=this.S),this.m!==null||this.O||(Le.H=je,je=null),this.P)e:{for(var M=0,q=0;q<this.i.length;q++){t:{var ie=this.i[q];if("__data__"in ie.map&&(ie=ie.map.__data__,typeof ie=="string")){ie=ie.length;break t}ie=void 0}if(ie===void 0)break;if(M+=ie,4096<M){M=q;break e}if(M===4096||q===this.i.length-1){M=q+1;break e}}M=1e3}else M=1e3;M=ks(this,Le,M),q=ci(this.I),Bn(q,"RID",y),Bn(q,"CVER",22),this.D&&Bn(q,"X-HTTP-Session-Id",this.D),Ks(this,q),je&&(this.O?M="headers="+encodeURIComponent(String(bi(je)))+"&"+M:this.m&&ea(q,this.m,je)),sr(this.h,Le),this.Ua&&Bn(q,"TYPE","init"),this.P?(Bn(q,"$req",M),Bn(q,"SID","null"),Le.T=!0,_o(Le,q,null)):_o(Le,q,M),this.G=2}}else this.G==3&&(y?ra(this,y):this.i.length==0||Di(this.h)||ra(this))};function ra(y,M){var q;M?q=M.l:q=y.U++;const ie=ci(y.I);Bn(ie,"SID",y.K),Bn(ie,"RID",q),Bn(ie,"AID",y.T),Ks(y,ie),y.m&&y.o&&ea(ie,y.m,y.o),q=new Sn(y,y.j,q,y.B+1),y.m===null&&(q.H=y.o),M&&(y.i=M.D.concat(y.i)),M=ks(y,q,1e3),q.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),sr(y.h,q),_o(q,ie,M)}function Ks(y,M){y.H&&H(y.H,function(q,ie){Bn(M,ie,q)}),y.l&&Jo({},function(q,ie){Bn(M,ie,q)})}function ks(y,M,q){q=Math.min(y.i.length,q);var ie=y.l?m(y.l.Na,y.l,y):null;e:{var Le=y.i;let je=-1;for(;;){const rt=["count="+q];je==-1?0<q?(je=Le[0].g,rt.push("ofs="+je)):je=0:rt.push("ofs="+je);let Xt=!0;for(let hn=0;hn<q;hn++){let Qt=Le[hn].g;const Nn=Le[hn].map;if(Qt-=je,0>Qt)je=Math.max(0,Le[hn].g-100),Xt=!1;else try{dl(Nn,rt,"req"+Qt+"_")}catch{ie&&ie(Nn)}}if(Xt){ie=rt.join("&");break e}}}return y=y.i.splice(0,q),M.D=y,ie}function Ao(y){if(!y.g&&!y.u){y.Y=1;var M=y.Fa;le||fe(),te||(le(),te=!0),ce.add(M,y),y.v=0}}function ia(y){return y.g||y.u||3<=y.v?!1:(y.Y++,y.u=Cr(m(y.Fa,y),ml(y,y.v)),y.v++,!0)}n.Fa=function(){if(this.u=null,Wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=Cr(m(this.ab,this),y)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),Ls(this),Wu(this))};function pl(y){y.A!=null&&(a.clearTimeout(y.A),y.A=null)}function Wu(y){y.g=new Sn(y,y.j,"rpc",y.Y),y.m===null&&(y.g.H=y.o),y.g.O=0;var M=ci(y.qa);Bn(M,"RID","rpc"),Bn(M,"SID",y.K),Bn(M,"AID",y.T),Bn(M,"CI",y.F?"0":"1"),!y.F&&y.ja&&Bn(M,"TO",y.ja),Bn(M,"TYPE","xmlhttp"),Ks(y,M),y.m&&y.o&&ea(M,y.m,y.o),y.L&&(y.g.I=y.L);var q=y.g;y=y.ia,q.L=1,q.v=So(ci(M)),q.m=null,q.P=!0,Go(q,y)}n.Za=function(){this.C!=null&&(this.C=null,Ls(this),ia(this),yt(19))};function Lo(y){y.C!=null&&(a.clearTimeout(y.C),y.C=null)}function Ys(y,M){var q=null;if(y.g==M){Lo(y),pl(y),y.g=null;var ie=2}else if(li(y.h,M))q=M.D,Yl(y.h,M),ie=1;else return;if(y.G!=0){if(M.o)if(ie==1){q=M.m?M.m.length:0,M=Date.now()-M.F;var Le=y.B;ie=Hn(),dt(ie,new It(ie,q)),Gs(y)}else Ao(y);else if(Le=M.s,Le==3||Le==0&&0<M.X||!(ie==1&&eu(y,M)||ie==2&&ia(y)))switch(q&&0<q.length&&(M=y.h,M.i=M.i.concat(q)),Le){case 1:Si(y,5);break;case 4:Si(y,10);break;case 3:Si(y,6);break;default:Si(y,2)}}}function ml(y,M){let q=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(q*=2),q*M}function Si(y,M){if(y.j.info("Error code "+M),M==2){var q=m(y.fb,y),ie=y.Xa;const Le=!ie;ie=new _r(ie||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Xo(ie,"https"),So(ie),Le?Hs(ie.toString(),q):Xl(ie.toString(),q)}else yt(2);y.G=0,y.l&&y.l.sa(M),gl(y),Co(y)}n.fb=function(y){y?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function gl(y){if(y.G=0,y.ka=[],y.l){const M=Jl(y.h);(M.length!=0||y.i.length!=0)&&(x(y.ka,M),x(y.ka,y.i),y.h.i.length=0,_(y.i),y.i.length=0),y.l.ra()}}function A(y,M,q){var ie=q instanceof _r?ci(q):new _r(q);if(ie.g!="")M&&(ie.g=M+"."+ie.g),Qo(ie,ie.s);else{var Le=a.location;ie=Le.protocol,M=M?M+"."+Le.hostname:Le.hostname,Le=+Le.port;var je=new _r(null);ie&&Xo(je,ie),M&&(je.g=M),Le&&Qo(je,Le),q&&(je.l=q),ie=je}return q=y.D,M=y.ya,q&&M&&Bn(ie,q,M),Bn(ie,"VER",y.la),Ks(y,ie),ie}function K(y,M,q){if(M&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return M=y.Ca&&!y.pa?new In(new Eo({eb:q})):new In(y.pa),M.Ha(y.J),M}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function he(){}n=he.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function _e(){}_e.prototype.g=function(y,M){return new Pe(y,M)};function Pe(y,M){nt.call(this),this.g=new Ta(M),this.l=y,this.h=M&&M.messageUrlParams||null,y=M&&M.messageHeaders||null,M&&M.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=M&&M.initMessageHeaders||null,M&&M.messageContentType&&(y?y["X-WebChannel-Content-Type"]=M.messageContentType:y={"X-WebChannel-Content-Type":M.messageContentType}),M&&M.va&&(y?y["X-WebChannel-Client-Profile"]=M.va:y={"X-WebChannel-Client-Profile":M.va}),this.g.S=y,(y=M&&M.Sb)&&!L(y)&&(this.g.m=y),this.v=M&&M.supportsCrossDomainXhr||!1,this.u=M&&M.sendRawJson||!1,(M=M&&M.httpSessionIdParam)&&!L(M)&&(this.g.D=M,y=this.h,y!==null&&M in y&&(y=this.h,M in y&&delete y[M])),this.j=new pt(this)}w(Pe,nt),Pe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pe.prototype.close=function(){dr(this.g)},Pe.prototype.o=function(y){var M=this.g;if(typeof y=="string"){var q={};q.__data__=y,y=q}else this.u&&(q={},q.__data__=qt(y),y=q);M.i.push(new Uu(M.Ya++,y)),M.G==3&&Gs(M)},Pe.prototype.N=function(){this.g.l=null,delete this.j,dr(this.g),delete this.g,Pe.aa.N.call(this)};function qe(y){Tt.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var M=y.__sm__;if(M){e:{for(const q in M){y=q;break e}y=void 0}(this.i=y)&&(y=this.i,M=M!==null&&y in M?M[y]:void 0),this.data=M}else this.data=y}w(qe,Tt);function tt(){$t.call(this),this.status=1}w(tt,$t);function pt(y){this.g=y}w(pt,he),pt.prototype.ua=function(){dt(this.g,"a")},pt.prototype.ta=function(y){dt(this.g,new qe(y))},pt.prototype.sa=function(y){dt(this.g,new tt)},pt.prototype.ra=function(){dt(this.g,"b")},_e.prototype.createWebChannel=_e.prototype.g,Pe.prototype.send=Pe.prototype.o,Pe.prototype.open=Pe.prototype.m,Pe.prototype.close=Pe.prototype.close,w3=function(){return new _e},y3=function(){return Hn()},v3=At,uw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gn.NO_ERROR=0,Gn.TIMEOUT=8,Gn.HTTP_ERROR=6,gv=Gn,wr.COMPLETE="complete",g3=wr,an.EventType=dn,dn.OPEN="a",dn.CLOSE="b",dn.ERROR="c",dn.MESSAGE="d",nt.prototype.listen=nt.prototype.K,jp=an,In.prototype.listenOnce=In.prototype.L,In.prototype.getLastError=In.prototype.Ka,In.prototype.getLastErrorCode=In.prototype.Ba,In.prototype.getStatus=In.prototype.Z,In.prototype.getResponseJson=In.prototype.Oa,In.prototype.getResponseText=In.prototype.oa,In.prototype.send=In.prototype.ea,In.prototype.setWithCredentials=In.prototype.Ha,m3=In}).apply(typeof Kg<"u"?Kg:typeof self<"u"?self:typeof window<"u"?window:{});const $C="@firebase/firestore",qC="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vs.UNAUTHENTICATED=new vs(null),vs.GOOGLE_CREDENTIALS=new vs("google-credentials-uid"),vs.FIRST_PARTY=new vs("first-party-uid"),vs.MOCK_USER=new vs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ep="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd=new I5("@firebase/firestore");function fh(){return pd.logLevel}function Et(n,...e){if(pd.logLevel<=kn.DEBUG){const t=e.map(B5);pd.debug(`Firestore (${ep}): ${n}`,...t)}}function Ru(n,...e){if(pd.logLevel<=kn.ERROR){const t=e.map(B5);pd.error(`Firestore (${ep}): ${n}`,...t)}}function Oh(n,...e){if(pd.logLevel<=kn.WARN){const t=e.map(B5);pd.warn(`Firestore (${ep}): ${n}`,...t)}}function B5(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(n="Unexpected state"){const e=`FIRESTORE (${ep}) INTERNAL ASSERTION FAILED: `+n;throw Ru(e),new Error(e)}function Qn(n,e){n||Kt()}function tn(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Lt extends df{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(vs.UNAUTHENTICATED))}shutdown(){}}class LH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class kH{constructor(e){this.t=e,this.currentUser=vs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qn(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve();let s=new Lu;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Lu,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{Et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(Et("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Lu)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qn(typeof r.accessToken=="string"),new _3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qn(e===null||typeof e=="string"),new vs(e)}}class PH{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=vs.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class TH{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new PH(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(vs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class WC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IH{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Hq(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Qn(this.o===void 0);const r=s=>{s.error!=null&&Et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Et("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new WC(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Qn(typeof t.token=="string"),this.R=t.token,new WC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NH(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=NH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function bn(n,e){return n<e?-1:n>e?1:0}function Mh(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=-62135596800,GC=1e6;class yi{static now(){return yi.fromMillis(Date.now())}static fromDate(e){return yi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*GC);return new yi(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Lt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Lt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<HC)throw new Lt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Lt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/GC}_compareTo(e){return this.seconds===e.seconds?bn(this.nanoseconds,e.nanoseconds):bn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-HC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{static fromTimestamp(e){return new Zt(e)}static min(){return new Zt(new yi(0,0))}static max(){return new Zt(new yi(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="__name__";class Pl{constructor(e,t,r){t===void 0?t=0:t>e.length&&Kt(),r===void 0?r=e.length-t:r>e.length-t&&Kt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Pl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=Pl.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Pl.isNumericId(e),i=Pl.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Pl.extractNumericId(e).compare(Pl.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zc.fromString(e.substring(4,e.length-2))}}class vr extends Pl{construct(e,t,r){return new vr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Lt(et.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new vr(t)}static emptyPath(){return new vr([])}}const RH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xi extends Pl{construct(e,t,r){return new Xi(e,t,r)}static isValidIdentifier(e){return RH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===KC}static keyField(){return new Xi([KC])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Lt(et.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Lt(et.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Lt(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Lt(et.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xi(t)}static emptyPath(){return new Xi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.path=e}static fromPath(e){return new Ft(vr.fromString(e))}static fromName(e){return new Ft(vr.fromString(e).popFirst(5))}static empty(){return new Ft(vr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return vr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ft(new vr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=-1;function OH(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Zt.fromTimestamp(r===1e9?new yi(t+1,0):new yi(t,r));return new Zc(i,Ft.empty(),e)}function MH(n){return new Zc(n.readTime,n.key,gm)}class Zc{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Zc(Zt.min(),Ft.empty(),gm)}static max(){return new Zc(Zt.max(),Ft.empty(),gm)}}function DH(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ft.comparator(n.documentKey,e.documentKey),t!==0?t:bn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tp(n){if(n.code!==et.FAILED_PRECONDITION||n.message!==jH)throw n;Et("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Kt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Qe((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Qe?t:Qe.resolve(t)}catch(t){return Qe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Qe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Qe.reject(t)}static resolve(e){return new Qe((t,r)=>{t(e)})}static reject(e){return new Qe((t,r)=>{r(e)})}static waitFor(e){return new Qe((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=Qe.resolve(!1);for(const r of e)t=t.next(i=>i?Qe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new Qe((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const f=u;t(e[f]).next(d=>{o[f]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,t){return new Qe((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}function BH(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function np(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}G0.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5=-1;function K0(n){return n==null}function r0(n){return n===0&&1/n==-1/0}function VH(n){return typeof n=="number"&&Number.isInteger(n)&&!r0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3="";function UH(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=YC(e)),e=zH(n.get(t),e);return YC(e)}function zH(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case x3:t+="";break;default:t+=s}}return t}function YC(n){return n+x3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ad(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function S3(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,t){this.comparator=e,this.root=t||Ki.EMPTY}insert(e,t){return new Nr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ki.BLACK,null,null))}remove(e){return new Nr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ki.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yg(this.root,e,this.comparator,!0)}}class Yg{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ki{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Ki.RED,this.left=i??Ki.EMPTY,this.right=s??Ki.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Ki(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ki.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Ki.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ki.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ki.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Kt();const e=this.left.check();if(e!==this.right.check())throw Kt();return e+(this.isRed()?0:1)}}Ki.EMPTY=null,Ki.RED=!0,Ki.BLACK=!1;Ki.EMPTY=new class{constructor(){this.size=0}get key(){throw Kt()}get value(){throw Kt()}get color(){throw Kt()}get left(){throw Kt()}get right(){throw Kt()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Ki(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.comparator=e,this.data=new Nr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new XC(this.data.getIterator())}getIteratorFrom(e){return new XC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof wi)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wi(this.comparator);return t.data=e,t}}class XC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.fields=e,e.sort(Xi.comparator)}static empty(){return new Za([])}unionWith(e){let t=new wi(Xi.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Za(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Mh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new E3("Invalid base64 string: "+s):s}}(e);return new Zi(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Zi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zi.EMPTY_BYTE_STRING=new Zi("");const $H=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ef(n){if(Qn(!!n),typeof n=="string"){let e=0;const t=$H.exec(n);if(Qn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gr(n.seconds),nanos:Gr(n.nanos)}}function Gr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function tf(n){return typeof n=="string"?Zi.fromBase64String(n):Zi.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3="server_timestamp",A3="__type__",L3="__previous_value__",k3="__local_write_time__";function U5(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[A3])===null||t===void 0?void 0:t.stringValue)===C3}function Y0(n){const e=n.mapValue.fields[L3];return U5(e)?Y0(e):e}function vm(n){const e=ef(n.mapValue.fields[k3].timestampValue);return new yi(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH{constructor(e,t,r,i,s,o,a,u,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=f}}const i0="(default)";class ym{constructor(e,t){this.projectId=e,this.database=t||i0}static empty(){return new ym("","")}get isDefaultDatabase(){return this.database===i0}isEqual(e){return e instanceof ym&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="__type__",WH="__max__",Jg={mapValue:{}},T3="__vector__",s0="value";function nf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?U5(n)?4:GH(n)?9007199254740991:HH(n)?10:11:Kt()}function Wl(n,e){if(n===e)return!0;const t=nf(n);if(t!==nf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return vm(n).isEqual(vm(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ef(i.timestampValue),a=ef(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return tf(i.bytesValue).isEqual(tf(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Gr(i.geoPointValue.latitude)===Gr(s.geoPointValue.latitude)&&Gr(i.geoPointValue.longitude)===Gr(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Gr(i.integerValue)===Gr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Gr(i.doubleValue),a=Gr(s.doubleValue);return o===a?r0(o)===r0(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Mh(n.arrayValue.values||[],e.arrayValue.values||[],Wl);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(JC(o)!==JC(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Wl(o[u],a[u])))return!1;return!0}(n,e);default:return Kt()}}function wm(n,e){return(n.values||[]).find(t=>Wl(t,e))!==void 0}function Dh(n,e){if(n===e)return 0;const t=nf(n),r=nf(e);if(t!==r)return bn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return bn(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Gr(s.integerValue||s.doubleValue),u=Gr(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return QC(n.timestampValue,e.timestampValue);case 4:return QC(vm(n),vm(e));case 5:return bn(n.stringValue,e.stringValue);case 6:return function(s,o){const a=tf(s),u=tf(o);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let f=0;f<a.length&&f<u.length;f++){const d=bn(a[f],u[f]);if(d!==0)return d}return bn(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=bn(Gr(s.latitude),Gr(o.latitude));return a!==0?a:bn(Gr(s.longitude),Gr(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return ZC(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,f,d;const h=s.fields||{},m=o.fields||{},g=(a=h[s0])===null||a===void 0?void 0:a.arrayValue,w=(u=m[s0])===null||u===void 0?void 0:u.arrayValue,_=bn(((f=g==null?void 0:g.values)===null||f===void 0?void 0:f.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return _!==0?_:ZC(g,w)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===Jg.mapValue&&o===Jg.mapValue)return 0;if(s===Jg.mapValue)return 1;if(o===Jg.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),f=o.fields||{},d=Object.keys(f);u.sort(),d.sort();for(let h=0;h<u.length&&h<d.length;++h){const m=bn(u[h],d[h]);if(m!==0)return m;const g=Dh(a[u[h]],f[d[h]]);if(g!==0)return g}return bn(u.length,d.length)}(n.mapValue,e.mapValue);default:throw Kt()}}function QC(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return bn(n,e);const t=ef(n),r=ef(e),i=bn(t.seconds,r.seconds);return i!==0?i:bn(t.nanos,r.nanos)}function ZC(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=Dh(t[i],r[i]);if(s)return s}return bn(t.length,r.length)}function jh(n){return cw(n)}function cw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=ef(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return tf(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ft.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=cw(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${cw(t.fields[o])}`;return i+"}"}(n.mapValue):Kt()}function vv(n){switch(nf(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Y0(n);return e?16+vv(e):16;case 5:return 2*n.stringValue.length;case 6:return tf(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+vv(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Ad(r.fields,(s,o)=>{i+=s.length+vv(o)}),i}(n.mapValue);default:throw Kt()}}function eA(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function fw(n){return!!n&&"integerValue"in n}function z5(n){return!!n&&"arrayValue"in n}function tA(n){return!!n&&"nullValue"in n}function nA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yv(n){return!!n&&"mapValue"in n}function HH(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[P3])===null||t===void 0?void 0:t.stringValue)===T3}function Yp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ad(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Yp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function GH(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===WH}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.value=e}static empty(){return new wa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!yv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yp(t)}setAll(e){let t=Xi.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Yp(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());yv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];yv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ad(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new wa(Yp(this.value))}}function I3(n){const e=[];return Ad(n.fields,(t,r)=>{const i=new Xi([t]);if(yv(r)){const s=I3(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Za(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ys(e,0,Zt.min(),Zt.min(),Zt.min(),wa.empty(),0)}static newFoundDocument(e,t,r,i){return new ys(e,1,t,Zt.min(),r,i,0)}static newNoDocument(e,t){return new ys(e,2,t,Zt.min(),Zt.min(),wa.empty(),0)}static newUnknownDocument(e,t){return new ys(e,3,t,Zt.min(),Zt.min(),wa.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Zt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ys&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ys(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,t){this.position=e,this.inclusive=t}}function rA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(s.field.isKeyField()?r=Ft.comparator(Ft.fromName(o.referenceValue),t.key):r=Dh(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function iA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Wl(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,t="asc"){this.field=e,this.dir=t}}function KH(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{}class si extends N3{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new JH(e,t,r):t==="array-contains"?new ZH(e,r):t==="in"?new eG(e,r):t==="not-in"?new tG(e,r):t==="array-contains-any"?new nG(e,r):new si(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new XH(e,r):new QH(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Dh(t,this.value)):t!==null&&nf(this.value)===nf(t)&&this.matchesComparison(Dh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Kt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class il extends N3{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new il(e,t)}matches(e){return R3(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function R3(n){return n.op==="and"}function O3(n){return YH(n)&&R3(n)}function YH(n){for(const e of n.filters)if(e instanceof il)return!1;return!0}function dw(n){if(n instanceof si)return n.field.canonicalString()+n.op.toString()+jh(n.value);if(O3(n))return n.filters.map(e=>dw(e)).join(",");{const e=n.filters.map(t=>dw(t)).join(",");return`${n.op}(${e})`}}function M3(n,e){return n instanceof si?function(r,i){return i instanceof si&&r.op===i.op&&r.field.isEqual(i.field)&&Wl(r.value,i.value)}(n,e):n instanceof il?function(r,i){return i instanceof il&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&M3(o,i.filters[a]),!0):!1}(n,e):void Kt()}function D3(n){return n instanceof si?function(t){return`${t.field.canonicalString()} ${t.op} ${jh(t.value)}`}(n):n instanceof il?function(t){return t.op.toString()+" {"+t.getFilters().map(D3).join(" ,")+"}"}(n):"Filter"}class JH extends si{constructor(e,t,r){super(e,t,r),this.key=Ft.fromName(r.referenceValue)}matches(e){const t=Ft.comparator(e.key,this.key);return this.matchesComparison(t)}}class XH extends si{constructor(e,t){super(e,"in",t),this.keys=j3("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class QH extends si{constructor(e,t){super(e,"not-in",t),this.keys=j3("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function j3(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ft.fromName(r.referenceValue))}class ZH extends si{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return z5(t)&&wm(t.arrayValue,this.value)}}class eG extends si{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&wm(this.value.arrayValue,t)}}class tG extends si{constructor(e,t){super(e,"not-in",t)}matches(e){if(wm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!wm(this.value.arrayValue,t)}}class nG extends si{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!z5(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>wm(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function sA(n,e=null,t=[],r=[],i=null,s=null,o=null){return new rG(n,e,t,r,i,s,o)}function $5(n){const e=tn(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>dw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),K0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>jh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>jh(r)).join(",")),e.le=t}return e.le}function q5(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!KH(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!M3(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!iA(n.startAt,e.startAt)&&iA(n.endAt,e.endAt)}function hw(n){return Ft.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function iG(n,e,t,r,i,s,o,a){return new Um(n,e,t,r,i,s,o,a)}function W5(n){return new Um(n)}function oA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function F3(n){return n.collectionGroup!==null}function Jp(n){const e=tn(n);if(e.he===null){e.he=[];const t=new Set;for(const s of e.explicitOrderBy)e.he.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new wi(Xi.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(f=>{f.isInequality()&&(a=a.add(f.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.he.push(new a0(s,r))}),t.has(Xi.keyField().canonicalString())||e.he.push(new a0(Xi.keyField(),r))}return e.he}function Bl(n){const e=tn(n);return e.Pe||(e.Pe=sG(e,Jp(n))),e.Pe}function sG(n,e){if(n.limitType==="F")return sA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new a0(i.field,s)});const t=n.endAt?new o0(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new o0(n.startAt.position,n.startAt.inclusive):null;return sA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function pw(n,e){const t=n.filters.concat([e]);return new Um(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function mw(n,e,t){return new Um(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function J0(n,e){return q5(Bl(n),Bl(e))&&n.limitType===e.limitType}function B3(n){return`${$5(Bl(n))}|lt:${n.limitType}`}function dh(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>D3(i)).join(", ")}]`),K0(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>jh(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>jh(i)).join(",")),`Target(${r})`}(Bl(n))}; limitType=${n.limitType})`}function X0(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ft.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of Jp(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const f=rA(o,a,u);return o.inclusive?f<=0:f<0}(r.startAt,Jp(r),i)||r.endAt&&!function(o,a,u){const f=rA(o,a,u);return o.inclusive?f>=0:f>0}(r.endAt,Jp(r),i))}(n,e)}function oG(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function V3(n){return(e,t)=>{let r=!1;for(const i of Jp(n)){const s=aG(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function aG(n,e,t){const r=n.field.isKeyField()?Ft.comparator(e.key,t.key):function(s,o,a){const u=o.data.field(s),f=a.data.field(s);return u!==null&&f!==null?Dh(u,f):Kt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Kt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ad(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return S3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG=new Nr(Ft.comparator);function Ou(){return lG}const U3=new Nr(Ft.comparator);function Fp(...n){let e=U3;for(const t of n)e=e.insert(t.key,t);return e}function z3(n){let e=U3;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Jf(){return Xp()}function $3(){return Xp()}function Xp(){return new Ld(n=>n.toString(),(n,e)=>n.isEqual(e))}const uG=new Nr(Ft.comparator),cG=new wi(Ft.comparator);function _n(...n){let e=cG;for(const t of n)e=e.add(t);return e}const fG=new wi(bn);function dG(){return fG}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:r0(e)?"-0":e}}function q3(n){return{integerValue:""+n}}function hG(n,e){return VH(e)?q3(e):H5(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(){this._=void 0}}function pG(n,e,t){return n instanceof l0?function(i,s){const o={fields:{[A3]:{stringValue:C3},[k3]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&U5(s)&&(s=Y0(s)),s&&(o.fields[L3]=s),{mapValue:o}}(t,e):n instanceof _m?H3(n,e):n instanceof bm?G3(n,e):function(i,s){const o=W3(i,s),a=aA(o)+aA(i.Ie);return fw(o)&&fw(i.Ie)?q3(a):H5(i.serializer,a)}(n,e)}function mG(n,e,t){return n instanceof _m?H3(n,e):n instanceof bm?G3(n,e):t}function W3(n,e){return n instanceof u0?function(r){return fw(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class l0 extends Q0{}class _m extends Q0{constructor(e){super(),this.elements=e}}function H3(n,e){const t=K3(e);for(const r of n.elements)t.some(i=>Wl(i,r))||t.push(r);return{arrayValue:{values:t}}}class bm extends Q0{constructor(e){super(),this.elements=e}}function G3(n,e){let t=K3(e);for(const r of n.elements)t=t.filter(i=>!Wl(i,r));return{arrayValue:{values:t}}}class u0 extends Q0{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function aA(n){return Gr(n.integerValue||n.doubleValue)}function K3(n){return z5(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function gG(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof _m&&i instanceof _m||r instanceof bm&&i instanceof bm?Mh(r.elements,i.elements,Wl):r instanceof u0&&i instanceof u0?Wl(r.Ie,i.Ie):r instanceof l0&&i instanceof l0}(n.transform,e.transform)}class vG{constructor(e,t){this.version=e,this.transformResults=t}}class Vl{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vl}static exists(e){return new Vl(void 0,e)}static updateTime(e){return new Vl(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wv(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Z0{}function Y3(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new G5(n.key,Vl.none()):new zm(n.key,n.data,Vl.none());{const t=n.data,r=wa.empty();let i=new wi(Xi.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new kd(n.key,r,new Za(i.toArray()),Vl.none())}}function yG(n,e,t){n instanceof zm?function(i,s,o){const a=i.value.clone(),u=uA(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof kd?function(i,s,o){if(!wv(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=uA(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(J3(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Qp(n,e,t,r){return n instanceof zm?function(s,o,a,u){if(!wv(s.precondition,o))return a;const f=s.value.clone(),d=cA(s.fieldTransforms,u,o);return f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof kd?function(s,o,a,u){if(!wv(s.precondition,o))return a;const f=cA(s.fieldTransforms,u,o),d=o.data;return d.setAll(J3(s)),d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(n,e,t,r):function(s,o,a){return wv(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function wG(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=W3(r.transform,i||null);s!=null&&(t===null&&(t=wa.empty()),t.set(r.field,s))}return t||null}function lA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Mh(r,i,(s,o)=>gG(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class zm extends Z0{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class kd extends Z0{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function J3(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function uA(n,e,t){const r=new Map;Qn(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,mG(o,a,t[i]))}return r}function cA(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,pG(s,o,e))}return r}class G5 extends Z0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _G extends Z0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bG{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&yG(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Qp(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Qp(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=$3();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const u=Y3(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Zt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_n())}isEqual(e){return this.batchId===e.batchId&&Mh(this.mutations,e.mutations,(t,r)=>lA(t,r))&&Mh(this.baseMutations,e.baseMutations,(t,r)=>lA(t,r))}}class K5{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Qn(e.mutations.length===r.length);let i=function(){return uG}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new K5(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SG{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ti,Ln;function EG(n){switch(n){case et.OK:return Kt();case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return Kt()}}function X3(n){if(n===void 0)return Ru("GRPC error has no .code"),et.UNKNOWN;switch(n){case ti.OK:return et.OK;case ti.CANCELLED:return et.CANCELLED;case ti.UNKNOWN:return et.UNKNOWN;case ti.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case ti.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case ti.INTERNAL:return et.INTERNAL;case ti.UNAVAILABLE:return et.UNAVAILABLE;case ti.UNAUTHENTICATED:return et.UNAUTHENTICATED;case ti.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case ti.NOT_FOUND:return et.NOT_FOUND;case ti.ALREADY_EXISTS:return et.ALREADY_EXISTS;case ti.PERMISSION_DENIED:return et.PERMISSION_DENIED;case ti.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case ti.ABORTED:return et.ABORTED;case ti.OUT_OF_RANGE:return et.OUT_OF_RANGE;case ti.UNIMPLEMENTED:return et.UNIMPLEMENTED;case ti.DATA_LOSS:return et.DATA_LOSS;default:return Kt()}}(Ln=ti||(ti={}))[Ln.OK=0]="OK",Ln[Ln.CANCELLED=1]="CANCELLED",Ln[Ln.UNKNOWN=2]="UNKNOWN",Ln[Ln.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ln[Ln.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ln[Ln.NOT_FOUND=5]="NOT_FOUND",Ln[Ln.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ln[Ln.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ln[Ln.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ln[Ln.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ln[Ln.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ln[Ln.ABORTED=10]="ABORTED",Ln[Ln.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ln[Ln.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ln[Ln.INTERNAL=13]="INTERNAL",Ln[Ln.UNAVAILABLE=14]="UNAVAILABLE",Ln[Ln.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CG(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AG=new zc([4294967295,4294967295],0);function fA(n){const e=CG().encode(n),t=new p3;return t.update(e),new Uint8Array(t.digest())}function dA(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new zc([t,r],0),new zc([i,s],0)]}class Y5{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Bp(`Invalid padding: ${t}`);if(r<0)throw new Bp(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bp(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Bp(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=zc.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(zc.fromNumber(r)));return i.compare(AG)===1&&(i=new zc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=fA(e),[r,i]=dA(t);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Y5(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const t=fA(e),[r,i]=dA(t);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Bp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,$m.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ey(Zt.min(),i,new Nr(bn),Ou(),_n())}}class $m{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new $m(r,t,_n(),_n(),_n())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class Q3{constructor(e,t){this.targetId=e,this.ge=t}}class Z3{constructor(e,t,r=Zi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class hA{constructor(){this.pe=0,this.ye=pA(),this.we=Zi.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=_n(),t=_n(),r=_n();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Kt()}}),new $m(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=pA()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Qn(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class LG{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ou(),this.$e=Xg(),this.Ke=Xg(),this.Ue=new Nr(bn)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Kt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const s=i.target;if(hw(s))if(r===0){const o=new Ft(s.path);this.ze(t,o,ys.newNoDocument(o,Zt.min()))}else Qn(r===1);else{const o=this.et(t);if(o!==r){const a=this.tt(e),u=a?this.nt(a,e,o):1;if(u!==0){this.Ye(t);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,f)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=tf(r).toUint8Array()}catch(u){if(u instanceof E3)return Oh("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Y5(o,i,s)}catch(u){return Oh(u instanceof Bp?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ee===0?null:a}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.ze(t,s,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&hw(a.target)){const u=new Ft(a.target.path);this._t(u).has(o)||this.ut(o,u)||this.ze(o,u,ys.newNoDocument(u,e))}s.ve&&(t.set(o,s.Fe()),s.Me())}});let r=_n();this.Ke.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const f=this.Xe(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new ey(e,t,this.Ue,this.Qe,r);return this.Qe=Ou(),this.$e=Xg(),this.Ke=Xg(),this.Ue=new Nr(bn),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new hA,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new wi(bn),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new wi(bn),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Et("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new hA),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Xg(){return new Nr(Ft.comparator)}function pA(){return new Nr(Ft.comparator)}const kG={asc:"ASCENDING",desc:"DESCENDING"},PG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TG={and:"AND",or:"OR"};class IG{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function gw(n,e){return n.useProto3Json||K0(e)?e:{value:e}}function c0(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function NG(n,e){return c0(n,e.toTimestamp())}function Ul(n){return Qn(!!n),Zt.fromTimestamp(function(t){const r=ef(t);return new yi(r.seconds,r.nanos)}(n))}function J5(n,e){return vw(n,e).canonicalString()}function vw(n,e){const t=function(i){return new vr(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function tI(n){const e=vr.fromString(n);return Qn(oI(e)),e}function yw(n,e){return J5(n.databaseId,e.path)}function e2(n,e){const t=tI(e);if(t.get(1)!==n.databaseId.projectId)throw new Lt(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Lt(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ft(rI(t))}function nI(n,e){return J5(n.databaseId,e)}function RG(n){const e=tI(n);return e.length===4?vr.emptyPath():rI(e)}function ww(n){return new vr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rI(n){return Qn(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function mA(n,e,t){return{name:yw(n,e),fields:t.value.mapValue.fields}}function OG(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Kt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(f,d){return f.useProto3Json?(Qn(d===void 0||typeof d=="string"),Zi.fromBase64String(d||"")):(Qn(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Zi.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(f){const d=f.code===void 0?et.UNKNOWN:X3(f.code);return new Lt(d,f.message||"")}(o);t=new Z3(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=e2(n,r.document.name),s=Ul(r.document.updateTime),o=r.document.createTime?Ul(r.document.createTime):Zt.min(),a=new wa({mapValue:{fields:r.document.fields}}),u=ys.newFoundDocument(i,s,o,a),f=r.targetIds||[],d=r.removedTargetIds||[];t=new _v(f,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=e2(n,r.document),s=r.readTime?Ul(r.readTime):Zt.min(),o=ys.newNoDocument(i,s),a=r.removedTargetIds||[];t=new _v([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=e2(n,r.document),s=r.removedTargetIds||[];t=new _v([],s,i,null)}else{if(!("filter"in e))return Kt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new SG(i,s),a=r.targetId;t=new Q3(a,o)}}return t}function MG(n,e){let t;if(e instanceof zm)t={update:mA(n,e.key,e.value)};else if(e instanceof G5)t={delete:yw(n,e.key)};else if(e instanceof kd)t={update:mA(n,e.key,e.data),updateMask:qG(e.fieldMask)};else{if(!(e instanceof _G))return Kt();t={verify:yw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof l0)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof _m)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof bm)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof u0)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Kt()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:NG(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Kt()}(n,e.precondition)),t}function DG(n,e){return n&&n.length>0?(Qn(e!==void 0),n.map(t=>function(i,s){let o=i.updateTime?Ul(i.updateTime):Ul(s);return o.isEqual(Zt.min())&&(o=Ul(s)),new vG(o,i.transformResults||[])}(t,e))):[]}function jG(n,e){return{documents:[nI(n,e.path)]}}function FG(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=nI(n,i);const s=function(f){if(f.length!==0)return sI(il.create(f,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(f){if(f.length!==0)return f.map(d=>function(m){return{field:hh(m.field),direction:UG(m.dir)}}(d))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=gw(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ht:t,parent:i}}function BG(n){let e=RG(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Qn(r===1);const d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];t.where&&(s=function(h){const m=iI(h);return m instanceof il&&O3(m)?m.getFilters():[m]}(t.where));let o=[];t.orderBy&&(o=function(h){return h.map(m=>function(w){return new a0(ph(w.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,K0(m)?null:m}(t.limit));let u=null;t.startAt&&(u=function(h){const m=!!h.before,g=h.values||[];return new o0(g,m)}(t.startAt));let f=null;return t.endAt&&(f=function(h){const m=!h.before,g=h.values||[];return new o0(g,m)}(t.endAt)),iG(e,i,o,s,a,"F",u,f)}function VG(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Kt()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function iI(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ph(t.unaryFilter.field);return si.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ph(t.unaryFilter.field);return si.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ph(t.unaryFilter.field);return si.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ph(t.unaryFilter.field);return si.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Kt()}}(n):n.fieldFilter!==void 0?function(t){return si.create(ph(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Kt()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return il.create(t.compositeFilter.filters.map(r=>iI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Kt()}}(t.compositeFilter.op))}(n):Kt()}function UG(n){return kG[n]}function zG(n){return PG[n]}function $G(n){return TG[n]}function hh(n){return{fieldPath:n.canonicalString()}}function ph(n){return Xi.fromServerFormat(n.fieldPath)}function sI(n){return n instanceof si?function(t){if(t.op==="=="){if(nA(t.value))return{unaryFilter:{field:hh(t.field),op:"IS_NAN"}};if(tA(t.value))return{unaryFilter:{field:hh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(nA(t.value))return{unaryFilter:{field:hh(t.field),op:"IS_NOT_NAN"}};if(tA(t.value))return{unaryFilter:{field:hh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hh(t.field),op:zG(t.op),value:t.value}}}(n):n instanceof il?function(t){const r=t.getFilters().map(i=>sI(i));return r.length===1?r[0]:{compositeFilter:{op:$G(t.op),filters:r}}}(n):Kt()}function qG(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function oI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t,r,i,s=Zt.min(),o=Zt.min(),a=Zi.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Oc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Oc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{constructor(e){this.Tt=e}}function HG(n){const e=BG({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?mw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{constructor(){this.Tn=new KG}addToCollectionParentIndex(e,t){return this.Tn.add(t),Qe.resolve()}getCollectionParents(e,t){return Qe.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Qe.resolve()}deleteFieldIndex(e,t){return Qe.resolve()}deleteAllFieldIndexes(e){return Qe.resolve()}createTargetIndexes(e,t){return Qe.resolve()}getDocumentsMatchingTarget(e,t){return Qe.resolve(null)}getIndexType(e,t){return Qe.resolve(0)}getFieldIndexes(e,t){return Qe.resolve([])}getNextCollectionGroupToUpdate(e){return Qe.resolve(null)}getMinOffset(e,t){return Qe.resolve(Zc.min())}getMinOffsetFromCollectionGroup(e,t){return Qe.resolve(Zc.min())}updateCollectionGroup(e,t,r){return Qe.resolve()}updateIndexEntries(e,t){return Qe.resolve()}}class KG{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new wi(vr.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wi(vr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aI=41943040;class oo{static withCacheSize(e){return new oo(e,oo.DEFAULT_COLLECTION_PERCENTILE,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oo.DEFAULT_COLLECTION_PERCENTILE=10,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oo.DEFAULT=new oo(aI,oo.DEFAULT_COLLECTION_PERCENTILE,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oo.DISABLED=new oo(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Fh(0)}static Un(){return new Fh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="LruGarbageCollector",YG=1048576;function yA([n,e],[t,r]){const i=bn(n,t);return i===0?bn(e,r):i}class JG{constructor(e){this.Hn=e,this.buffer=new wi(yA),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();yA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class XG{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Et(vA,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){np(t)?Et(vA,"Ignoring IndexedDB error during garbage collection: ",t):await tp(t)}await this.er(3e5)})}}class QG{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Qe.resolve(G0.ae);const r=new JG(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Et("LruGarbageCollector","Garbage collection skipped; disabled"),Qe.resolve(gA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Et("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gA):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,s,o,a,u,f;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,t))).next(h=>(s=h,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(f=Date.now(),fh()<=kn.DEBUG&&Et("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${h} documents in `+(f-u)+`ms
Total Duration: ${f-d}ms`),Qe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function ZG(n,e){return new QG(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{constructor(){this.changes=new Ld(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ys.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Qe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tK{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Qp(r.mutation,i,Za.empty(),yi.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,_n()).next(()=>r))}getLocalViewOfDocuments(e,t,r=_n()){const i=Jf();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Fp();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Jf();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,_n()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Ou();const o=Xp(),a=function(){return Xp()}();return t.forEach((u,f)=>{const d=r.get(f.key);i.has(f.key)&&(d===void 0||d.mutation instanceof kd)?s=s.insert(f.key,f):d!==void 0?(o.set(f.key,d.mutation.getFieldMask()),Qp(d.mutation,f,d.mutation.getFieldMask(),yi.now())):o.set(f.key,Za.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((f,d)=>o.set(f,d)),t.forEach((f,d)=>{var h;return a.set(f,new tK(d,(h=o.get(f))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Xp();let i=new Nr((o,a)=>o-a),s=_n();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(u=>{const f=t.get(u);if(f===null)return;let d=r.get(u)||Za.empty();d=a.applyToLocalView(f,d),r.set(u,d);const h=(i.get(a.batchId)||_n()).add(u);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),f=u.key,d=u.value,h=$3();d.forEach(m=>{if(!s.has(m)){const g=Y3(t.get(m),r.get(m));g!==null&&h.set(m,g),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,f,h))}return Qe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return Ft.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):F3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):Qe.resolve(Jf());let a=gm,u=s;return o.next(f=>Qe.forEach(f,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?Qe.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,u,f,_n())).next(d=>({batchId:a,changes:z3(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ft(t)).next(r=>{let i=Fp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=Fp();return this.indexManager.getCollectionParents(e,s).next(a=>Qe.forEach(a,u=>{const f=function(h,m){return new Um(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(d=>{d.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((u,f)=>{const d=f.getKey();o.get(d)===null&&(o=o.insert(d,ys.newInvalidDocument(d)))});let a=Fp();return o.forEach((u,f)=>{const d=s.get(u);d!==void 0&&Qp(d.mutation,f,Za.empty(),yi.now()),X0(t,f)&&(a=a.insert(u,f))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Qe.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Ul(i.createTime)}}(t)),Qe.resolve()}getNamedQuery(e,t){return Qe.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:HG(i.bundledQuery),readTime:Ul(i.readTime)}}(t)),Qe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iK{constructor(){this.overlays=new Nr(Ft.comparator),this.Rr=new Map}getOverlay(e,t){return Qe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Jf();return Qe.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.Et(e,t,s)}),Qe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),Qe.resolve()}getOverlaysForCollection(e,t,r){const i=Jf(),s=t.length+1,o=new Ft(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,f=u.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Qe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Nr((f,d)=>f-d);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let d=s.get(f.largestBatchId);d===null&&(d=Jf(),s=s.insert(f.largestBatchId,d)),d.set(f.getKey(),f)}}const a=Jf(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((f,d)=>a.set(f,d)),!(a.size()>=i)););return Qe.resolve(a)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new xG(t,r));let s=this.Rr.get(t);s===void 0&&(s=_n(),this.Rr.set(t,s)),this.Rr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sK{constructor(){this.sessionToken=Zi.EMPTY_BYTE_STRING}getSessionToken(e){return Qe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Qe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(){this.Vr=new wi(Ni.mr),this.gr=new wi(Ni.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Ni(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Ni(e,t))}br(e,t){e.forEach(r=>this.removeReference(r,t))}Sr(e){const t=new Ft(new vr([])),r=new Ni(t,e),i=new Ni(t,e+1),s=[];return this.gr.forEachInRange([r,i],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ft(new vr([])),r=new Ni(t,e),i=new Ni(t,e+1);let s=_n();return this.gr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Ni(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ni{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ft.comparator(e.key,t.key)||bn(e.Cr,t.Cr)}static pr(e,t){return bn(e.Cr,t.Cr)||Ft.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new wi(Ni.mr)}checkEmpty(e){return Qe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new bG(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.Mr=this.Mr.add(new Ni(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Qe.resolve(o)}lookupMutationBatch(e,t){return Qe.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),s=i<0?0:i;return Qe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Qe.resolve(this.mutationQueue.length===0?V5:this.Fr-1)}getAllMutationBatches(e){return Qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ni(t,0),i=new Ni(t,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],o=>{const a=this.Or(o.Cr);s.push(a)}),Qe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wi(bn);return t.forEach(i=>{const s=new Ni(i,0),o=new Ni(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],a=>{r=r.add(a.Cr)})}),Qe.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Ft.isDocumentKey(s)||(s=s.child(""));const o=new Ni(new Ft(s),0);let a=new wi(bn);return this.Mr.forEachWhile(u=>{const f=u.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(a=a.add(u.Cr)),!0)},o),Qe.resolve(this.Br(a))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Qn(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Qe.forEach(t.mutations,i=>{const s=new Ni(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Ni(t,0),i=this.Mr.firstAfterOrEqual(r);return Qe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Qe.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK{constructor(e){this.kr=e,this.docs=function(){return new Nr(Ft.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Qe.resolve(r?r.document.mutableCopy():ys.newInvalidDocument(t))}getEntries(e,t){let r=Ou();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ys.newInvalidDocument(i))}),Qe.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Ou();const o=t.path,a=new Ft(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:f,value:{document:d}}=u.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||DH(MH(d),r)<=0||(i.has(d.key)||X0(t,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Qe.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Kt()}qr(e,t){return Qe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new lK(this)}getSize(e){return Qe.resolve(this.size)}}class lK extends eK{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),Qe.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(e){this.persistence=e,this.Qr=new Ld(t=>$5(t),q5),this.lastRemoteSnapshotVersion=Zt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new X5,this.targetCount=0,this.Ur=Fh.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),Qe.resolve()}getLastRemoteSnapshotVersion(e){return Qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Qe.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Qe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),Qe.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Fh(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Qe.resolve()}updateTargetData(e,t){return this.zn(t),Qe.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,Qe.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Qe.waitFor(s).next(()=>i)}getTargetCount(e){return Qe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return Qe.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),Qe.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Qe.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),Qe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return Qe.resolve(r)}containsKey(e,t){return Qe.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new G0(0),this.zr=!1,this.zr=!0,this.jr=new sK,this.referenceDelegate=e(this),this.Hr=new uK(this),this.indexManager=new GG,this.remoteDocumentCache=function(i){return new aK(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new WG(t),this.Yr=new rK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new iK,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new oK(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){Et("MemoryPersistence","Starting transaction:",e);const i=new cK(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,t){return Qe.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class cK extends FH{constructor(e){super(),this.currentSequenceNumber=e}}class Q5{constructor(e){this.persistence=e,this.ti=new X5,this.ni=null}static ri(e){return new Q5(e)}get ii(){if(this.ni)return this.ni;throw Kt()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),Qe.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),Qe.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Qe.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Qe.forEach(this.ii,r=>{const i=Ft.fromPath(r);return this.si(e,i).next(s=>{s||t.removeEntry(i,Zt.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Qe.or([()=>Qe.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class f0{constructor(e,t){this.persistence=e,this.oi=new Ld(r=>UH(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=ZG(this,t)}static ri(e,t){return new f0(e,t)}Zr(){}Xr(e){return Qe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return Qe.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?Qe.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,t).next(a=>{a||(r++,s.removeEntry(o,Zt.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Qe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),Qe.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),Qe.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Qe.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=vv(e.data.value)),t}ar(e,t,r){return Qe.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return Qe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=_n(),i=_n();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Z5(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dK{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return z$()?8:BH(B$())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.rs(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new fK;return this._s(e,t,o).next(a=>{if(s.result=a,this.Xi)return this.us(e,t,o,a.size)})}).next(()=>s.result)}us(e,t,r,i){return r.documentReadCount<this.es?(fh()<=kn.DEBUG&&Et("QueryEngine","SDK will not create cache indexes for query:",dh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Qe.resolve()):(fh()<=kn.DEBUG&&Et("QueryEngine","Query:",dh(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(fh()<=kn.DEBUG&&Et("QueryEngine","The SDK decides to create cache indexes for query:",dh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bl(t))):Qe.resolve())}rs(e,t){if(oA(t))return Qe.resolve(null);let r=Bl(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=mw(t,null,"F"),r=Bl(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=_n(...s);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const f=this.cs(t,a);return this.ls(t,f,o,u.readTime)?this.rs(e,mw(t,null,"F")):this.hs(e,f,t,u)}))})))}ss(e,t,r,i){return oA(t)||i.isEqual(Zt.min())?Qe.resolve(null):this.ns.getDocuments(e,r).next(s=>{const o=this.cs(t,s);return this.ls(t,o,r,i)?Qe.resolve(null):(fh()<=kn.DEBUG&&Et("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),dh(t)),this.hs(e,o,t,OH(i,gm)).next(a=>a))})}cs(e,t){let r=new wi(V3(e));return t.forEach((i,s)=>{X0(e,s)&&(r=r.add(s))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,t,r){return fh()<=kn.DEBUG&&Et("QueryEngine","Using full collection scan to execute query:",dh(t)),this.ns.getDocumentsMatchingQuery(e,t,Zc.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="LocalStore",hK=3e8;class pK{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new Nr(bn),this.Is=new Ld(s=>$5(s),q5),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nK(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function mK(n,e,t,r){return new pK(n,e,t,r)}async function uI(n,e){const t=tn(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=_n();for(const f of i){o.push(f.batchId);for(const d of f.mutations)u=u.add(d.key)}for(const f of s){a.push(f.batchId);for(const d of f.mutations)u=u.add(d.key)}return t.localDocuments.getDocuments(r,u).next(f=>({Rs:f,removedBatchIds:o,addedBatchIds:a}))})})}function gK(n,e){const t=tn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ds.newChangeBuffer({trackRemovals:!0});return function(a,u,f,d){const h=f.batch,m=h.keys();let g=Qe.resolve();return m.forEach(w=>{g=g.next(()=>d.getEntry(u,w)).next(_=>{const x=f.docVersions.get(w);Qn(x!==null),_.version.compareTo(x)<0&&(h.applyToRemoteDocument(_,f),_.isValidDocument()&&(_.setReadTime(f.commitVersion),d.addEntry(_)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(u,h))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=_n();for(let f=0;f<a.mutationResults.length;++f)a.mutationResults[f].transformResults.length>0&&(u=u.add(a.batch.mutations[f].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function cI(n){const e=tn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function vK(n,e){const t=tn(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const a=[];e.targetChanges.forEach((d,h)=>{const m=i.get(h);if(!m)return;a.push(t.Hr.removeMatchingKeys(s,d.removedDocuments,h).next(()=>t.Hr.addMatchingKeys(s,d.addedDocuments,h)));let g=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(Zi.EMPTY_BYTE_STRING,Zt.min()).withLastLimboFreeSnapshotVersion(Zt.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(h,g),function(_,x,C){return _.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=hK?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(m,g,d)&&a.push(t.Hr.updateTargetData(s,g))});let u=Ou(),f=_n();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(yK(s,o,e.documentUpdates).next(d=>{u=d.Vs,f=d.fs})),!r.isEqual(Zt.min())){const d=t.Hr.getLastRemoteSnapshotVersion(s).next(h=>t.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return Qe.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,f)).next(()=>u)}).then(s=>(t.Ts=i,s))}function yK(n,e,t){let r=_n(),i=_n();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Ou();return t.forEach((a,u)=>{const f=s.get(a);u.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Zt.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):Et(e_,"Ignoring outdated watch update for ",a,". Current version:",f.version," Watch version:",u.version)}),{Vs:o,fs:i}})}function wK(n,e){const t=tn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=V5),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _K(n,e){const t=tn(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(s=>s?(i=s,Qe.resolve(i)):t.Hr.allocateTargetId(r).next(o=>(i=new Oc(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function _w(n,e,t){const r=tn(n),i=r.Ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!np(o))throw o;Et(e_,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function wA(n,e,t){const r=tn(n);let i=Zt.min(),s=_n();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,f,d){const h=tn(u),m=h.Is.get(d);return m!==void 0?Qe.resolve(h.Ts.get(m)):h.Hr.getTargetData(f,d)}(r,o,Bl(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,t?i:Zt.min(),t?s:_n())).next(a=>(bK(r,oG(e),a),{documents:a,gs:s})))}function bK(n,e,t){let r=n.Es.get(e)||Zt.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Es.set(e,r)}class _A{constructor(){this.activeTargetIds=dG()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xK{constructor(){this.ho=new _A,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new _A,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SK{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="ConnectivityMonitor";class xA{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Et(bA,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Et(bA,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qg=null;function bw(){return Qg===null?Qg=function(){return 268435456+Math.round(2147483648*Math.random())}():Qg++,"0x"+Qg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="RestConnection",EK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CK{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===i0?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,t,r,i,s){const o=bw(),a=this.So(e,t.toUriEncodedString());Et(t2,`Sending RPC '${e}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(u,i,s),this.vo(e,a,u,r).then(f=>(Et(t2,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Oh(t2,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Co(e,t,r,i,s,o){return this.bo(e,t,r,i,s)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ep}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}So(e,t){const r=EK[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AK{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="WebChannelConnection";class LK extends CK{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const s=bw();return new Promise((o,a)=>{const u=new m3;u.setWithCredentials(!0),u.listenOnce(g3.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case gv.NO_ERROR:const d=u.getResponseJson();Et(gs,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case gv.TIMEOUT:Et(gs,`RPC '${e}' ${s} timed out`),a(new Lt(et.DEADLINE_EXCEEDED,"Request time out"));break;case gv.HTTP_ERROR:const h=u.getStatus();if(Et(gs,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const w=function(x){const C=x.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(C)>=0?C:et.UNKNOWN}(g.status);a(new Lt(w,g.message))}else a(new Lt(et.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Lt(et.UNAVAILABLE,"Connection failed."));break;default:Kt()}}finally{Et(gs,`RPC '${e}' ${s} completed.`)}});const f=JSON.stringify(i);Et(gs,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",f,r,15)})}Wo(e,t,r){const i=bw(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=w3(),a=y3(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const d=s.join("");Et(gs,`Creating RPC '${e}' stream ${i}: ${d}`,u);const h=o.createWebChannel(d,u);let m=!1,g=!1;const w=new AK({Fo:x=>{g?Et(gs,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(m||(Et(gs,`Opening RPC '${e}' stream ${i} transport.`),h.open(),m=!0),Et(gs,`RPC '${e}' stream ${i} sending:`,x),h.send(x))},Mo:()=>h.close()}),_=(x,C,L)=>{x.listen(C,j=>{try{L(j)}catch(D){setTimeout(()=>{throw D},0)}})};return _(h,jp.EventType.OPEN,()=>{g||(Et(gs,`RPC '${e}' stream ${i} transport opened.`),w.Qo())}),_(h,jp.EventType.CLOSE,()=>{g||(g=!0,Et(gs,`RPC '${e}' stream ${i} transport closed`),w.Ko())}),_(h,jp.EventType.ERROR,x=>{g||(g=!0,Oh(gs,`RPC '${e}' stream ${i} transport errored:`,x),w.Ko(new Lt(et.UNAVAILABLE,"The operation could not be completed")))}),_(h,jp.EventType.MESSAGE,x=>{var C;if(!g){const L=x.data[0];Qn(!!L);const j=L,D=(j==null?void 0:j.error)||((C=j[0])===null||C===void 0?void 0:C.error);if(D){Et(gs,`RPC '${e}' stream ${i} received error:`,D);const $=D.status;let H=function(N){const W=ti[N];if(W!==void 0)return X3(W)}($),R=D.message;H===void 0&&(H=et.INTERNAL,R="Unknown error status: "+$+" with message "+D.message),g=!0,w.Ko(new Lt(H,R)),h.close()}else Et(gs,`RPC '${e}' stream ${i} received:`,L),w.Uo(L)}}),_(a,v3.STAT_EVENT,x=>{x.stat===uw.PROXY?Et(gs,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===uw.NOPROXY&&Et(gs,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.$o()},0),w}}function n2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(n){return new IG(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&Et("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="PersistentStream";class dI{constructor(e,t,r,i,s,o,a,u){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new fI(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===et.RESOURCE_EXHAUSTED?(Ru(t.toString()),Ru("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new Lt(et.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Et(SA,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Et(SA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kK extends dI{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=OG(this.serializer,e),r=function(s){if(!("targetChange"in s))return Zt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Zt.min():o.readTime?Ul(o.readTime):Zt.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=ww(this.serializer),t.addTarget=function(s,o){let a;const u=o.target;if(a=hw(u)?{documents:jG(s,u)}:{query:FG(s,u).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=eI(s,o.resumeToken);const f=gw(s,o.expectedCount);f!==null&&(a.expectedCount=f)}else if(o.snapshotVersion.compareTo(Zt.min())>0){a.readTime=c0(s,o.snapshotVersion.toTimestamp());const f=gw(s,o.expectedCount);f!==null&&(a.expectedCount=f)}return a}(this.serializer,e);const r=VG(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=ww(this.serializer),t.removeTarget=e,this.I_(t)}}class PK extends dI{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Qn(!!e.streamToken),this.lastStreamToken=e.streamToken,Qn(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Qn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=DG(e.writeResults,e.commitTime),r=Ul(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=ww(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>MG(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TK{}class IK extends TK{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Lt(et.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.bo(e,vw(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Lt(et.UNKNOWN,s.toString())})}Co(e,t,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,vw(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Lt(et.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class NK{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ru(t),this.N_=!1):Et("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="RemoteStore";class RK{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{r.enqueueAndForget(async()=>{Pd(this)&&(Et(md,"Restarting streams for network reachability change."),await async function(u){const f=tn(u);f.W_.add(4),await qm(f),f.j_.set("Unknown"),f.W_.delete(4),await ny(f)}(this))})}),this.j_=new NK(r,i)}}async function ny(n){if(Pd(n))for(const e of n.G_)await e(!0)}async function qm(n){for(const e of n.G_)await e(!1)}function hI(n,e){const t=tn(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),i_(t)?r_(t):rp(t).c_()&&n_(t,e))}function t_(n,e){const t=tn(n),r=rp(t);t.U_.delete(e),r.c_()&&pI(t,e),t.U_.size===0&&(r.c_()?r.P_():Pd(t)&&t.j_.set("Unknown"))}function n_(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Zt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}rp(n).y_(e)}function pI(n,e){n.H_.Ne(e),rp(n).w_(e)}function r_(n){n.H_=new LG({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),rp(n).start(),n.j_.B_()}function i_(n){return Pd(n)&&!rp(n).u_()&&n.U_.size>0}function Pd(n){return tn(n).W_.size===0}function mI(n){n.H_=void 0}async function OK(n){n.j_.set("Online")}async function MK(n){n.U_.forEach((e,t)=>{n_(n,e)})}async function DK(n,e){mI(n),i_(n)?(n.j_.q_(e),r_(n)):n.j_.set("Unknown")}async function jK(n,e,t){if(n.j_.set("Online"),e instanceof Z3&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.U_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.U_.delete(a),i.H_.removeTarget(a))}(n,e)}catch(r){Et(md,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await d0(n,r)}else if(e instanceof _v?n.H_.We(e):e instanceof Q3?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Zt.min()))try{const r=await cI(n.localStore);t.compareTo(r)>=0&&await function(s,o){const a=s.H_.ot(o);return a.targetChanges.forEach((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.U_.get(f);d&&s.U_.set(f,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,f)=>{const d=s.U_.get(u);if(!d)return;s.U_.set(u,d.withResumeToken(Zi.EMPTY_BYTE_STRING,d.snapshotVersion)),pI(s,u);const h=new Oc(d.target,u,f,d.sequenceNumber);n_(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t)}catch(r){Et(md,"Failed to raise snapshot:",r),await d0(n,r)}}async function d0(n,e,t){if(!np(e))throw e;n.W_.add(1),await qm(n),n.j_.set("Offline"),t||(t=()=>cI(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Et(md,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await ny(n)})}function gI(n,e){return e().catch(t=>d0(n,t,e))}async function ry(n){const e=tn(n),t=rf(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:V5;for(;FK(e);)try{const i=await wK(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,BK(e,i)}catch(i){await d0(e,i)}vI(e)&&yI(e)}function FK(n){return Pd(n)&&n.K_.length<10}function BK(n,e){n.K_.push(e);const t=rf(n);t.c_()&&t.b_&&t.S_(e.mutations)}function vI(n){return Pd(n)&&!rf(n).u_()&&n.K_.length>0}function yI(n){rf(n).start()}async function VK(n){rf(n).C_()}async function UK(n){const e=rf(n);for(const t of n.K_)e.S_(t.mutations)}async function zK(n,e,t){const r=n.K_.shift(),i=K5.from(r,e,t);await gI(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await ry(n)}async function $K(n,e){e&&rf(n).b_&&await async function(r,i){if(function(o){return EG(o)&&o!==et.ABORTED}(i.code)){const s=r.K_.shift();rf(r).h_(),await gI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ry(r)}}(n,e),vI(n)&&yI(n)}async function EA(n,e){const t=tn(n);t.asyncQueue.verifyOperationInProgress(),Et(md,"RemoteStore received new credentials");const r=Pd(t);t.W_.add(3),await qm(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await ny(t)}async function qK(n,e){const t=tn(n);e?(t.W_.delete(2),await ny(t)):e||(t.W_.add(2),await qm(t),t.j_.set("Unknown"))}function rp(n){return n.J_||(n.J_=function(t,r,i){const s=tn(t);return s.M_(),new kK(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:OK.bind(null,n),No:MK.bind(null,n),Lo:DK.bind(null,n),p_:jK.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),i_(n)?r_(n):n.j_.set("Unknown")):(await n.J_.stop(),mI(n))})),n.J_}function rf(n){return n.Y_||(n.Y_=function(t,r,i){const s=tn(t);return s.M_(),new PK(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:VK.bind(null,n),Lo:$K.bind(null,n),D_:UK.bind(null,n),v_:zK.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await ry(n)):(await n.Y_.stop(),n.K_.length>0&&(Et(md,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Lu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new s_(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Lt(et.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function o_(n,e){if(Ru("AsyncQueue",`${e}: ${n}`),np(n))return new Lt(et.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{static emptySet(e){return new Ph(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ft.comparator(t.key,r.key):(t,r)=>Ft.comparator(t.key,r.key),this.keyedMap=Fp(),this.sortedSet=new Nr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ph)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ph;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(){this.Z_=new Nr(Ft.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Kt():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Bh{constructor(e,t,r,i,s,o,a,u,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Bh(e,t,Ph.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&J0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WK{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class HK{constructor(){this.queries=AA(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=tn(t),s=i.queries;i.queries=AA(),s.forEach((o,a)=>{for(const u of a.ta)u.onError(r)})})(this,new Lt(et.ABORTED,"Firestore shutting down"))}}function AA(){return new Ld(n=>B3(n),J0)}async function wI(n,e){const t=tn(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new WK,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await t.onListen(i,!0);break;case 1:s.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){const a=o_(o,`Initialization of query '${dh(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.ta.push(e),e.sa(t.onlineState),s.ea&&e.oa(s.ea)&&a_(t)}async function _I(n,e){const t=tn(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function GK(n,e){const t=tn(n);let r=!1;for(const i of e){const s=i.query,o=t.queries.get(s);if(o){for(const a of o.ta)a.oa(i)&&(r=!0);o.ea=i}}r&&a_(t)}function KK(n,e,t){const r=tn(n),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(t);r.queries.delete(e)}function a_(n){n.ia.forEach(e=>{e.next()})}var xw,LA;(LA=xw||(xw={}))._a="default",LA.Cache="cache";class bI{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Bh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Bh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==xw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){this.key=e}}class SI{constructor(e){this.key=e}}class YK{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=_n(),this.mutatedKeys=_n(),this.ya=V3(e),this.wa=new Ph(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new CA,i=t?t.wa:this.wa;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const m=i.get(d),g=X0(this.query,h)?h:null,w=!!m&&this.mutatedKeys.has(m.key),_=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;m&&g?m.data.isEqual(g.data)?w!==_&&(r.track({type:3,doc:g}),x=!0):this.va(m,g)||(r.track({type:2,doc:g}),x=!0,(u&&this.ya(g,u)>0||f&&this.ya(g,f)<0)&&(a=!0)):!m&&g?(r.track({type:0,doc:g}),x=!0):m&&!g&&(r.track({type:1,doc:m}),x=!0,(u||f)&&(a=!0)),x&&(g?(o=o.add(g),s=_?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{wa:o,Da:r,ls:a,mutatedKeys:s}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((d,h)=>function(g,w){const _=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Kt()}};return _(g)-_(w)}(d.type,h.type)||this.ya(d.doc,h.doc)),this.Ca(r),i=i!=null&&i;const a=t&&!i?this.Fa():[],u=this.pa.size===0&&this.current&&!i?1:0,f=u!==this.ga;return this.ga=u,o.length!==0||f?{snapshot:new Bh(this.query,e.wa,s,o,e.mutatedKeys,u===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new CA,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=_n(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new SI(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new xI(r))}),t}Oa(e){this.fa=e.gs,this.pa=_n();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return Bh.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const l_="SyncEngine";class JK{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class XK{constructor(e){this.key=e,this.Ba=!1}}class QK{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Ld(a=>B3(a),J0),this.qa=new Map,this.Qa=new Set,this.$a=new Nr(Ft.comparator),this.Ka=new Map,this.Ua=new X5,this.Wa={},this.Ga=new Map,this.za=Fh.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function ZK(n,e,t=!0){const r=PI(n);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await EI(r,e,t,!0),i}async function eY(n,e){const t=PI(n);await EI(t,e,!0,!1)}async function EI(n,e,t,r){const i=await _K(n.localStore,Bl(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let a;return r&&(a=await tY(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&hI(n.remoteStore,i),a}async function tY(n,e,t,r,i){n.Ha=(h,m,g)=>async function(_,x,C,L){let j=x.view.Sa(C);j.ls&&(j=await wA(_.localStore,x.query,!1).then(({documents:R})=>x.view.Sa(R,j)));const D=L&&L.targetChanges.get(x.targetId),$=L&&L.targetMismatches.get(x.targetId)!=null,H=x.view.applyChanges(j,_.isPrimaryClient,D,$);return PA(_,x.targetId,H.Ma),H.snapshot}(n,h,m,g);const s=await wA(n.localStore,e,!0),o=new YK(e,s.gs),a=o.Sa(s.documents),u=$m.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=o.applyChanges(a,n.isPrimaryClient,u);PA(n,t,f.Ma);const d=new JK(e,t,o);return n.ka.set(e,d),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),f.snapshot}async function nY(n,e,t){const r=tn(n),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(o=>!J0(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await _w(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&t_(r.remoteStore,i.targetId),Sw(r,i.targetId)}).catch(tp)):(Sw(r,i.targetId),await _w(r.localStore,i.targetId,!0))}async function rY(n,e){const t=tn(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),t_(t.remoteStore,r.targetId))}async function iY(n,e,t){const r=fY(n);try{const i=await function(o,a){const u=tn(o),f=yi.now(),d=a.reduce((g,w)=>g.add(w.key),_n());let h,m;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=Ou(),_=_n();return u.ds.getEntries(g,d).next(x=>{w=x,w.forEach((C,L)=>{L.isValidDocument()||(_=_.add(C))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,w)).next(x=>{h=x;const C=[];for(const L of a){const j=wG(L,h.get(L.key).overlayedDocument);j!=null&&C.push(new kd(L.key,j,I3(j.value.mapValue),Vl.exists(!0)))}return u.mutationQueue.addMutationBatch(g,f,C,a)}).next(x=>{m=x;const C=x.applyToLocalDocumentSet(h,_);return u.documentOverlayCache.saveOverlays(g,x.batchId,C)})}).then(()=>({batchId:m.batchId,changes:z3(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let f=o.Wa[o.currentUser.toKey()];f||(f=new Nr(bn)),f=f.insert(a,u),o.Wa[o.currentUser.toKey()]=f}(r,i.batchId,t),await Wm(r,i.changes),await ry(r.remoteStore)}catch(i){const s=o_(i,"Failed to persist write");t.reject(s)}}async function CI(n,e){const t=tn(n);try{const r=await vK(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Ka.get(s);o&&(Qn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?Qn(o.Ba):i.removedDocuments.size>0&&(Qn(o.Ba),o.Ba=!1))}),await Wm(t,r,e)}catch(r){await tp(r)}}function kA(n,e,t){const r=tn(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((s,o)=>{const a=o.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=tn(o);u.onlineState=a;let f=!1;u.queries.forEach((d,h)=>{for(const m of h.ta)m.sa(a)&&(f=!0)}),f&&a_(u)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sY(n,e,t){const r=tn(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),s=i&&i.key;if(s){let o=new Nr(Ft.comparator);o=o.insert(s,ys.newNoDocument(s,Zt.min()));const a=_n().add(s),u=new ey(Zt.min(),new Map,new Nr(bn),o,a);await CI(r,u),r.$a=r.$a.remove(s),r.Ka.delete(e),u_(r)}else await _w(r.localStore,e,!1).then(()=>Sw(r,e,t)).catch(tp)}async function oY(n,e){const t=tn(n),r=e.batch.batchId;try{const i=await gK(t.localStore,e);LI(t,r,null),AI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Wm(t,i)}catch(i){await tp(i)}}async function aY(n,e,t){const r=tn(n);try{const i=await function(o,a){const u=tn(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let d;return u.mutationQueue.lookupMutationBatch(f,a).next(h=>(Qn(h!==null),d=h.keys(),u.mutationQueue.removeMutationBatch(f,h))).next(()=>u.mutationQueue.performConsistencyCheck(f)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(f,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,d)).next(()=>u.localDocuments.getDocuments(f,d))})}(r.localStore,e);LI(r,e,t),AI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Wm(r,i)}catch(i){await tp(i)}}function AI(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function LI(n,e,t){const r=tn(n);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Sw(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(r=>{n.Ua.containsKey(r)||kI(n,r)})}function kI(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(t_(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),u_(n))}function PA(n,e,t){for(const r of t)r instanceof xI?(n.Ua.addReference(r.key,e),lY(n,r)):r instanceof SI?(Et(l_,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||kI(n,r.key)):Kt()}function lY(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(Et(l_,"New document in limbo: "+t),n.Qa.add(r),u_(n))}function u_(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Ft(vr.fromString(e)),r=n.za.next();n.Ka.set(r,new XK(t)),n.$a=n.$a.insert(t,r),hI(n.remoteStore,new Oc(Bl(W5(t.path)),r,"TargetPurposeLimboResolution",G0.ae))}}async function Wm(n,e,t){const r=tn(n),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,u)=>{o.push(r.Ha(u,e,t).then(f=>{var d;if((f||t)&&r.isPrimaryClient){const h=f?!f.fromCache:(d=t==null?void 0:t.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(f){i.push(f);const h=Z5.Yi(u.targetId,f);s.push(h)}}))}),await Promise.all(o),r.La.p_(i),await async function(u,f){const d=tn(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Qe.forEach(f,m=>Qe.forEach(m.Hi,g=>d.persistence.referenceDelegate.addReference(h,m.targetId,g)).next(()=>Qe.forEach(m.Ji,g=>d.persistence.referenceDelegate.removeReference(h,m.targetId,g)))))}catch(h){if(!np(h))throw h;Et(e_,"Failed to update sequence numbers: "+h)}for(const h of f){const m=h.targetId;if(!h.fromCache){const g=d.Ts.get(m),w=g.snapshotVersion,_=g.withLastLimboFreeSnapshotVersion(w);d.Ts=d.Ts.insert(m,_)}}}(r.localStore,s))}async function uY(n,e){const t=tn(n);if(!t.currentUser.isEqual(e)){Et(l_,"User change. New user:",e.toKey());const r=await uI(t.localStore,e);t.currentUser=e,function(s,o){s.Ga.forEach(a=>{a.forEach(u=>{u.reject(new Lt(et.CANCELLED,o))})}),s.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wm(t,r.Rs)}}function cY(n,e){const t=tn(n),r=t.Ka.get(e);if(r&&r.Ba)return _n().add(r.key);{let i=_n();const s=t.qa.get(e);if(!s)return i;for(const o of s){const a=t.ka.get(o);i=i.unionWith(a.view.ba)}return i}}function PI(n){const e=tn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=CI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sY.bind(null,e),e.La.p_=GK.bind(null,e.eventManager),e.La.Ja=KK.bind(null,e.eventManager),e}function fY(n){const e=tn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aY.bind(null,e),e}class h0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ty(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return mK(this.persistence,new dK,e.initialUser,this.serializer)}Xa(e){return new lI(Q5.ri,this.serializer)}Za(e){return new xK}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}h0.provider={build:()=>new h0};class dY extends h0{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Qn(this.persistence.referenceDelegate instanceof f0);const r=this.persistence.referenceDelegate.garbageCollector;return new XG(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?oo.withCacheSize(this.cacheSizeBytes):oo.DEFAULT;return new lI(r=>f0.ri(r,t),this.serializer)}}class Ew{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=uY.bind(null,this.syncEngine),await qK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new HK}()}createDatastore(e){const t=ty(e.databaseInfo.databaseId),r=function(s){return new LK(s)}(e.databaseInfo);return function(s,o,a,u){return new IK(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,o,a){return new RK(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>kA(this.syncEngine,t,0),function(){return xA.D()?new xA:new SK}())}createSyncEngine(e,t){return function(i,s,o,a,u,f,d){const h=new QK(i,s,o,a,u,f);return d&&(h.ja=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=tn(i);Et(md,"RemoteStore shutting down."),s.W_.add(5),await qm(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ew.provider={build:()=>new Ew};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ru("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf="FirestoreClient";class hY{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=vs.UNAUTHENTICATED,this.clientId=b3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Et(sf,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Et(sf,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=o_(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function r2(n,e){n.asyncQueue.verifyOperationInProgress(),Et(sf,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await uI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function TA(n,e){n.asyncQueue.verifyOperationInProgress();const t=await pY(n);Et(sf,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>EA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>EA(e.remoteStore,i)),n._onlineComponents=e}async function pY(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Et(sf,"Using user provided OfflineComponentProvider");try{await r2(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===et.FAILED_PRECONDITION||i.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Oh("Error using user provided cache. Falling back to memory cache: "+t),await r2(n,new h0)}}else Et(sf,"Using default OfflineComponentProvider"),await r2(n,new dY(void 0));return n._offlineComponents}async function II(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Et(sf,"Using user provided OnlineComponentProvider"),await TA(n,n._uninitializedComponentsProvider._online)):(Et(sf,"Using default OnlineComponentProvider"),await TA(n,new Ew))),n._onlineComponents}function mY(n){return II(n).then(e=>e.syncEngine)}async function NI(n){const e=await II(n),t=e.eventManager;return t.onListen=ZK.bind(null,e.syncEngine),t.onUnlisten=nY.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=eY.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=rY.bind(null,e.syncEngine),t}function gY(n,e,t={}){const r=new Lu;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,f){const d=new TI({next:m=>{d.su(),o.enqueueAndForget(()=>_I(s,h));const g=m.docs.has(a);!g&&m.fromCache?f.reject(new Lt(et.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&u&&u.source==="server"?f.reject(new Lt(et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(m)},error:m=>f.reject(m)}),h=new bI(W5(a.path),d,{includeMetadataChanges:!0,Ta:!0});return wI(s,h)}(await NI(n),n.asyncQueue,e,t,r)),r.promise}function vY(n,e,t={}){const r=new Lu;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,f){const d=new TI({next:m=>{d.su(),o.enqueueAndForget(()=>_I(s,h)),m.fromCache&&u.source==="server"?f.reject(new Lt(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(m)},error:m=>f.reject(m)}),h=new bI(a,d,{includeMetadataChanges:!0,Ta:!0});return wI(s,h)}(await NI(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(n,e,t){if(!t)throw new Lt(et.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function yY(n,e,t,r){if(e===!0&&r===!0)throw new Lt(et.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function NA(n){if(!Ft.isDocumentKey(n))throw new Lt(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function RA(n){if(Ft.isDocumentKey(n))throw new Lt(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function iy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Kt()}function of(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Lt(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=iy(n);throw new Lt(et.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="firestore.googleapis.com",OA=!0;class MA{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Lt(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MI,this.ssl=OA}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:OA;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YG)throw new Lt(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yY("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Lt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Lt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Lt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sy{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Lt(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Lt(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new AH;switch(r.type){case"firstParty":return new TH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Lt(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=IA.get(t);r&&(Et("ComponentProvider","Removing Datastore"),IA.delete(t),r.terminate())}(this),Promise.resolve()}}function wY(n,e,t,r={}){var i;const s=(n=of(n,sy))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;s.host!==MI&&s.host!==a&&Oh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!e0(u,o)&&(n._setSettings(u),r.mockUserToken)){let f,d;if(typeof r.mockUserToken=="string")f=r.mockUserToken,d=vs.MOCK_USER;else{f=F$(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Lt(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new vs(h)}n._authCredentials=new LH(new _3(f,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ip(this.firestore,e,this._query)}}class fo{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $c(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fo(this.firestore,e,this._key)}}class $c extends ip{constructor(e,t,r){super(e,t,W5(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fo(this.firestore,null,new Ft(e))}withConverter(e){return new $c(this.firestore,e,this._path)}}function _Y(n,e,...t){if(n=fd(n),OI("collection","path",e),n instanceof sy){const r=vr.fromString(e,...t);return RA(r),new $c(n,null,r)}{if(!(n instanceof fo||n instanceof $c))throw new Lt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vr.fromString(e,...t));return RA(r),new $c(n.firestore,null,r)}}function Mc(n,e,...t){if(n=fd(n),arguments.length===1&&(e=b3.newId()),OI("doc","path",e),n instanceof sy){const r=vr.fromString(e,...t);return NA(r),new fo(n,null,new Ft(r))}{if(!(n instanceof fo||n instanceof $c))throw new Lt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vr.fromString(e,...t));return NA(r),new fo(n.firestore,n instanceof $c?n.converter:null,new Ft(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="AsyncQueue";class jA{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new fI(this,"async_queue_retry"),this.bu=()=>{const r=n2();r&&Et(DA,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=n2();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=n2();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Lu;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!np(e))throw e;Et(DA,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ru("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=s_.createAndSchedule(this,e,t,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&Kt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Hm extends sy{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new jA,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jA(e),this._firestoreClient=void 0,await e}}}function bY(n,e){const t=typeof n=="object"?n:Jq(),r=typeof n=="string"?n:i0,i=R5(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=D$("firestore");s&&wY(i,...s)}return i}function c_(n){if(n._terminated)throw new Lt(et.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||xY(n),n._firestoreClient}function xY(n){var e,t,r;const i=n._freezeSettings(),s=function(a,u,f,d){return new qH(a,u,f,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,RI(d.experimentalLongPollingOptions),d.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new hY(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vh(Zi.fromBase64String(e))}catch(t){throw new Lt(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Vh(Zi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Lt(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Lt(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Lt(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bn(this._lat,e._lat)||bn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SY=/^__.*__$/;class EY{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new kd(e,this.data,this.fieldMask,t,this.fieldTransforms):new zm(e,this.data,t,this.fieldTransforms)}}function jI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Kt()}}class p_{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new p_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return p0(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(jI(this.Lu)&&SY.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class CY{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ty(e)}ju(e,t,r,i=!1){return new p_({Lu:e,methodName:t,zu:r,path:Xi.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function FI(n){const e=n._freezeSettings(),t=ty(n._databaseId);return new CY(n._databaseId,!!e.ignoreUndefinedProperties,t)}function AY(n,e,t,r,i,s={}){const o=n.ju(s.merge||s.mergeFields?2:0,e,t,i);UI("Data must be an object, but it was:",o,r);const a=BI(r,o);let u,f;if(s.merge)u=new Za(o.fieldMask),f=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const m=kY(e,h,t);if(!o.contains(m))throw new Lt(et.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);TY(d,m)||d.push(m)}u=new Za(d),f=o.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,f=o.fieldTransforms;return new EY(new wa(a),u,f)}function LY(n,e,t,r=!1){return m_(t,n.ju(r?4:3,e))}function m_(n,e){if(VI(n=fd(n)))return UI("Unsupported field value:",e,n),BI(n,e);if(n instanceof DI)return function(r,i){if(!jI(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=m_(a,i.Uu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=fd(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hG(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=yi.fromDate(r);return{timestampValue:c0(i.serializer,s)}}if(r instanceof yi){const s=new yi(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:c0(i.serializer,s)}}if(r instanceof d_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vh)return{bytesValue:eI(i.serializer,r._byteString)};if(r instanceof fo){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:J5(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof h_)return function(o,a){return{mapValue:{fields:{[P3]:{stringValue:T3},[s0]:{arrayValue:{values:o.toArray().map(f=>{if(typeof f!="number")throw a.Wu("VectorValues must only contain numeric values.");return H5(a.serializer,f)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${iy(r)}`)}(n,e)}function BI(n,e){const t={};return S3(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ad(n,(r,i)=>{const s=m_(i,e.qu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function VI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof yi||n instanceof d_||n instanceof Vh||n instanceof fo||n instanceof DI||n instanceof h_)}function UI(n,e,t){if(!VI(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=iy(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function kY(n,e,t){if((e=fd(e))instanceof f_)return e._internalPath;if(typeof e=="string")return zI(n,e);throw p0("Field path arguments must be of type string or ",n,!1,void 0,t)}const PY=new RegExp("[~\\*/\\[\\]]");function zI(n,e,t){if(e.search(PY)>=0)throw p0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new f_(...e.split("."))._internalPath}catch{throw p0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function p0(n,e,t,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new Lt(et.INVALID_ARGUMENT,a+n+u)}function TY(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new fo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(g_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class IY extends $I{data(){return super.data()}}function g_(n,e){return typeof e=="string"?zI(n,e):e instanceof f_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NY(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Lt(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class v_{}class RY extends v_{}function OY(n,e,...t){let r=[];e instanceof v_&&r.push(e),r=r.concat(t),function(s){const o=s.filter(u=>u instanceof y_).length,a=s.filter(u=>u instanceof oy).length;if(o>1||o>0&&a>0)throw new Lt(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class oy extends RY{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new oy(e,t,r)}_apply(e){const t=this._parse(e);return qI(e._query,t),new ip(e.firestore,e.converter,pw(e._query,t))}_parse(e){const t=FI(e.firestore);return function(s,o,a,u,f,d,h){let m;if(f.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Lt(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){BA(h,d);const w=[];for(const _ of h)w.push(FA(u,s,_));m={arrayValue:{values:w}}}else m=FA(u,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||BA(h,d),m=LY(a,o,h,d==="in"||d==="not-in");return si.create(f,d,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function MY(n,e,t){const r=e,i=g_("where",n);return oy._create(i,r,t)}class y_ extends v_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new y_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:il.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)qI(o,u),o=pw(o,u)}(e._query,t),new ip(e.firestore,e.converter,pw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function FA(n,e,t){if(typeof(t=fd(t))=="string"){if(t==="")throw new Lt(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!F3(e)&&t.indexOf("/")!==-1)throw new Lt(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(vr.fromString(t));if(!Ft.isDocumentKey(r))throw new Lt(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return eA(n,new Ft(r))}if(t instanceof fo)return eA(n,t._key);throw new Lt(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${iy(t)}.`)}function BA(n,e){if(!Array.isArray(n)||n.length===0)throw new Lt(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qI(n,e){const t=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Lt(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Lt(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class DY{convertValue(e,t="none"){switch(nf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(tf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Kt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ad(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[s0].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Gr(o.doubleValue));return new h_(s)}convertGeoPoint(e){return new d_(Gr(e.latitude),Gr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Y0(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(vm(e));default:return null}}convertTimestamp(e){const t=ef(e);return new yi(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=vr.fromString(e);Qn(oI(r));const i=new ym(r.get(1),r.get(3)),s=new Ft(r.popFirst(5));return i.isEqual(t)||Ru(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jY(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class WI extends $I{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(g_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class bv extends WI{data(e={}){return super.data(e)}}class FY{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Vp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new bv(this._firestore,this._userDataWriter,r.key,r,new Vp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Lt(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new bv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Vp(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new bv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Vp(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,d=-1;return a.type!==0&&(f=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:BY(a.type),doc:u,oldIndex:f,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function BY(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Kt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(n){n=of(n,fo);const e=of(n.firestore,Hm);return gY(c_(e),n._key).then(t=>UY(e,n,t))}class HI extends DY{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fo(this.firestore,null,t)}}function VY(n){n=of(n,ip);const e=of(n.firestore,Hm),t=c_(e),r=new HI(e);return NY(n._query),vY(t,n._query).then(i=>new FY(e,r,n,i))}function i2(n,e,t){n=of(n,fo);const r=of(n.firestore,Hm),i=jY(n.converter,e);return KI(r,[AY(FI(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Vl.none())])}function GI(n){return KI(of(n.firestore,Hm),[new G5(n._key,Vl.none())])}function KI(n,e){return function(r,i){const s=new Lu;return r.asyncQueue.enqueueAndForget(async()=>iY(await mY(r),i,s)),s.promise}(c_(n),e)}function UY(n,e,t){const r=t.docs.get(e._key),i=new HI(n);return new WI(n,i,e._key,r,new Vp(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){ep=i})(Yq),Qc(new Iu("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Hm(new kH(r.getProvider("auth-internal")),new IH(o,r.getProvider("app-check-internal")),function(f,d){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Lt(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ym(f.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Fl($C,qC,e),Fl($C,qC,"esm2017")})();const zY={apiKey:"AIzaSyC7n7t6niZU3fEov8xgcAln9OEsXsw4IY0",authDomain:"travel-app-new-b813c.firebaseapp.com",projectId:"travel-app-new-b813c",storageBucket:"travel-app-new-b813c.firebasestorage.app",messagingSenderId:"329620436388",appId:"1:329620436388:web:1be708c33c31b4eb1c7d31",measurementId:"G-XMBWR7F3B5"},$Y=$T(zY),Au=bY($Y);function qY({createTripPageRef:n}){const[e,t]=S.useState(""),[r,i]=S.useState({}),[s,o]=S.useState(!1),[a,u]=S.useState(!1),f=Hw(),{user:d,loginWithPopup:h,isAuthenticated:m}=S.useContext(Ho),g=["Adventure","Relaxation","Historic","Culture","Nature","Food","Shopping","Nightlife"],w=[{id:1,title:"Relaxed",desc:"Fewer activities, more downtime",maxActivitiesPerDay:2},{id:2,title:"Moderate",desc:"Balanced exploration and rest",maxActivitiesPerDay:4},{id:3,title:"Packed",desc:"Maximize activities each day",maxActivitiesPerDay:6}],_=(P,B)=>{i(Y=>({...Y,[P]:B}))},x=(P,B)=>{if(P&&B){const Y=new Date(P),ae=new Date(B)-Y,le=Math.ceil(ae/(1e3*3600*24));_("noOfDays",le>0?le:0)}else _("noOfDays",0)},C=P=>{const B=r.preferences||[];B.includes(P)?_("preferences",B.filter(Y=>Y!==P)):_("preferences",[...B,P])},L=P=>r.preferences&&r.preferences.includes(P),j=async()=>{h()},D=async()=>{const P=JSON.parse(localStorage.getItem("User")),B=P==null?void 0:P.email;await i2(Mc(Au,"Users",B),{userName:P==null?void 0:P.name,userEmail:P==null?void 0:P.email,userPicture:P==null?void 0:P.picture,userNickname:P==null?void 0:P.nickname})};S.useEffect(()=>{d&&m&&(localStorage.setItem("User",JSON.stringify(d)),D())},[d]);const $=async()=>{if(!d)return{Relaxed:1,Moderate:1,Packed:1};const P=Mc(Au,"UserPreferences",d.email),B=await w_(P);return B.exists()?B.data():{Relaxed:1,Moderate:1,Packed:1}},H=async(P,B)=>{if(!d)return;const Y=Mc(Au,"UserPreferences",d.email),ue=await $(),le=ue[P]+.1*(B-ue[P]);await i2(Y,{...ue,[P]:le})},R=(P,B)=>{const Y=[];return P.forEach(ue=>{const ae=ue.activities||[];if(ae.length===0){Y.push(ue);return}const le=[ae[0]],te=ae.slice(1);for(;te.length>0&&le.length<B;){const fe=le[le.length-1].coordinates||{lat:0,lng:0};let ne=0,z=1/0;te.forEach((J,se)=>{const Z=J.coordinates||{lat:0,lng:0},pe=Math.sqrt(Math.pow(Z.lat-fe.lat,2)+Math.pow(Z.lng-fe.lng,2));pe<z&&(z=pe,ne=se)}),le.push(te.splice(ne,1)[0])}Y.push({...ue,activities:le})}),Y},I=async P=>{const B=JSON.parse(localStorage.getItem("User")),Y=Date.now().toString();u(!0);const ue=w.find(le=>le.title===r.pace)||w[1],ae=R(P.itinerary||[],ue.maxActivitiesPerDay);await i2(Mc(Au,"Trips",Y),{tripId:Y,userSelection:r,tripData:{...P,itinerary:ae},userName:B==null?void 0:B.name,userEmail:B==null?void 0:B.email}),u(!1),localStorage.setItem("Trip",JSON.stringify({...P,itinerary:ae})),f("/my-trips/"+Y),await H(r.pace||"Moderate",1)},N=async()=>{if(!m)return ni("Sign In to continue",{icon:""}),o(!0);if(!(r!=null&&r.noOfDays)||!(r!=null&&r.location)||!(r!=null&&r.People)||!(r!=null&&r.Budget)||!(r!=null&&r.startDate)||!(r!=null&&r.endDate)||!(r!=null&&r.pace))return ni.error("Please fill out every field or select every option.");if((r==null?void 0:r.noOfDays)<1)return ni.error("Invalid number of Days");if(!isNaN(r==null?void 0:r.Budget)&&parseFloat(r==null?void 0:r.Budget)<=0)return ni.error("Budget must be greater than 0");if(!isNaN(r==null?void 0:r.People)&&parseInt(r==null?void 0:r.People)<=0)return ni.error("Number of people must be greater than 0");const P=await $(),B=r.pace||Object.keys(P).reduce((ae,le)=>P[ae]>P[le]?ae:le,"Moderate"),Y=r.preferences&&r.preferences.length>0?r.preferences.join(", "):"General",ue=c$.replace(/{location}/g,r==null?void 0:r.location).replace(/{noOfDays}/g,r==null?void 0:r.noOfDays).replace(/{People}/g,r==null?void 0:r.People).replace(/{Budget}/g,r==null?void 0:r.Budget).replace(/{preferences}/g,Y).replace(/{pace}/g,B);try{const ae=ni.loading("Generating Trip",{icon:""});u(!0);const le=await C$.sendMessage(ue),te=JSON.parse(le.response.text());u(!1),I(te),ni.dismiss(ae),ni.success("Trip Generated Successfully")}catch(ae){u(!1),ni.dismiss(),ni.error("Failed to generate trip. Please try again."),console.error(ae)}},W=(r==null?void 0:r.Budget)&&!yC.some(P=>P.title===(r==null?void 0:r.Budget)),O=(r==null?void 0:r.People)&&!wC.some(P=>P.no===(r==null?void 0:r.People));return F.jsxs("div",{ref:n,className:"mt-10 text-center container",children:[F.jsxs("div",{className:"text section",children:[F.jsx("h2",{className:"text-3xl md:text-5xl font-bold mb-5 flex items-center justify-center",children:F.jsx("span",{className:"bg-gradient-to-b from-primary/90 to-primary/60 bg-clip-text text-transparent",children:"Share Your Travel Preferences"})}),F.jsxs("p",{className:"opacity-90 mx-auto text-center text-md md:text-xl font-medium tracking-tight text-primary/80",children:["Embark on your dream adventure with just a few simple details. ",F.jsx("br",{}),F.jsx("span",{className:"bg-gradient-to-b text-2xl from-blue-400 to-blue-700 bg-clip-text text-center text-transparent",children:"Aurora Go"})," ",F.jsx("br",{})," will curate a personalized itinerary, crafted to match your unique preferences!"]})]}),F.jsxs("div",{className:"form mt-14 flex flex-col gap-16 md:gap-20",children:[F.jsxs("div",{className:"place section",children:[F.jsxs("h2",{className:"font-semibold text-lg md:text-xl mb-3",children:[F.jsx("span",{className:"bg-gradient-to-b from-primary/90 to-primary/60 bg-clip-text text-transparent",children:"Where do you want to Explore?"})," ",""]}),F.jsx(u$,{className:"flex h-12 w-full rounded-md border border-input bg-background px-4 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-center",apiKey:"AIzaSyDVZ9qb_vML9gh0x-rBvomLSt5pivTuN5g",autoFocus:!0,onPlaceSelected:P=>{t(P),_("location",P.formatted_address)},placeholder:"Enter a City"})]}),F.jsxs("div",{className:"date-range section",children:[F.jsxs("h2",{className:"font-semibold text-lg md:text-xl mb-3",children:[F.jsx("span",{className:"bg-gradient-to-b from-primary/90 to-primary/60 bg-clip-text text-transparent",children:"Travel Dates"})," ",""]}),F.jsxs("div",{className:"flex gap-4 justify-center",children:[F.jsx(Ic,{className:"text-center h-12 max-w-xs",type:"date",value:r.startDate||"",onChange:P=>{_("startDate",P.target.value),x(P.target.value,r.endDate)},required:!0}),F.jsx(Ic,{className:"text-center h-12 max-w-xs",type:"date",value:r.endDate||"",onChange:P=>{_("endDate",P.target.value),x(r.startDate,P.target.value)},required:!0})]})]}),F.jsxs("div",{className:"day section",children:[F.jsxs("h2",{className:"font-semibold text-lg md:text-xl mb-3",children:[F.jsx("span",{className:"bg-gradient-to-b from-primary/90 to-primary/60 bg-clip-text text-transparent",children:"How long is your Trip?"})," ",""]}),F.jsx(Ic,{className:"text-center h-12 max-w-xs mx-auto",placeholder:"Calculated from dates",type:"number",min:"1",name:"noOfDays",value:r.noOfDays||"",readOnly:!0})]}),F.jsxs("div",{className:"budget section",children:[F.jsxs("h2",{className:"font-semibold text-lg md:text-xl mb-5",children:[F.jsx("span",{className:"bg-gradient-to-b from-primary/90 to-primary/60 bg-clip-text text-transparent",children:"What is your Budget? (Total for Group)"})," ",""]}),F.jsx("div",{className:"options grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-4",children:[...yC,{id:4,icon:"",title:"Custom",desc:"Set Your Own Budget"}].map(P=>F.jsxs("div",{className:`card option cursor-pointer transition-all p-6 flex flex-col items-center justify-center border rounded-lg hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-primary ${(r==null?void 0:r.Budget)===P.title||P.title==="Custom"&&W?"border-primary shadow-md":"border-border"}`,onClick:()=>{P.title!=="Custom"?_("Budget",P.title):_("Budget","")},tabIndex:0,onKeyDown:B=>{(B.key==="Enter"||B.key===" ")&&(P.title!=="Custom"?_("Budget",P.title):_("Budget",""))},children:[F.jsxs("h3",{className:"font-bold text-lg mb-2 flex items-center gap-2",children:[F.jsx("span",{className:"text-2xl",children:P.icon}),F.jsx("span",{className:(r==null?void 0:r.Budget)===P.title||P.title==="Custom"&&W?"bg-gradient-to-b from-blue-400 to-blue-700 bg-clip-text text-transparent":"",children:P.title})]}),F.jsx("p",{className:"text-sm text-muted-foreground text-center",children:P.desc}),P.title==="Custom"&&F.jsx(Ic,{className:"mt-4 h-10 text-center w-full",placeholder:"Enter Amount",type:"number",min:"0",value:W?r==null?void 0:r.Budget:"",onChange:B=>_("Budget",B.target.value),onClick:B=>B.stopPropagation(),onKeyDown:B=>B.stopPropagation(),autoFocus:(r==null?void 0:r.Budget)===""||W})]},P.id))})]}),F.jsxs("div",{className:"people section",children:[F.jsxs("h2",{className:"font-semibold text-lg md:text-xl mb-5",children:[F.jsx("span",{className:"bg-gradient-to-b from-primary/90 to-primary/60 bg-clip-text text-transparent",children:"Who are you traveling with?"})," ",""]}),F.jsx("div",{className:"options grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-4",children:[...wC,{id:5,icon:"",title:"Custom",desc:"Choose Your Group Size",no:"Custom"}].map(P=>F.jsxs("div",{className:`card option cursor-pointer transition-all p-6 flex flex-col items-center justify-center border rounded-lg hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-primary ${(r==null?void 0:r.People)===P.no||P.title==="Custom"&&O?"border-primary shadow-md":"border-border"}`,onClick:()=>{P.title!=="Custom"?_("People",P.no):_("People","")},tabIndex:0,onKeyDown:B=>{(B.key==="Enter"||B.key===" ")&&(P.title!=="Custom"?_("People",P.no):_("People",""))},children:[F.jsxs("h3",{className:"font-bold text-lg mb-2 flex items-center gap-2",children:[F.jsx("span",{className:"text-2xl",children:P.icon}),F.jsx("span",{className:(r==null?void 0:r.People)===P.no||P.title==="Custom"&&O?"bg-gradient-to-b from-blue-400 to-blue-700 bg-clip-text text-transparent":"",children:P.title})]}),F.jsx("p",{className:"text-sm text-muted-foreground text-center",children:P.desc}),F.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:P.no}),P.title==="Custom"&&F.jsx(Ic,{className:"mt-4 h-10 text-center w-full",placeholder:"Enter Number",type:"number",min:"1",value:O?r==null?void 0:r.People:"",onChange:B=>_("People",B.target.value),onClick:B=>B.stopPropagation(),onKeyDown:B=>B.stopPropagation(),autoFocus:(r==null?void 0:r.People)===""||O})]},P.id))})]}),F.jsxs("div",{className:"pace section",children:[F.jsxs("h2",{className:"font-semibold text-lg md:text-xl mb-5",children:[F.jsx("span",{className:"bg-gradient-to-b from-primary/90 to-primary/60 bg-clip-text text-transparent",children:"How packed is your schedule?"})," ",""]}),F.jsx("div",{className:"options grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3",children:w.map(P=>F.jsxs("div",{className:`card option cursor-pointer transition-all p-6 flex flex-col items-center justify-center border rounded-lg hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-primary ${(r==null?void 0:r.pace)===P.title?"border-primary shadow-md":"border-border"}`,onClick:()=>_("pace",P.title),tabIndex:0,onKeyDown:B=>{(B.key==="Enter"||B.key===" ")&&_("pace",P.title)},children:[F.jsx("h3",{className:"font-bold text-lg mb-2 flex items-center gap-2",children:F.jsx("span",{className:(r==null?void 0:r.pace)===P.title?"bg-gradient-to-b from-blue-400 to-blue-700 bg-clip-text text-transparent":"",children:P.title})}),F.jsx("p",{className:"text-sm text-muted-foreground text-center",children:P.desc})]},P.id))})]}),F.jsxs("div",{className:"preferences section",children:[F.jsxs("h2",{className:"font-semibold text-lg md:text-xl mb-5",children:[F.jsx("span",{className:"bg-gradient-to-b from-primary/90 to-primary/60 bg-clip-text text-transparent",children:"What do you Prefer? (Optional)"})," ",""]}),F.jsx("div",{className:"flex flex-wrap gap-3 justify-center",children:g.map(P=>{const B=L(P);return F.jsx("button",{type:"button",onClick:()=>C(P),className:`px-4 py-2 rounded-full border transition-all duration-200 font-medium
                    ${B?"bg-pink-200 text-pink-800 border-pink-300 shadow-md":"bg-purple-100 text-purple-700 border-purple-200 hover:border-purple-400 hover:text-purple-800"}`,children:P},P)})})]})]}),F.jsx("div",{className:"create-trip-btn w-full flex items-center justify-center h-32",children:F.jsx(Br,{disabled:a,onClick:N,className:"h-12 px-8 text-lg font-semibold bg-gradient-to-r from-blue-500 to-blue-700 hover:from-blue-600 hover:to-blue-800",children:a?F.jsx(_$,{className:"h-6 w-6 animate-spin"}):"Let's Go "})}),F.jsx(M2,{className:"m-4",open:s,onOpenChange:o,children:F.jsxs(Mv,{children:[F.jsxs(Dv,{children:[F.jsx(jv,{className:"text-xl font-bold text-center bg-gradient-to-b from-primary/90 to-primary/60 bg-clip-text text-transparent",children:d?"Thank you for LogIn":"Sign In to Continue"}),F.jsxs(p4,{children:[F.jsx("span",{className:"flex gap-2",children:F.jsx("span",{className:"text-center w-full opacity-90 mx-auto tracking-tight text-primary/80",children:d?"Logged In Securely to Aurora Go with Google Authentication":"Sign In to Aurora Go with Google Authentication Securely"})}),d?"":F.jsxs(Br,{onClick:j,className:"w-full mt-5 flex gap-2 items-center justify-center",children:["Sign In with ",F.jsx(y$,{className:"h-5 w-5"})]})]})]}),F.jsx(h4,{children:F.jsx(f4,{className:"w-full",children:F.jsx(Br,{variant:"outline",className:"w-full",children:"Close"})})})]})})]})}var Zg={},VA;function WY(){if(VA)return Zg;VA=1,Zg.match=s,Zg.parse=o;var n=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,e=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,t=/^(?:(min|max)-)?(.+)/,r=/(em|rem|px|cm|mm|in|pt|pc)?$/,i=/(dpi|dpcm|dppx)?$/;function s(d,h){return o(d).some(function(m){var g=m.inverse,w=m.type==="all"||h.type===m.type;if(w&&g||!(w||g))return!1;var _=m.expressions.every(function(x){var C=x.feature,L=x.modifier,j=x.value,D=h[C];if(!D)return!1;switch(C){case"orientation":case"scan":return D.toLowerCase()===j.toLowerCase();case"width":case"height":case"device-width":case"device-height":j=f(j),D=f(D);break;case"resolution":j=u(j),D=u(D);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":j=a(j),D=a(D);break;case"grid":case"color":case"color-index":case"monochrome":j=parseInt(j,10)||1,D=parseInt(D,10)||0;break}switch(L){case"min":return D>=j;case"max":return D<=j;default:return D===j}});return _&&!g||!_&&g})}function o(d){return d.split(",").map(function(h){h=h.trim();var m=h.match(n),g=m[1],w=m[2],_=m[3]||"",x={};return x.inverse=!!g&&g.toLowerCase()==="not",x.type=w?w.toLowerCase():"all",_=_.match(/\([^\)]+\)/g)||[],x.expressions=_.map(function(C){var L=C.match(e),j=L[1].toLowerCase().match(t);return{modifier:j[1],feature:j[2],value:L[2]}}),x})}function a(d){var h=Number(d),m;return h||(m=d.match(/^(\d+)\s*\/\s*(\d+)$/),h=m[1]/m[2]),h}function u(d){var h=parseFloat(d),m=String(d).match(i)[1];switch(m){case"dpcm":return h/2.54;case"dppx":return h*96;default:return h}}function f(d){var h=parseFloat(d),m=String(d).match(r)[1];switch(m){case"em":return h*16;case"rem":return h*16;case"cm":return h*96/2.54;case"mm":return h*96/2.54/10;case"in":return h*96;case"pt":return h*72;case"pc":return h*72/12;default:return h}}return Zg}var s2,UA;function HY(){if(UA)return s2;UA=1;var n=WY().match,e=typeof window<"u"?window.matchMedia:null;function t(i,s,o){var a=this,u;e&&!o&&(u=e.call(window,i)),u?(this.matches=u.matches,this.media=u.media,u.addListener(h)):(this.matches=n(i,s),this.media=i),this.addListener=f,this.removeListener=d,this.dispose=m;function f(g){u&&u.addListener(g)}function d(g){u&&u.removeListener(g)}function h(g){a.matches=g.matches,a.media=g.media}function m(){u&&u.removeListener(h)}}function r(i,s,o){return new t(i,s,o)}return s2=r,s2}var GY=HY();const KY=yd(GY);var YY=/[A-Z]/g,JY=/^ms-/,o2={};function XY(n){return"-"+n.toLowerCase()}function YI(n){if(o2.hasOwnProperty(n))return o2[n];var e=n.replace(YY,XY);return o2[n]=JY.test(e)?"-"+e:e}function QY(n,e){if(n===e)return!0;if(!n||!e)return!1;const t=Object.keys(n),r=Object.keys(e),i=t.length;if(r.length!==i)return!1;for(let s=0;s<i;s++){const o=t[s];if(n[o]!==e[o]||!Object.prototype.hasOwnProperty.call(e,o))return!1}return!0}var ZY=IT();const qn=yd(ZY),js=qn.oneOfType([qn.string,qn.number]),JI={all:qn.bool,grid:qn.bool,aural:qn.bool,braille:qn.bool,handheld:qn.bool,print:qn.bool,projection:qn.bool,screen:qn.bool,tty:qn.bool,tv:qn.bool,embossed:qn.bool},eJ={orientation:qn.oneOf(["portrait","landscape"]),scan:qn.oneOf(["progressive","interlace"]),aspectRatio:qn.string,deviceAspectRatio:qn.string,height:js,deviceHeight:js,width:js,deviceWidth:js,color:qn.bool,colorIndex:qn.bool,monochrome:qn.bool,resolution:js,type:Object.keys(JI)},{type:NZ,...tJ}=eJ,nJ={minAspectRatio:qn.string,maxAspectRatio:qn.string,minDeviceAspectRatio:qn.string,maxDeviceAspectRatio:qn.string,minHeight:js,maxHeight:js,minDeviceHeight:js,maxDeviceHeight:js,minWidth:js,maxWidth:js,minDeviceWidth:js,maxDeviceWidth:js,minColor:qn.number,maxColor:qn.number,minColorIndex:qn.number,maxColorIndex:qn.number,minMonochrome:qn.number,maxMonochrome:qn.number,minResolution:js,maxResolution:js,...tJ},rJ={...JI,...nJ};var iJ={all:rJ};const sJ=n=>`not ${n}`,oJ=(n,e)=>{const t=YI(n);return typeof e=="number"&&(e=`${e}px`),e===!0?t:e===!1?sJ(t):`(${t}: ${e})`},aJ=n=>n.join(" and "),lJ=n=>{const e=[];return Object.keys(iJ.all).forEach(t=>{const r=n[t];r!=null&&e.push(oJ(t,r))}),aJ(e)},uJ=S.createContext(void 0),cJ=n=>n.query||lJ(n),zA=n=>n?Object.keys(n).reduce((t,r)=>(t[YI(r)]=n[r],t),{}):void 0,XI=()=>{const n=S.useRef(!1);return S.useEffect(()=>{n.current=!0},[]),n.current},fJ=n=>{const e=S.useContext(uJ),t=()=>zA(n)||zA(e),[r,i]=S.useState(t);return S.useEffect(()=>{const s=t();QY(r,s)||i(s)},[n,e]),r},dJ=n=>{const e=()=>cJ(n),[t,r]=S.useState(e);return S.useEffect(()=>{const i=e();t!==i&&r(i)},[n]),t},hJ=(n,e)=>{const t=()=>KY(n,e||{},!!e),[r,i]=S.useState(t),s=XI();return S.useEffect(()=>{if(s){const o=t();return i(o),()=>{o&&o.dispose()}}},[n,e]),r},pJ=n=>{const[e,t]=S.useState(n.matches);return S.useEffect(()=>{const r=i=>{t(i.matches)};return n.addListener(r),t(n.matches),()=>{n.removeListener(r)}},[n]),e},af=(n,e,t)=>{const r=fJ(e),i=dJ(n);if(!i)throw new Error("Invalid or missing MediaQuery!");const s=hJ(i,r),o=pJ(s);return XI(),S.useEffect(()=>{},[o]),S.useEffect(()=>()=>{s&&s.dispose()},[]),o},ay=S.forwardRef(({className:n,...e},t)=>F.jsx("div",{ref:t,className:Wn("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));ay.displayName="Card";const __=S.forwardRef(({className:n,...e},t)=>F.jsx("div",{ref:t,className:Wn("flex flex-col",n),...e}));__.displayName="CardHeader";const b_=S.forwardRef(({className:n,...e},t)=>F.jsx("h3",{ref:t,className:Wn("text-xl font-semibold leading-none tracking-tight",n),...e}));b_.displayName="CardTitle";const x_=S.forwardRef(({className:n,...e},t)=>F.jsx("p",{ref:t,className:Wn("text-sm text-muted-foreground",n),...e}));x_.displayName="CardDescription";const ly=S.forwardRef(({className:n,...e},t)=>F.jsx("div",{ref:t,className:Wn("",n),...e}));ly.displayName="CardContent";const mJ=S.forwardRef(({className:n,...e},t)=>F.jsx("div",{ref:t,className:Wn("flex items-center",n),...e}));mJ.displayName="CardFooter";const QI="https://places.googleapis.com/v1/places:searchText",gJ={headers:{"Content-Type":"application/json","X-Goog-Api-Key":"AIzaSyDVZ9qb_vML9gh0x-rBvomLSt5pivTuN5g","X-Goog-FieldMask":["places.id","places.name","places.displayName","places.formattedAddress","places.photos","places.googleMapsUri","places.location","places.priceLevel","places.rating"]}},vJ={headers:{"Content-Type":"application/json","X-Goog-Api-Key":"AIzaSyDVZ9qb_vML9gh0x-rBvomLSt5pivTuN5g","X-Goog-FieldMask":["places.name","places.displayName","places.photos","places.googleMapsUri","places.location"]}},uy="https://places.googleapis.com/v1/{replace}/media?maxHeightPx=1000&key=AIzaSyDVZ9qb_vML9gh0x-rBvomLSt5pivTuN5g",ZI=async n=>{try{return await Xn.post(QI,n,gJ)}catch(e){return console.error("Error in getPlaceDetails:",e),{data:{places:[]}}}},eN=async n=>{try{return await Xn.post(QI,n,vJ)}catch(e){return console.error("Error in getCityDetails:",e),{data:{places:[]}}}};function yJ({hotel:n}){var m;af({query:"(max-width: 445px)"}),af({query:"(max-width: 640px)"});const{trip:e}=S.useContext(Ho),t=(m=e==null?void 0:e.tripData)==null?void 0:m.location,[r,i]=S.useState(null),[s,o]=S.useState("/logo.png"),[a,u]=S.useState(""),[f,d]=S.useState(""),h=async()=>{try{const g={textQuery:`${n.name}, ${t}`},_=(await ZI(g)).data.places[0];if(_&&(i(_),u(_.formattedAddress||n.address||"Address not available"),d(_.googleMapsUri||`https://www.google.com/maps/search/${n.name},${t}`),_.photos&&_.photos.length>0)){const x=_.photos[0].name,C=uy.replace("{replace}",x);o(C)}}catch(g){console.error("Error fetching hotel details:",g),u(n.address||"Address not available"),d(`https://www.google.com/maps/search/${n.name},${t}`),o("/logo.png")}};return S.useEffect(()=>{e&&(n!=null&&n.name)&&t&&h()},[e,n,t]),F.jsx(ya,{className:"w-full",target:"_blank",to:f,children:F.jsxs(ay,{className:"border-foreground/20 p-1 h-full flex flex-col gap-3 hover:scale-105 duration-300",children:[F.jsx("div",{className:"img h-full rounded-lg",children:F.jsx("img",{src:s,className:"h-80 w-full object-cover",alt:n.name,onError:g=>g.target.src="/logo.png"})}),F.jsxs("div",{className:"text-content w-full flex items-center gap-3 justify-between flex-col h-full",children:[F.jsxs(__,{className:"w-full",children:[F.jsx(b_,{className:"opacity-90 w-full text-center text-xl font-black text-primary/80 md:text-3xl",children:n.name}),F.jsx(x_,{className:"line-clamp-2 tracking-wide opacity-90 w-full text-center text-sm text-primary/80 md:text-md",children:n.description||"No description available"})]}),F.jsx(ly,{className:"w-full",children:F.jsxs("div",{className:"hotel-details",children:[F.jsxs("span",{className:"font-medium text-primary/80 opacity-90 text-sm md:text-base tracking-wide",children:[" Rating: ",n.rating||"Not specified"]}),F.jsx("br",{}),F.jsxs("span",{className:"font-medium text-primary/80 opacity-90 text-sm md:text-base tracking-wide",children:[" Price: ",n.price||"Not specified"]}),F.jsx("br",{}),F.jsxs("span",{className:"font-medium text-primary/80 opacity-90 text-sm md:text-base tracking-wide line-clamp-1",children:[" Location: ",a]})]})})]})]})})}const tN=S.createContext(null),wJ=n=>{const e=S.useRef(null),t=S.useRef(null),r=S.useRef(null);return F.jsx(tN.Provider,{value:{locationInfoRef:e,holetsRef:t,placesRef:r},children:n.children})},cy=()=>S.useContext(tN);function _J(){var r,i;af({query:"(max-width: 445px)"}),af({query:"(max-width: 640px)"});const{trip:n}=S.useContext(Ho);(r=n==null?void 0:n.tripData)==null||r.location;const e=((i=n==null?void 0:n.tripData)==null?void 0:i.hotels)||[],{holetsRef:t}=cy();return F.jsx("div",{ref:t,className:"flex flex-col md:flex-row flex-wrap gap-5",children:e.length>0?e.map((s,o)=>F.jsx("div",{className:"md:w-[48%]",children:F.jsx(yJ,{className:"hotel-card",hotel:s})},o)):F.jsx("p",{className:"text-center text-primary/80",children:"No hotels available."})})}function bJ(){return F.jsxs("div",{className:" my-[15vh]",children:[F.jsx("h2",{className:"opacity-90 mx-auto text-center text-3xl font-black text-primary/80 md:text-5xl",children:"Hotels"}),F.jsx("div",{className:"main-info mt-2 md:mt-4",children:F.jsx(_J,{})})]})}function xJ(n){return Object.prototype.toString.call(n)==="[object Object]"}function $A(n){return xJ(n)||Array.isArray(n)}function SJ(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function S_(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;const i=JSON.stringify(Object.keys(n.breakpoints||{})),s=JSON.stringify(Object.keys(e.breakpoints||{}));return i!==s?!1:t.every(o=>{const a=n[o],u=e[o];return typeof a=="function"?`${a}`==`${u}`:!$A(a)||!$A(u)?a===u:S_(a,u)})}function qA(n){return n.concat().sort((e,t)=>e.name>t.name?1:-1).map(e=>e.options)}function EJ(n,e){if(n.length!==e.length)return!1;const t=qA(n),r=qA(e);return t.every((i,s)=>{const o=r[s];return S_(i,o)})}function E_(n){return typeof n=="number"}function Cw(n){return typeof n=="string"}function fy(n){return typeof n=="boolean"}function WA(n){return Object.prototype.toString.call(n)==="[object Object]"}function Tr(n){return Math.abs(n)}function C_(n){return Math.sign(n)}function Zp(n,e){return Tr(n-e)}function CJ(n,e){if(n===0||e===0||Tr(n)<=Tr(e))return 0;const t=Zp(Tr(n),Tr(e));return Tr(t/n)}function AJ(n){return Math.round(n*100)/100}function xm(n){return Sm(n).map(Number)}function el(n){return n[Gm(n)]}function Gm(n){return Math.max(0,n.length-1)}function A_(n,e){return e===Gm(n)}function HA(n,e=0){return Array.from(Array(n),(t,r)=>e+r)}function Sm(n){return Object.keys(n)}function nN(n,e){return[n,e].reduce((t,r)=>(Sm(r).forEach(i=>{const s=t[i],o=r[i],a=WA(s)&&WA(o);t[i]=a?nN(s,o):o}),t),{})}function Aw(n,e){return typeof e.MouseEvent<"u"&&n instanceof e.MouseEvent}function LJ(n,e){const t={start:r,center:i,end:s};function r(){return 0}function i(u){return s(u)/2}function s(u){return e-u}function o(u,f){return Cw(n)?t[n](u):n(e,u,f)}return{measure:o}}function Em(){let n=[];function e(i,s,o,a={passive:!0}){let u;if("addEventListener"in i)i.addEventListener(s,o,a),u=()=>i.removeEventListener(s,o,a);else{const f=i;f.addListener(o),u=()=>f.removeListener(o)}return n.push(u),r}function t(){n=n.filter(i=>i())}const r={add:e,clear:t};return r}function kJ(n,e,t,r){const i=Em(),s=1e3/60;let o=null,a=0,u=0;function f(){i.add(n,"visibilitychange",()=>{n.hidden&&w()})}function d(){g(),i.clear()}function h(x){if(!u)return;o||(o=x,t(),t());const C=x-o;for(o=x,a+=C;a>=s;)t(),a-=s;const L=a/s;r(L),u&&(u=e.requestAnimationFrame(h))}function m(){u||(u=e.requestAnimationFrame(h))}function g(){e.cancelAnimationFrame(u),o=null,a=0,u=0}function w(){o=null,a=0}return{init:f,destroy:d,start:m,stop:g,update:t,render:r}}function PJ(n,e){const t=e==="rtl",r=n==="y",i=r?"y":"x",s=r?"x":"y",o=!r&&t?-1:1,a=d(),u=h();function f(w){const{height:_,width:x}=w;return r?_:x}function d(){return r?"top":t?"right":"left"}function h(){return r?"bottom":t?"left":"right"}function m(w){return w*o}return{scroll:i,cross:s,startEdge:a,endEdge:u,measureSize:f,direction:m}}function gd(n=0,e=0){const t=Tr(n-e);function r(f){return f<n}function i(f){return f>e}function s(f){return r(f)||i(f)}function o(f){return s(f)?r(f)?n:e:f}function a(f){return t?f-t*Math.ceil((f-e)/t):f}return{length:t,max:e,min:n,constrain:o,reachedAny:s,reachedMax:i,reachedMin:r,removeOffset:a}}function rN(n,e,t){const{constrain:r}=gd(0,n),i=n+1;let s=o(e);function o(m){return t?Tr((i+m)%i):r(m)}function a(){return s}function u(m){return s=o(m),h}function f(m){return d().set(a()+m)}function d(){return rN(n,a(),t)}const h={get:a,set:u,add:f,clone:d};return h}function TJ(n,e,t,r,i,s,o,a,u,f,d,h,m,g,w,_,x,C,L){const{cross:j,direction:D}=n,$=["INPUT","SELECT","TEXTAREA"],H={passive:!1},R=Em(),I=Em(),N=gd(50,225).constrain(g.measure(20)),W={mouse:300,touch:400},O={mouse:500,touch:600},P=w?43:25;let B=!1,Y=0,ue=0,ae=!1,le=!1,te=!1,ce=!1;function fe(Be){if(!L)return;function We(Te){(fy(L)||L(Be,Te))&&pe(Te)}const ft=e;R.add(ft,"dragstart",Te=>Te.preventDefault(),H).add(ft,"touchmove",()=>{},H).add(ft,"touchend",()=>{}).add(ft,"touchstart",We).add(ft,"mousedown",We).add(ft,"touchcancel",ve).add(ft,"contextmenu",ve).add(ft,"click",we,!0)}function ne(){R.clear(),I.clear()}function z(){const Be=ce?t:e;I.add(Be,"touchmove",ye,H).add(Be,"touchend",ve).add(Be,"mousemove",ye,H).add(Be,"mouseup",ve)}function J(Be){const We=Be.nodeName||"";return $.includes(We)}function se(){return(w?O:W)[ce?"mouse":"touch"]}function Z(Be,We){const ft=h.add(C_(Be)*-1),Te=d.byDistance(Be,!w).distance;return w||Tr(Be)<N?Te:x&&We?Te*.5:d.byIndex(ft.get(),0).distance}function pe(Be){const We=Aw(Be,r);ce=We,te=w&&We&&!Be.buttons&&B,B=Zp(i.get(),o.get())>=2,!(We&&Be.button!==0)&&(J(Be.target)||(ae=!0,s.pointerDown(Be),f.useFriction(0).useDuration(0),i.set(o),z(),Y=s.readPoint(Be),ue=s.readPoint(Be,j),m.emit("pointerDown")))}function ye(Be){if(!Aw(Be,r)&&Be.touches.length>=2)return ve(Be);const ft=s.readPoint(Be),Te=s.readPoint(Be,j),me=Zp(ft,Y),St=Zp(Te,ue);if(!le&&!ce&&(!Be.cancelable||(le=me>St,!le)))return ve(Be);const vt=s.pointerMove(Be);me>_&&(te=!0),f.useFriction(.3).useDuration(.75),a.start(),i.add(D(vt)),Be.preventDefault()}function ve(Be){const ft=d.byDistance(0,!1).index!==h.get(),Te=s.pointerUp(Be)*se(),me=Z(D(Te),ft),St=CJ(Te,me),vt=P-10*St,Je=C+St/50;le=!1,ae=!1,I.clear(),f.useDuration(vt).useFriction(Je),u.distance(me,!w),ce=!1,m.emit("pointerUp")}function we(Be){te&&(Be.stopPropagation(),Be.preventDefault(),te=!1)}function Ie(){return ae}return{init:fe,destroy:ne,pointerDown:Ie}}function IJ(n,e){let r,i;function s(h){return h.timeStamp}function o(h,m){const w=`client${(m||n.scroll)==="x"?"X":"Y"}`;return(Aw(h,e)?h:h.touches[0])[w]}function a(h){return r=h,i=h,o(h)}function u(h){const m=o(h)-o(i),g=s(h)-s(r)>170;return i=h,g&&(r=h),m}function f(h){if(!r||!i)return 0;const m=o(i)-o(r),g=s(h)-s(r),w=s(h)-s(i)>170,_=m/g;return g&&!w&&Tr(_)>.1?_:0}return{pointerDown:a,pointerMove:u,pointerUp:f,readPoint:o}}function NJ(){function n(t){const{offsetTop:r,offsetLeft:i,offsetWidth:s,offsetHeight:o}=t;return{top:r,right:i+s,bottom:r+o,left:i,width:s,height:o}}return{measure:n}}function RJ(n){function e(r){return n*(r/100)}return{measure:e}}function OJ(n,e,t,r,i,s,o){const a=[n].concat(r);let u,f,d=[],h=!1;function m(x){return i.measureSize(o.measure(x))}function g(x){if(!s)return;f=m(n),d=r.map(m);function C(L){for(const j of L){if(h)return;const D=j.target===n,$=r.indexOf(j.target),H=D?f:d[$],R=m(D?n:r[$]);if(Tr(R-H)>=.5){x.reInit(),e.emit("resize");break}}}u=new ResizeObserver(L=>{(fy(s)||s(x,L))&&C(L)}),t.requestAnimationFrame(()=>{a.forEach(L=>u.observe(L))})}function w(){h=!0,u&&u.disconnect()}return{init:g,destroy:w}}function MJ(n,e,t,r,i,s){let o=0,a=0,u=i,f=s,d=n.get(),h=0;function m(){const H=r.get()-n.get(),R=!u;let I=0;return R?(o=0,t.set(r),n.set(r),I=H):(t.set(n),o+=H/u,o*=f,d+=o,n.add(o),I=d-h),a=C_(I),h=d,$}function g(){const H=r.get()-e.get();return Tr(H)<.001}function w(){return u}function _(){return a}function x(){return o}function C(){return j(i)}function L(){return D(s)}function j(H){return u=H,$}function D(H){return f=H,$}const $={direction:_,duration:w,velocity:x,seek:m,settled:g,useBaseFriction:L,useBaseDuration:C,useFriction:D,useDuration:j};return $}function DJ(n,e,t,r,i){const s=i.measure(10),o=i.measure(50),a=gd(.1,.99);let u=!1;function f(){return!(u||!n.reachedAny(t.get())||!n.reachedAny(e.get()))}function d(g){if(!f())return;const w=n.reachedMin(e.get())?"min":"max",_=Tr(n[w]-e.get()),x=t.get()-e.get(),C=a.constrain(_/o);t.subtract(x*C),!g&&Tr(x)<s&&(t.set(n.constrain(t.get())),r.useDuration(25).useBaseFriction())}function h(g){u=!g}return{shouldConstrain:f,constrain:d,toggleActive:h}}function jJ(n,e,t,r,i){const s=gd(-e+n,0),o=h(),a=d(),u=m();function f(w,_){return Zp(w,_)<=1}function d(){const w=o[0],_=el(o),x=o.lastIndexOf(w),C=o.indexOf(_)+1;return gd(x,C)}function h(){return t.map((w,_)=>{const{min:x,max:C}=s,L=s.constrain(w),j=!_,D=A_(t,_);return j?C:D||f(x,L)?x:f(C,L)?C:L}).map(w=>parseFloat(w.toFixed(3)))}function m(){if(e<=n+i)return[s.max];if(r==="keepSnaps")return o;const{min:w,max:_}=a;return o.slice(w,_)}return{snapsContained:u,scrollContainLimit:a}}function FJ(n,e,t){const r=e[0],i=t?r-n:el(e);return{limit:gd(i,r)}}function BJ(n,e,t,r){const s=e.min+.1,o=e.max+.1,{reachedMin:a,reachedMax:u}=gd(s,o);function f(m){return m===1?u(t.get()):m===-1?a(t.get()):!1}function d(m){if(!f(m))return;const g=n*(m*-1);r.forEach(w=>w.add(g))}return{loop:d}}function VJ(n){const{max:e,length:t}=n;function r(s){const o=s-e;return t?o/-t:0}return{get:r}}function UJ(n,e,t,r,i){const{startEdge:s,endEdge:o}=n,{groupSlides:a}=i,u=h().map(e.measure),f=m(),d=g();function h(){return a(r).map(_=>el(_)[o]-_[0][s]).map(Tr)}function m(){return r.map(_=>t[s]-_[s]).map(_=>-Tr(_))}function g(){return a(f).map(_=>_[0]).map((_,x)=>_+u[x])}return{snaps:f,snapsAligned:d}}function zJ(n,e,t,r,i,s){const{groupSlides:o}=i,{min:a,max:u}=r,f=d();function d(){const m=o(s),g=!n||e==="keepSnaps";return t.length===1?[s]:g?m:m.slice(a,u).map((w,_,x)=>{const C=!_,L=A_(x,_);if(C){const j=el(x[0])+1;return HA(j)}if(L){const j=Gm(s)-el(x)[0]+1;return HA(j,el(x)[0])}return w})}return{slideRegistry:f}}function $J(n,e,t,r,i){const{reachedAny:s,removeOffset:o,constrain:a}=r;function u(w){return w.concat().sort((_,x)=>Tr(_)-Tr(x))[0]}function f(w){const _=n?o(w):a(w),x=e.map((L,j)=>({diff:d(L-_,0),index:j})).sort((L,j)=>Tr(L.diff)-Tr(j.diff)),{index:C}=x[0];return{index:C,distance:_}}function d(w,_){const x=[w,w+t,w-t];if(!n)return w;if(!_)return u(x);const C=x.filter(L=>C_(L)===_);return C.length?u(C):el(x)-t}function h(w,_){const x=e[w]-i.get(),C=d(x,_);return{index:w,distance:C}}function m(w,_){const x=i.get()+w,{index:C,distance:L}=f(x),j=!n&&s(x);if(!_||j)return{index:C,distance:w};const D=e[C]-L,$=w+d(D,0);return{index:C,distance:$}}return{byDistance:m,byIndex:h,shortcut:d}}function qJ(n,e,t,r,i,s,o){function a(h){const m=h.distance,g=h.index!==e.get();s.add(m),m&&(r.duration()?n.start():(n.update(),n.render(1),n.update())),g&&(t.set(e.get()),e.set(h.index),o.emit("select"))}function u(h,m){const g=i.byDistance(h,m);a(g)}function f(h,m){const g=e.clone().set(h),w=i.byIndex(g.get(),m);a(w)}return{distance:u,index:f}}function WJ(n,e,t,r,i,s,o,a){const u={passive:!0,capture:!0};let f=0;function d(g){if(!a)return;function w(_){if(new Date().getTime()-f>10)return;o.emit("slideFocusStart"),n.scrollLeft=0;const L=t.findIndex(j=>j.includes(_));E_(L)&&(i.useDuration(0),r.index(L,0),o.emit("slideFocus"))}s.add(document,"keydown",h,!1),e.forEach((_,x)=>{s.add(_,"focus",C=>{(fy(a)||a(g,C))&&w(x)},u)})}function h(g){g.code==="Tab"&&(f=new Date().getTime())}return{init:d}}function Up(n){let e=n;function t(){return e}function r(u){e=o(u)}function i(u){e+=o(u)}function s(u){e-=o(u)}function o(u){return E_(u)?u:u.get()}return{get:t,set:r,add:i,subtract:s}}function iN(n,e){const t=n.scroll==="x"?o:a,r=e.style;let i=null,s=!1;function o(m){return`translate3d(${m}px,0px,0px)`}function a(m){return`translate3d(0px,${m}px,0px)`}function u(m){if(s)return;const g=AJ(n.direction(m));g!==i&&(r.transform=t(g),i=g)}function f(m){s=!m}function d(){s||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:d,to:u,toggleActive:f}}function HJ(n,e,t,r,i,s,o,a,u){const d=xm(i),h=xm(i).reverse(),m=C().concat(L());function g(R,I){return R.reduce((N,W)=>N-i[W],I)}function w(R,I){return R.reduce((N,W)=>g(N,I)>0?N.concat([W]):N,[])}function _(R){return s.map((I,N)=>({start:I-r[N]+.5+R,end:I+e-.5+R}))}function x(R,I,N){const W=_(I);return R.map(O=>{const P=N?0:-t,B=N?t:0,Y=N?"end":"start",ue=W[O][Y];return{index:O,loopPoint:ue,slideLocation:Up(-1),translate:iN(n,u[O]),target:()=>a.get()>ue?P:B}})}function C(){const R=o[0],I=w(h,R);return x(I,t,!1)}function L(){const R=e-o[0]-1,I=w(d,R);return x(I,-t,!0)}function j(){return m.every(({index:R})=>{const I=d.filter(N=>N!==R);return g(I,e)<=.1})}function D(){m.forEach(R=>{const{target:I,translate:N,slideLocation:W}=R,O=I();O!==W.get()&&(N.to(O),W.set(O))})}function $(){m.forEach(R=>R.translate.clear())}return{canLoop:j,clear:$,loop:D,loopPoints:m}}function GJ(n,e,t){let r,i=!1;function s(u){if(!t)return;function f(d){for(const h of d)if(h.type==="childList"){u.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(d=>{i||(fy(t)||t(u,d))&&f(d)}),r.observe(n,{childList:!0})}function o(){r&&r.disconnect(),i=!0}return{init:s,destroy:o}}function KJ(n,e,t,r){const i={};let s=null,o=null,a,u=!1;function f(){a=new IntersectionObserver(w=>{u||(w.forEach(_=>{const x=e.indexOf(_.target);i[x]=_}),s=null,o=null,t.emit("slidesInView"))},{root:n.parentElement,threshold:r}),e.forEach(w=>a.observe(w))}function d(){a&&a.disconnect(),u=!0}function h(w){return Sm(i).reduce((_,x)=>{const C=parseInt(x),{isIntersecting:L}=i[C];return(w&&L||!w&&!L)&&_.push(C),_},[])}function m(w=!0){if(w&&s)return s;if(!w&&o)return o;const _=h(w);return w&&(s=_),w||(o=_),_}return{init:f,destroy:d,get:m}}function YJ(n,e,t,r,i,s){const{measureSize:o,startEdge:a,endEdge:u}=n,f=t[0]&&i,d=w(),h=_(),m=t.map(o),g=x();function w(){if(!f)return 0;const L=t[0];return Tr(e[a]-L[a])}function _(){if(!f)return 0;const L=s.getComputedStyle(el(r));return parseFloat(L.getPropertyValue(`margin-${u}`))}function x(){return t.map((L,j,D)=>{const $=!j,H=A_(D,j);return $?m[j]+d:H?m[j]+h:D[j+1][a]-L[a]}).map(Tr)}return{slideSizes:m,slideSizesWithGaps:g,startGap:d,endGap:h}}function JJ(n,e,t,r,i,s,o,a,u){const{startEdge:f,endEdge:d,direction:h}=n,m=E_(t);function g(C,L){return xm(C).filter(j=>j%L===0).map(j=>C.slice(j,j+L))}function w(C){return C.length?xm(C).reduce((L,j,D)=>{const $=el(L)||0,H=$===0,R=j===Gm(C),I=i[f]-s[$][f],N=i[f]-s[j][d],W=!r&&H?h(o):0,O=!r&&R?h(a):0,P=Tr(N-O-(I+W));return D&&P>e+u&&L.push(j),R&&L.push(C.length),L},[]).map((L,j,D)=>{const $=Math.max(D[j-1]||0);return C.slice($,L)}):[]}function _(C){return m?g(C,t):w(C)}return{groupSlides:_}}function XJ(n,e,t,r,i,s,o){const{align:a,axis:u,direction:f,startIndex:d,loop:h,duration:m,dragFree:g,dragThreshold:w,inViewThreshold:_,slidesToScroll:x,skipSnaps:C,containScroll:L,watchResize:j,watchSlides:D,watchDrag:$,watchFocus:H}=s,R=2,I=NJ(),N=I.measure(e),W=t.map(I.measure),O=PJ(u,f),P=O.measureSize(N),B=RJ(P),Y=LJ(a,P),ue=!h&&!!L,ae=h||!!L,{slideSizes:le,slideSizesWithGaps:te,startGap:ce,endGap:fe}=YJ(O,N,W,t,ae,i),ne=JJ(O,P,x,h,N,W,ce,fe,R),{snaps:z,snapsAligned:J}=UJ(O,Y,N,W,ne),se=-el(z)+el(te),{snapsContained:Z,scrollContainLimit:pe}=jJ(P,se,J,L,R),ye=ue?Z:J,{limit:ve}=FJ(se,ye,h),we=rN(Gm(ye),d,h),Ie=we.clone(),Me=xm(t),Be=({dragHandler:gt,scrollBody:ot,scrollBounds:rn,options:{loop:Mt}})=>{Mt||rn.constrain(gt.pointerDown()),ot.seek()},We=({scrollBody:gt,translate:ot,location:rn,offsetLocation:Mt,previousLocation:Zn,scrollLooper:qt,slideLooper:Jt,dragHandler:on,animation:Rt,eventHandler:Wt,scrollBounds:an,options:{loop:dn}},Tt)=>{const $t=gt.settled(),At=!an.shouldConstrain(),Ut=dn?$t:$t&&At;Ut&&!on.pointerDown()&&(Rt.stop(),Wt.emit("settle")),Ut||Wt.emit("scroll");const Hn=rn.get()*Tt+Zn.get()*(1-Tt);Mt.set(Hn),dn&&(qt.loop(gt.direction()),Jt.loop()),ot.to(Mt.get())},ft=kJ(r,i,()=>Be(_t),gt=>We(_t,gt)),Te=.68,me=ye[we.get()],St=Up(me),vt=Up(me),Je=Up(me),st=Up(me),Ce=MJ(St,Je,vt,st,m,Te),Ne=$J(h,ye,se,ve,st),Ve=qJ(ft,we,Ie,Ce,Ne,st,o),Ze=VJ(ve),ct=Em(),nt=KJ(e,t,o,_),{slideRegistry:dt}=zJ(ue,L,ye,pe,ne,Me),lt=WJ(n,t,dt,Ve,Ce,ct,o,H),_t={ownerDocument:r,ownerWindow:i,eventHandler:o,containerRect:N,slideRects:W,animation:ft,axis:O,dragHandler:TJ(O,n,r,i,st,IJ(O,i),St,ft,Ve,Ce,Ne,we,o,B,g,w,C,Te,$),eventStore:ct,percentOfView:B,index:we,indexPrevious:Ie,limit:ve,location:St,offsetLocation:Je,previousLocation:vt,options:s,resizeHandler:OJ(e,o,i,t,O,j,I),scrollBody:Ce,scrollBounds:DJ(ve,Je,st,Ce,B),scrollLooper:BJ(se,ve,Je,[St,Je,vt,st]),scrollProgress:Ze,scrollSnapList:ye.map(Ze.get),scrollSnaps:ye,scrollTarget:Ne,scrollTo:Ve,slideLooper:HJ(O,P,se,le,te,z,ye,Je,t),slideFocus:lt,slidesHandler:GJ(e,o,D),slidesInView:nt,slideIndexes:Me,slideRegistry:dt,slidesToScroll:ne,target:st,translate:iN(O,e)};return _t}function QJ(){let n={},e;function t(f){e=f}function r(f){return n[f]||[]}function i(f){return r(f).forEach(d=>d(e,f)),u}function s(f,d){return n[f]=r(f).concat([d]),u}function o(f,d){return n[f]=r(f).filter(h=>h!==d),u}function a(){n={}}const u={init:t,emit:i,off:o,on:s,clear:a};return u}const ZJ={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function eX(n){function e(s,o){return nN(s,o||{})}function t(s){const o=s.breakpoints||{},a=Sm(o).filter(u=>n.matchMedia(u).matches).map(u=>o[u]).reduce((u,f)=>e(u,f),{});return e(s,a)}function r(s){return s.map(o=>Sm(o.breakpoints||{})).reduce((o,a)=>o.concat(a),[]).map(n.matchMedia)}return{mergeOptions:e,optionsAtMedia:t,optionsMediaQueries:r}}function tX(n){let e=[];function t(s,o){return e=o.filter(({options:a})=>n.optionsAtMedia(a).active!==!1),e.forEach(a=>a.init(s,n)),o.reduce((a,u)=>Object.assign(a,{[u.name]:u}),{})}function r(){e=e.filter(s=>s.destroy())}return{init:t,destroy:r}}function m0(n,e,t){const r=n.ownerDocument,i=r.defaultView,s=eX(i),o=tX(s),a=Em(),u=QJ(),{mergeOptions:f,optionsAtMedia:d,optionsMediaQueries:h}=s,{on:m,off:g,emit:w}=u,_=O;let x=!1,C,L=f(ZJ,m0.globalOptions),j=f(L),D=[],$,H,R;function I(){const{container:Me,slides:Be}=j;H=(Cw(Me)?n.querySelector(Me):Me)||n.children[0];const ft=Cw(Be)?H.querySelectorAll(Be):Be;R=[].slice.call(ft||H.children)}function N(Me){const Be=XJ(n,H,R,r,i,Me,u);if(Me.loop&&!Be.slideLooper.canLoop()){const We=Object.assign({},Me,{loop:!1});return N(We)}return Be}function W(Me,Be){x||(L=f(L,Me),j=d(L),D=Be||D,I(),C=N(j),h([L,...D.map(({options:We})=>We)]).forEach(We=>a.add(We,"change",O)),j.active&&(C.translate.to(C.location.get()),C.animation.init(),C.slidesInView.init(),C.slideFocus.init(Ie),C.eventHandler.init(Ie),C.resizeHandler.init(Ie),C.slidesHandler.init(Ie),C.options.loop&&C.slideLooper.loop(),H.offsetParent&&R.length&&C.dragHandler.init(Ie),$=o.init(Ie,D)))}function O(Me,Be){const We=ne();P(),W(f({startIndex:We},Me),Be),u.emit("reInit")}function P(){C.dragHandler.destroy(),C.eventStore.clear(),C.translate.clear(),C.slideLooper.clear(),C.resizeHandler.destroy(),C.slidesHandler.destroy(),C.slidesInView.destroy(),C.animation.destroy(),o.destroy(),a.clear()}function B(){x||(x=!0,a.clear(),P(),u.emit("destroy"),u.clear())}function Y(Me,Be,We){!j.active||x||(C.scrollBody.useBaseFriction().useDuration(Be===!0?0:j.duration),C.scrollTo.index(Me,We||0))}function ue(Me){const Be=C.index.add(1).get();Y(Be,Me,-1)}function ae(Me){const Be=C.index.add(-1).get();Y(Be,Me,1)}function le(){return C.index.add(1).get()!==ne()}function te(){return C.index.add(-1).get()!==ne()}function ce(){return C.scrollSnapList}function fe(){return C.scrollProgress.get(C.location.get())}function ne(){return C.index.get()}function z(){return C.indexPrevious.get()}function J(){return C.slidesInView.get()}function se(){return C.slidesInView.get(!1)}function Z(){return $}function pe(){return C}function ye(){return n}function ve(){return H}function we(){return R}const Ie={canScrollNext:le,canScrollPrev:te,containerNode:ve,internalEngine:pe,destroy:B,off:g,on:m,emit:w,plugins:Z,previousScrollSnap:z,reInit:_,rootNode:ye,scrollNext:ue,scrollPrev:ae,scrollProgress:fe,scrollSnapList:ce,scrollTo:Y,selectedScrollSnap:ne,slideNodes:we,slidesInView:J,slidesNotInView:se};return W(e,t),setTimeout(()=>u.emit("init"),0),Ie}m0.globalOptions=void 0;function L_(n={},e=[]){const t=S.useRef(n),r=S.useRef(e),[i,s]=S.useState(),[o,a]=S.useState(),u=S.useCallback(()=>{i&&i.reInit(t.current,r.current)},[i]);return S.useEffect(()=>{S_(t.current,n)||(t.current=n,u())},[n,u]),S.useEffect(()=>{EJ(r.current,e)||(r.current=e,u())},[e,u]),S.useEffect(()=>{if(SJ()&&o){m0.globalOptions=L_.globalOptions;const f=m0(o,t.current,r.current);return s(f),()=>f.destroy()}else s(void 0)},[o,s]),[a,i]}L_.globalOptions=void 0;const sN=S.createContext(null);function dy(){const n=S.useContext(sN);if(!n)throw new Error("useCarousel must be used within a <Carousel />");return n}const oN=S.forwardRef(({orientation:n="horizontal",opts:e,setApi:t,plugins:r,className:i,children:s,...o},a)=>{const[u,f]=L_({...e,axis:n==="horizontal"?"x":"y"},r),[d,h]=S.useState(!1),[m,g]=S.useState(!1),w=S.useCallback(L=>{L&&(h(L.canScrollPrev()),g(L.canScrollNext()))},[]),_=S.useCallback(()=>{f==null||f.scrollPrev()},[f]),x=S.useCallback(()=>{f==null||f.scrollNext()},[f]),C=S.useCallback(L=>{L.key==="ArrowLeft"?(L.preventDefault(),_()):L.key==="ArrowRight"&&(L.preventDefault(),x())},[_,x]);return S.useEffect(()=>{!f||!t||t(f)},[f,t]),S.useEffect(()=>{if(f)return w(f),f.on("reInit",w),f.on("select",w),()=>{f==null||f.off("select",w)}},[f,w]),F.jsx(sN.Provider,{value:{carouselRef:u,api:f,opts:e,orientation:n||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:_,scrollNext:x,canScrollPrev:d,canScrollNext:m},children:F.jsx("div",{ref:a,onKeyDownCapture:C,className:Wn("relative",i),role:"region","aria-roledescription":"carousel",...o,children:s})})});oN.displayName="Carousel";const aN=S.forwardRef(({className:n,...e},t)=>{const{carouselRef:r,orientation:i}=dy();return F.jsx("div",{ref:r,className:"overflow-hidden",children:F.jsx("div",{ref:t,className:Wn("flex",i==="horizontal"?"-ml-4":"-mt-4 flex-col",n),...e})})});aN.displayName="CarouselContent";const lN=S.forwardRef(({className:n,...e},t)=>{const{orientation:r}=dy();return F.jsx("div",{ref:t,role:"group","aria-roledescription":"slide",className:Wn("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",n),...e})});lN.displayName="CarouselItem";const uN=S.forwardRef(({className:n,variant:e="outline",size:t="icon",...r},i)=>{const{orientation:s,scrollPrev:o,canScrollPrev:a}=dy();return F.jsxs(Br,{ref:i,variant:e,size:t,className:Wn("absolute  h-8 w-8 rounded-full",s==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",n),disabled:!a,onClick:o,...r,children:[F.jsx(V7,{className:"h-4 w-4"}),F.jsx("span",{className:"sr-only",children:"Previous slide"})]})});uN.displayName="CarouselPrevious";const cN=S.forwardRef(({className:n,variant:e="outline",size:t="icon",...r},i)=>{const{orientation:s,scrollNext:o,canScrollNext:a}=dy();return F.jsxs(Br,{ref:i,variant:e,size:t,className:Wn("absolute h-8 w-8 rounded-full",s==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",n),disabled:!a,onClick:o,...r,children:[F.jsx(U7,{className:"h-4 w-4"}),F.jsx("span",{className:"sr-only",children:"Next slide"})]})});cN.displayName="CarouselNext";function nX(){var h,m,g,w;const{trip:n}=S.useContext(Ho),[e,t]=S.useState(null),[r,i]=S.useState([]),{locationInfoRef:s}=cy(),o=["Indeed, a great choice!","Hmm, this is one of the best placesspot on!","Oh, absolutely! That's an excellent pick.","I see you have a knack for picking the best.","Ah, this is top-notch. You've got great taste!","Can't argue with thatbrilliant choice!","Wow, you always know how to pick the perfect one.","Hmm, I couldn't agree morethis is fantastic.","This is a fantastic pick, you've got a great eye!","Excellent choice, you nailed it!","You've got a real talent for choosing the best.","Spot on! This is exactly what I would have picked.","Great minds think alikewhat a selection!","You've got an excellent sense for this.","This is an amazing choice, very impressive!","I see you've done your researchtop choice.","That's a choice I can definitely get behind.","You have a knack for picking winners!","This is a great findwell done!","I couldn't have chosen better myself!","Such a great pick, you really know your stuff.","A fantastic choice, you've got style!","That's a smart decision, I'm impressed!","You have great taste, that's for sure.","This was an obvious winnergreat pick!","Wow, this is just perfectwell chosen!","That's a choice full of wisdom and class."],a=o[Math.floor(Math.random()*o.length)],u=(h=n==null?void 0:n.tripData)==null?void 0:h.location,f=async()=>{try{const C=(await eN({textQuery:u})).data.places[0];C&&(t(C),i(C.photos||[]))}catch(_){console.error("Error fetching city details:",_),t(null),i([])}};S.useEffect(()=>{n&&u&&f()},[n,u]);const d=_=>uy.replace("{replace}",_);return F.jsxs("div",{ref:s,className:"my-1 md:my-5",children:[F.jsxs("div",{className:"location text text-center mb-10",children:[F.jsx("h2",{className:"text-3xl md:text-5xl font-bold mb-2",children:F.jsx("span",{className:"bg-gradient-to-b from-blue-400 to-blue-700 bg-clip-text text-transparent",children:u||"Unknown Location"})}),F.jsx("p",{className:"opacity-90 mx-auto text-center text-md font-medium tracking-tight text-primary/80 md:text-xl",children:a})]}),r.length>0&&F.jsxs(F.Fragment,{children:[F.jsx("div",{className:"carousel img opacity-90 mx-auto text-center text-lg font-medium tracking-tight text-primary/80 md:text-lg",children:"Take a sneak peek at what's ahead!"}),F.jsxs(oN,{className:"carousel w-full",children:[F.jsx(aN,{children:r.map((_,x)=>F.jsx(lN,{children:F.jsx("div",{className:"p-1 h-full w-full",children:F.jsx(ay,{children:F.jsx(ly,{className:"flex max-h-[50vh] rounded-lg overflow-hidden h-full w-full items-center justify-center p-1",children:F.jsx("img",{src:d(_.name)||"/images/main_img_placeholder.jpg",className:"rounded-lg cursor-pointer",alt:`City image ${x}`,onError:C=>C.target.src="/images/main_img_placeholder.jpg"})})})})},x))}),F.jsx(uN,{className:"hidden md:flex"}),F.jsx(cN,{className:"hidden md:flex"})]})]}),F.jsx("h2",{className:"location-info md:mt-4 opacity-90 mx-auto text-center text-lg font-medium tracking-tight text-primary/80 md:text-xl",children:"Ah, these are your pickslooking great so far!"}),F.jsxs("div",{className:"location-info flex items-center justify-center py-2 gap-2 mt-2",children:[F.jsxs("h3",{className:"location-info opacity-90 bg-foreground/20 px-2 md:px-4 flex items-center justify-center rounded-md text-center text-md font-medium tracking-tight text-primary/80 md:text-lg",children:[" ",((m=n==null?void 0:n.userSelection)==null?void 0:m.Budget)||"Not specified"]}),F.jsxs("h3",{className:"location-info opacity-90 bg-foreground/20 px-2 md:px-4 flex items-center justify-center rounded-md text-center text-md font-medium tracking-tight text-primary/80 md:text-lg",children:[" ",((g=n==null?void 0:n.userSelection)==null?void 0:g.People)||"Not specified"]}),F.jsxs("h3",{className:"location-info opacity-90 bg-foreground/20 px-2 md:px-4 flex items-center justify-center rounded-md text-center text-md font-medium tracking-tight text-primary/80 md:text-lg",children:[" ",((w=n==null?void 0:n.userSelection)==null?void 0:w.noOfDays)||"Not specified"," Day"]})]})]})}function rX({place:n}){var m;af({query:"(max-width: 445px)"}),af({query:"(max-width: 640px)"});const{trip:e}=S.useContext(Ho),t=(m=e==null?void 0:e.tripData)==null?void 0:m.location,[r,i]=S.useState(null),[s,o]=S.useState("/logo.png"),[a,u]=S.useState(""),[f,d]=S.useState(""),h=async()=>{try{const g={textQuery:`${n.name}, ${t}`},_=(await ZI(g)).data.places[0];if(_&&(i(_),u(_.formattedAddress||n.address||"Address not available"),d(_.googleMapsUri||`https://www.google.com/maps/search/${n.name},${t}`),_.photos&&_.photos.length>0)){const x=_.photos[0].name,C=uy.replace("{replace}",x);o(C)}}catch(g){console.error("Error fetching place details:",g),u(n.address||"Address not available"),d(`https://www.google.com/maps/search/${n.name},${t}`),o("/logo.png")}};return S.useEffect(()=>{e&&(n!=null&&n.name)&&t&&h()},[e,n,t]),F.jsx(ya,{className:"w-full",target:"_blank",to:f,children:F.jsxs(ay,{className:"border-foreground/20 p-1 h-full flex flex-col gap-3 hover:scale-105 duration-300",children:[F.jsx("div",{className:"img h-full rounded-lg",children:F.jsx("img",{src:s,className:"h-80 w-full object-cover",alt:n.name,onError:g=>g.target.src="/logo.png"})}),F.jsxs("div",{className:"text-content w-full flex items-center gap-3 justify-between flex-col h-full",children:[F.jsxs(__,{className:"w-full",children:[F.jsx(b_,{className:"opacity-90 w-full text-center text-xl font-black text-primary/80 md:text-3xl",children:n.name}),F.jsx(x_,{className:"line-clamp-2 tracking-wide opacity-90 w-full text-center text-sm text-primary/80 md:text-md",children:n.details||"No description available"})]}),F.jsx(ly,{className:"w-full",children:F.jsxs("div",{className:"places-details",children:[F.jsxs("span",{className:"font-medium text-primary/80 opacity-90 text-sm md:text-base tracking-wide",children:[" Timings: ",n.timings||"Not specified"]}),F.jsx("br",{}),F.jsxs("span",{className:"font-medium text-primary/80 opacity-90 text-sm md:text-base tracking-wide",children:[" Price: ",n.pricing||"Not specified"]}),F.jsx("br",{}),F.jsxs("span",{className:"font-medium text-primary/80 opacity-90 text-sm md:text-base tracking-wide line-clamp-1",children:[" Location: ",a]})]})})]})]})})}function iX(){var r,i;af({query:"(max-width: 445px)"}),af({query:"(max-width: 640px)"});const{trip:n}=S.useContext(Ho),e=((r=n==null?void 0:n.tripData)==null?void 0:r.itinerary)||[];(i=n==null?void 0:n.tripData)==null||i.location;const{placesRef:t}=cy();return F.jsx(F.Fragment,{children:e.length>0?e.map((s,o)=>F.jsxs("div",{ref:t,className:"main-container mt-5 sm:mt-10",children:[F.jsxs("div",{className:"places-heading text-center my-5",children:[F.jsxs("h3",{className:"md:text-4xl font-black bg-gradient-to-b from-blue-400 to-blue-700 bg-clip-text text-center text-transparent",children:["Day ",s.day]}),F.jsx("h4",{className:"md:text-3xl text-center text-primary/80",children:s.title||"No title available"})]}),F.jsx("div",{className:"cards flex flex-col md:flex-row flex-wrap gap-5",children:s.places&&s.places.length>0?s.places.map((a,u)=>F.jsx("div",{className:"md:w-[48%]",children:F.jsx(rX,{className:"place-card",place:a})},u)):F.jsx("p",{className:"text-center text-primary/80",children:"No places available for this day."})})]},o)):F.jsx("p",{className:"text-center text-primary/80",children:"No itinerary available."})})}function sX(){return F.jsxs("div",{className:"my-[15vh]",children:[F.jsx("h2",{className:"opacity-90 mx-auto text-center text-3xl font-black text-primary/80 md:text-5xl",children:"Places"}),F.jsx("div",{className:"main-info mt-2 md:mt-4",children:F.jsx(iX,{})})]})}function oX(){const{tripId:n}=mM(),{trip:e,setTrip:t}=S.useContext(Ho),r=Hw(),i=async()=>{const a=Mc(Au,"Trips",n),u=await w_(a);u.exists()?t(u.data()):ni.error("No Such Trip")};S.useEffect(()=>{n&&i()},[n]);const s=()=>{r("/checklist",{state:{tripId:n}})},o=async()=>{const a=Mc(Au,"Trips",n);try{await GI(a),ni.success("Trip deleted successfully"),r("/")}catch(u){ni.error("Error deleting trip: "+u.message)}};return F.jsxs("div",{className:"py-2",children:[F.jsx(nX,{}),F.jsx(bJ,{}),F.jsx(sX,{}),F.jsxs("div",{className:"mt-4 flex justify-center",children:[F.jsx(Br,{onClick:s,children:"View Checklist"}),F.jsx(Br,{onClick:o,className:"ml-4",variant:"destructive",children:"Delete Trip"})]})]})}function aX(n){const e=S.useRef({value:n,previous:n});return S.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var k_="Checkbox",[lX,RZ]=xd(k_),[uX,cX]=lX(k_),fN=S.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:u="on",onCheckedChange:f,form:d,...h}=n,[m,g]=S.useState(null),w=Oi(e,D=>g(D)),_=S.useRef(!1),x=m?d||!!m.closest("form"):!0,[C=!1,L]=A0({prop:i,defaultProp:s,onChange:f}),j=S.useRef(C);return S.useEffect(()=>{const D=m==null?void 0:m.form;if(D){const $=()=>L(j.current);return D.addEventListener("reset",$),()=>D.removeEventListener("reset",$)}},[m,L]),F.jsxs(uX,{scope:t,state:C,disabled:a,children:[F.jsx(Ur.button,{type:"button",role:"checkbox","aria-checked":qc(C)?"mixed":C,"aria-required":o,"data-state":pN(C),"data-disabled":a?"":void 0,disabled:a,value:u,...h,ref:w,onKeyDown:un(n.onKeyDown,D=>{D.key==="Enter"&&D.preventDefault()}),onClick:un(n.onClick,D=>{L($=>qc($)?!0:!$),x&&(_.current=D.isPropagationStopped(),_.current||D.stopPropagation())})}),x&&F.jsx(fX,{control:m,bubbles:!_.current,name:r,value:u,checked:C,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"},defaultChecked:qc(s)?!1:s})]})});fN.displayName=k_;var dN="CheckboxIndicator",hN=S.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...i}=n,s=cX(dN,t);return F.jsx(Fu,{present:r||qc(s.state)||s.state===!0,children:F.jsx(Ur.span,{"data-state":pN(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...n.style}})})});hN.displayName=dN;var fX=n=>{const{control:e,checked:t,bubbles:r=!0,defaultChecked:i,...s}=n,o=S.useRef(null),a=aX(t),u=fk(e);S.useEffect(()=>{const d=o.current,h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(a!==t&&g){const w=new Event("click",{bubbles:r});d.indeterminate=qc(t),g.call(d,qc(t)?!1:t),d.dispatchEvent(w)}},[a,t,r]);const f=S.useRef(qc(t)?!1:t);return F.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??f.current,...s,tabIndex:-1,ref:o,style:{...n.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function qc(n){return n==="indeterminate"}function pN(n){return qc(n)?"indeterminate":n?"checked":"unchecked"}var mN=fN,dX=hN;const gN=S.forwardRef(({className:n,...e},t)=>F.jsx(mN,{ref:t,className:Wn("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",n),...e,children:F.jsx(dX,{className:Wn("flex items-center justify-center text-current"),children:F.jsx(IP,{className:"h-4 w-4"})})}));gN.displayName=mN.displayName;class Km{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const hX=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,e)=>Promise.resolve(localStorage.setItem(n,e)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},Ji={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:hX()},P_=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},pX=(n,e="https://api.emailjs.com")=>{if(!n)return;const t=P_(n);Ji.publicKey=t.publicKey,Ji.blockHeadless=t.blockHeadless,Ji.storageProvider=t.storageProvider,Ji.blockList=t.blockList,Ji.limitRate=t.limitRate,Ji.origin=t.origin||e},vN=async(n,e,t={})=>{const r=await fetch(Ji.origin+n,{method:"POST",headers:t,body:e}),i=await r.text(),s=new Km(r.status,i);if(r.ok)return s;throw s},yN=(n,e,t)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},mX=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},wN=n=>n.webdriver||!n.languages||n.languages.length===0,_N=()=>new Km(451,"Unavailable For Headless Browser"),gX=(n,e)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},vX=n=>{var e;return!((e=n.list)!=null&&e.length)||!n.watchVariable},yX=(n,e)=>n instanceof FormData?n.get(e):n[e],bN=(n,e)=>{if(vX(n))return!1;gX(n.list,n.watchVariable);const t=yX(e,n.watchVariable);return typeof t!="string"?!1:n.list.includes(t)},xN=()=>new Km(403,"Forbidden"),wX=(n,e)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},_X=async(n,e,t)=>{const r=Number(await t.get(n)||0);return e-Date.now()+r},SN=async(n,e,t)=>{if(!e.throttle||!t)return!1;wX(e.throttle,e.id);const r=e.id||n;return await _X(r,e.throttle,t)>0?!0:(await t.set(r,Date.now().toString()),!1)},EN=()=>new Km(429,"Too Many Requests"),bX=async(n,e,t,r)=>{const i=P_(r),s=i.publicKey||Ji.publicKey,o=i.blockHeadless||Ji.blockHeadless,a=i.storageProvider||Ji.storageProvider,u={...Ji.blockList,...i.blockList},f={...Ji.limitRate,...i.limitRate};return o&&wN(navigator)?Promise.reject(_N()):(yN(s,n,e),mX(t),t&&bN(u,t)?Promise.reject(xN()):await SN(location.pathname,f,a)?Promise.reject(EN()):vN("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"}))},xX=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},SX=n=>typeof n=="string"?document.querySelector(n):n,EX=async(n,e,t,r)=>{const i=P_(r),s=i.publicKey||Ji.publicKey,o=i.blockHeadless||Ji.blockHeadless,a=Ji.storageProvider||i.storageProvider,u={...Ji.blockList,...i.blockList},f={...Ji.limitRate,...i.limitRate};if(o&&wN(navigator))return Promise.reject(_N());const d=SX(t);yN(s,n,e),xX(d);const h=new FormData(d);return bN(u,h)?Promise.reject(xN()):await SN(location.pathname,f,a)?Promise.reject(EN()):(h.append("lib_version","4.4.1"),h.append("service_id",n),h.append("template_id",e),h.append("user_id",s),vN("/api/v1.0/email/send-form",h))},CX={init:pX,send:bX,sendForm:EX,EmailJSResponseStatus:Km},AX={Documents:[{name:"Passport, visa",value:10,weight:1},{name:"Tickets for airline, boat, train, bus",value:8,weight:1},{name:"Copies of passport, tickets etc",value:6,weight:.5},{name:"Boarding pass",value:7,weight:.2},{name:"Drivers licence",value:5,weight:.5},{name:"Health insurance card",value:9,weight:.3},{name:"List of medications, letter prescriber",value:8,weight:.5},{name:"Travel insurance",value:7,weight:.3},{name:"Student card",value:3,weight:.2}],"Travel aids":[{name:"Suitcases, backpack",value:8,weight:5},{name:"Itinerary",value:10,weight:.5},{name:"Maps and directions",value:6,weight:.5},{name:"Language guide",value:5,weight:.5},{name:"Travel guide",value:6,weight:1},{name:"Travel pillow, sleeping mask, earplugs",value:4,weight:1},{name:"Travel locks",value:7,weight:.2},{name:"Luggage tags",value:5,weight:.1},{name:"Pens and paper",value:3,weight:.2},{name:"Snacks, drinks",value:6,weight:2},{name:"Small pocket knife (not in carry-on!)",value:4,weight:.5},{name:"Rope, expandable clothesline",value:3,weight:.5}],Financial:[{name:"Foreign currency",value:10,weight:1},{name:"Emergency money",value:9,weight:1},{name:"Credit card, debit card",value:10,weight:.1},{name:"Extra wallet",value:5,weight:.2},{name:"Money belt",value:7,weight:.3}],Appliances:[{name:"Cellphone, charger",value:10,weight:.5},{name:"Photo camera, memory card, charger",value:8,weight:1},{name:"Laptop, iPad or Tablet, E-reader, chargers",value:7,weight:2},{name:"Travel adapter and converter",value:9,weight:.3},{name:"Travel iron",value:4,weight:1},{name:"Flashlight",value:5,weight:.5},{name:"Headphones",value:6,weight:.2}],Clothes:[{name:"Underwear",value:8,weight:1},{name:"Socks",value:7,weight:.5},{name:"Sleepwear",value:6,weight:.5},{name:"Shirts, polos",value:7,weight:1},{name:"Jeans, trousers, shorts",value:8,weight:2},{name:"Dresses, skirts",value:7,weight:1},{name:"Shoes, sneakers",value:9,weight:2},{name:"Flipflops, slippers",value:5,weight:.5},{name:"Jackets, coats, raincoats",value:8,weight:2},{name:"Belts, ties",value:4,weight:.3},{name:"Scarves, hats, gloves",value:5,weight:.5}],Toiletries:[{name:"Toothbrush, paste, dental floss",value:9,weight:.5},{name:"Deodorant",value:8,weight:.3},{name:"Tweezers (not in carry-on!)",value:5,weight:.2},{name:"Soap, shampoo, conditioner",value:8,weight:1},{name:"Towels",value:7,weight:2},{name:"Nailcare",value:4,weight:.3},{name:"Tissues, toilet roll",value:6,weight:.5},{name:"Feminine hygiene",value:7,weight:.5},{name:"Makeup, makeup remover",value:6,weight:.5},{name:"Shaving supplies",value:6,weight:.3},{name:"Skin products",value:7,weight:.5},{name:"Brush, comb, hair products",value:6,weight:.3},{name:"Glasses, contact lenses, supplies",value:8,weight:.3}],Health:[{name:"Medications, pain reliever",value:10,weight:.5},{name:"First aid kit",value:9,weight:1},{name:"Insect repellent",value:8,weight:.3},{name:"Oral Rehydration Solution (ORS)",value:7,weight:.5},{name:"Mosquito net",value:6,weight:2},{name:"Birth control, condoms",value:7,weight:.2},{name:"Vaccines, health/dental checkup",value:9,weight:.1},{name:"Vitamins",value:6,weight:.3},{name:"Hand sanitizer/disinfectant",value:8,weight:.3}],"General activities":[{name:"Swimsuit and big towel",value:8,weight:1},{name:"Walking shoes",value:9,weight:1.5},{name:"Sunglasses",value:7,weight:.2},{name:"Sunscreen",value:8,weight:.3},{name:"Umbrella",value:6,weight:.5},{name:"Daypack",value:7,weight:1},{name:"Books, e-books, magazines",value:5,weight:1}]};function LX(){var B;const{user:n,isAuthenticated:e}=S.useContext(Ho),r=(B=bd().state)==null?void 0:B.tripId,[i,s]=S.useState({noOfDays:3,Budget:"Moderate"}),[o,a]=S.useState(!0),[u,f]=S.useState(null);S.useEffect(()=>{(async()=>{if(!r){f("No trip ID provided. Please navigate from a trip."),a(!1);return}try{console.log("Fetching trip with ID:",r);const ue=Mc(Au,"Trips",r),ae=await w_(ue);if(ae.exists()){const te=ae.data().userSelection||{};console.log("Fetched userSelection:",te);const ce=ne=>{if(typeof ne=="string"&&["Low","Moderate","Luxury"].includes(ne))return ne;const z=parseFloat(ne);return isNaN(z)?"Moderate":z<3e3?"Low":z<1e4?"Moderate":"Luxury"},fe={noOfDays:te.noOfDays||3,Budget:ce(te.Budget)};s(fe),console.log("Set formData:",fe)}else f("Trip not found.")}catch(ue){f("Failed to load trip data."),console.error("Firestore error:",ue)}finally{a(!1)}})()},[r]);const[d,h]=S.useState(AX),[m,g]=S.useState(""),[w,_]=S.useState("Documents"),[x,C]=S.useState({}),[L,j]=S.useState({}),[D,$]=S.useState(!1),H=()=>{const Y=i.noOfDays*10+(i.Budget==="Luxury"?20:i.Budget==="Moderate"?10:5);console.log("Optimizing with capacity:",Y);const ue={};Object.keys(d).forEach(le=>{const te=d[le],ce=[];let fe=Y;te.sort((ne,z)=>z.value/z.weight-ne.value/ne.weight).forEach(ne=>{ne.weight<=fe&&(ce.push(ne),fe-=ne.weight)}),ue[le]=ce}),j(ue);const ae={};Object.keys(ue).forEach(le=>{ae[le]=ue[le].map(te=>te.name)}),C(ae),console.log("Initialized checkedItems:",ae)};S.useEffect(()=>{!o&&!u&&H()},[i,d,o,u]);const R=()=>{var ue;if(m.trim()==="")return;if((ue=d[w])==null?void 0:ue.some(ae=>ae.name.toLowerCase()===m.trim().toLowerCase())){alert("This item already exists in the selected category.");return}h(ae=>({...ae,[w]:[...ae[w],{name:m.trim(),value:5,weight:1}]})),g("")},I=(Y,ue)=>{window.confirm("Are you sure you want to remove this item?")&&(h(le=>({...le,[Y]:le[Y].filter(te=>te.name!==ue)})),C(le=>{const te={...le};return te[Y]=(te[Y]||[]).filter(ce=>ce!==ue),te}))},N=(Y,ue,ae)=>{console.log(`Checkbox toggled - Category: ${Y}, Item: ${ue}, Checked: ${ae}`),C(le=>{const te=le[Y]||[],ce=ae?[...te,ue]:te.filter(ne=>ne!==ue),fe={...le,[Y]:ce};return console.log("Updated checkedItems:",fe),fe})},W=()=>{const Y=new zt;Y.setFontSize(16),Y.text("Your Travel Checklist",20,20),Y.setFontSize(12);let ue=30;return Object.entries(x).forEach(([ae,le])=>{le.length>0&&(Y.text(ae,20,ue),ue+=10,le.forEach(te=>{Y.text(`- ${te}`,30,ue),ue+=10}),ue+=5)}),ue===30&&Y.text("No items selected.",20,ue),Y.save("checklist.pdf"),Y.output("datauristring").split(",")[1]},O=()=>{if(!Object.values(x).some(ue=>ue.length>0)){alert("Please select at least one item to save as PDF.");return}W()},P=async()=>{if(!e||!(n!=null&&n.email)){alert("User is not authenticated or email is missing.");return}if(!Object.values(x).some(le=>le.length>0)){alert("Please select at least one item to send the checklist.");return}$(!0);const ue=Object.entries(x).filter(([,le])=>le.length>0).map(([le,te])=>`${le}:
${te.map(ce=>`- ${ce}`).join(`
`)}`).join(`

`),ae={user_name:n.name||"User",saved_items:ue,email:n.email};try{const le=await CX.send("service_oepq08e","template_9b21bnq",ae,"ej7jjYM4deFARaWnU");if(le.status===200)alert("Checklist sent successfully!"),C({});else throw new Error(`Failed to send email: ${le.text}`)}catch(le){console.error("Error sending checklist email:",le),alert(`Failed to send checklist: ${le.message}`)}finally{$(!1)}};return o?F.jsx("div",{className:"container mx-auto py-12 px-4 sm:px-6 lg:px-8",children:"Loading..."}):u?F.jsx("div",{className:"container mx-auto py-12 px-4 sm:px-6 lg:px-8",children:F.jsxs("h1",{className:"text-3xl font-bold mb-8 text-center text-red-500",children:["Error: ",u]})}):F.jsxs("div",{className:"container mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[F.jsx("h1",{className:"text-3xl md:text-5xl font-bold mb-8 text-center bg-gradient-to-b from-primary/90 to-primary/60 bg-clip-text text-transparent",children:"Your Travel Checklist"}),F.jsxs("div",{className:"bg-white dark:bg-gray-900 shadow-lg rounded-lg p-6 max-w-4xl mx-auto",children:[F.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4 items-center",children:[F.jsx(Ic,{value:m,onChange:Y=>g(Y.target.value),placeholder:"Add a custom item...",className:"w-full sm:w-2/3"}),F.jsx("select",{value:w,onChange:Y=>_(Y.target.value),className:"w-full sm:w-1/3 p-2 border rounded-md dark:bg-gray-800 dark:border-gray-700",children:Object.keys(d).map(Y=>F.jsx("option",{value:Y,children:Y},Y))}),F.jsxs(Br,{onClick:R,className:"w-full sm:w-auto flex items-center gap-2",children:[F.jsx(RP,{className:"h-5 w-5"})," Add"]})]}),F.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(d).map(([Y,ue])=>F.jsxs("div",{className:"mb-6",children:[F.jsx("h2",{className:"text-xl font-semibold mb-3 bg-gradient-to-b from-blue-400 to-blue-700 bg-clip-text text-transparent",children:Y}),F.jsx("ul",{className:"space-y-2",children:ue.map(ae=>{var le;return F.jsxs("li",{className:"flex items-center justify-between",children:[F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsx(gN,{id:`${Y}-${ae.name}`,checked:((le=x[Y])==null?void 0:le.includes(ae.name))||!1,onCheckedChange:te=>N(Y,ae.name,te)}),F.jsx("label",{htmlFor:`${Y}-${ae.name}`,className:"text-sm text-gray-700 dark:text-gray-300",children:ae.name})]}),F.jsx(Br,{variant:"ghost",size:"sm",onClick:()=>I(Y,ae.name),className:"text-red-500 hover:text-red-700",children:F.jsx(OP,{className:"h-4 w-4"})})]},`${Y}-${ae.name}`)})})]},Y))}),F.jsxs("div",{className:"mt-6 flex justify-center gap-4",children:[F.jsx(Br,{onClick:P,disabled:D,children:D?"Sending...":"Send Checklist"}),F.jsx(Br,{onClick:O,children:"Save as PDF"})]})]})]})}const kX=async()=>{const n=await fetch("https://test.api.amadeus.com/v1/security/oauth2/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"client_credentials",client_id:"eyFk6i0vuOVl82k4qEIk8qpxR4oREMVW",client_secret:"mJCrK5Jix6l4wJCF"})});if(!n.ok){const t=await n.text();throw console.error("Error response body:",t),new Error("Failed to get access token")}return(await n.json()).access_token},PX=async(n,e,t,r)=>{const i=`https://test.api.amadeus.com/v2/shopping/flight-offers?originLocationCode=${n}&destinationLocationCode=${e}&departureDate=${t}&adults=1`,s=await fetch(i,{headers:{Authorization:`Bearer ${r}`}});if(!s.ok){const a=await s.text();throw console.error("Error response body:",a),new Error("Failed to fetch flights")}return(await s.json()).data||[]};function TX(){const[n,e]=S.useState(""),[t,r]=S.useState(""),[i,s]=S.useState(""),[o,a]=S.useState(""),[u,f]=S.useState(null),[d,h]=S.useState(!1),m=async()=>{if(a(""),!n.trim()||!t.trim()||!i.trim()){a("Please enter From, To IATA codes and Departure Date.");return}f(null),h(!0);try{const w=await kX(),_=await PX(n,t,i,w);f(_),_.length||a("No flights found for the given route and date.")}catch(w){a("Failed to fetch flights. Please try again later."),console.error(w)}finally{h(!1)}},g=w=>w;return F.jsxs("div",{style:{fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",color:"black",padding:20,maxWidth:700,margin:"auto"},children:[F.jsx("h2",{style:{textAlign:"center"},children:"Search Flights"}),F.jsx("div",{style:{marginBottom:"20px",textAlign:"center"},children:F.jsx("a",{href:"/iata_reference.pdf",target:"_blank",rel:"noopener noreferrer",children:F.jsx("button",{style:{padding:"10px 20px",fontSize:"16px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"5px"},children:"View IATA Reference PDF"})})}),F.jsxs("label",{style:{display:"block",marginBottom:10,fontWeight:"600",fontSize:16},children:["From IATA Code:",F.jsx("input",{type:"text",placeholder:"Enter From IATA Code",value:n,onChange:w=>e(w.target.value.toUpperCase()),maxLength:3,style:{width:"100%",padding:10,marginTop:5,fontSize:18,border:"1px solid #ccc",borderRadius:6}})]}),F.jsxs("label",{style:{display:"block",marginBottom:10,fontWeight:"600",fontSize:16},children:["To IATA Code:",F.jsx("input",{type:"text",placeholder:"Enter To IATA Code",value:t,onChange:w=>r(w.target.value.toUpperCase()),maxLength:3,style:{width:"100%",padding:10,marginTop:5,fontSize:18,border:"1px solid #ccc",borderRadius:6}})]}),F.jsxs("label",{style:{display:"block",marginBottom:20,fontWeight:"600",fontSize:16},children:["Departure Date:",F.jsx("input",{type:"date",value:i,onChange:w=>s(w.target.value),style:{width:"100%",padding:10,marginTop:5,fontSize:18,border:"1px solid #ccc",borderRadius:6}})]}),F.jsx("button",{onClick:m,style:{padding:"14px 25px",fontSize:18,backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:6,cursor:"pointer",marginBottom:20,width:"100%",fontWeight:"600"},disabled:d,children:d?"Searching...":"Search Flights"}),o&&F.jsx("p",{style:{color:"red",fontWeight:"600"},children:o}),u&&u.length>0&&F.jsxs(F.Fragment,{children:[F.jsx("h3",{style:{marginBottom:15,fontWeight:"700"},children:"Flight Results:"}),F.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:20,marginBottom:20},children:u.map((w,_)=>{var C,L,j,D,$,H,R,I,N,W,O,P,B,Y,ue;const x=`https://www.google.com/flights?hl=en#flt=${n}.${t}.${g(i)};c:USD;e:1;sd:1;t:f`;return F.jsxs("div",{onClick:()=>window.open(x,"_blank"),style:{border:"2px solid #007bff",borderRadius:10,padding:20,cursor:"pointer",backgroundColor:"#e6f0ff",boxShadow:"0 4px 8px rgba(0, 123, 255, 0.2)",transition:"transform 0.2s",fontSize:17,fontWeight:"600",color:"#003366"},onMouseEnter:ae=>ae.currentTarget.style.transform="scale(1.03)",onMouseLeave:ae=>ae.currentTarget.style.transform="scale(1)",title:"Click to book on Google Flights",children:[F.jsxs("div",{children:[F.jsx("strong",{children:"Price:"})," ",(C=w.price)==null?void 0:C.total," ",(L=w.price)==null?void 0:L.currency]}),F.jsxs("div",{children:[F.jsx("strong",{children:"Airlines:"})," ",($=(D=(j=w.itineraries)==null?void 0:j[0])==null?void 0:D.segments)==null?void 0:$.map(ae=>ae.carrierCode).join(", ")]}),F.jsxs("div",{children:[F.jsx("strong",{children:"Departure:"})," ",(W=(N=(I=(R=(H=w.itineraries)==null?void 0:H[0])==null?void 0:R.segments)==null?void 0:I[0])==null?void 0:N.departure)==null?void 0:W.iataCode," at"," ",new Date(w.itineraries[0].segments[0].departure.at).toLocaleString()]}),F.jsxs("div",{children:[F.jsx("strong",{children:"Arrival:"})," ",(ue=(Y=(B=(P=(O=w.itineraries)==null?void 0:O[0])==null?void 0:P.segments)==null?void 0:B.slice(-1)[0])==null?void 0:Y.arrival)==null?void 0:ue.iataCode," at"," ",new Date(w.itineraries[0].segments.slice(-1)[0].arrival.at).toLocaleString()]})]},_)})})]})]})}function IX(){const[n,e]=S.useState(3),[t,r]=S.useState(0),[i,s]=S.useState(""),o=u=>200+100*u,a=u=>"Low risk: Enjoy your trip!";return S.useEffect(()=>{r(o(n)),s(a())},[n]),F.jsxs("div",{className:"container mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[F.jsx("h1",{className:"text-3xl md:text-5xl font-bold mb-8 text-center bg-gradient-to-b from-primary/90 to-primary/60 bg-clip-text text-transparent",children:"Cost & Risk Analytics"}),F.jsxs("div",{className:"bg-white dark:bg-gray-900 shadow-lg rounded-lg p-6 max-w-4xl mx-auto",children:[F.jsxs("div",{className:"mb-6",children:[F.jsx("label",{className:"block text-lg font-medium mb-2",children:"Trip Duration (Days)"}),F.jsx("input",{type:"number",value:n,onChange:u=>e(parseInt(u.target.value)||1),className:"w-full p-2 border rounded-md dark:bg-gray-800 dark:border-gray-700",min:"1",max:"5"})]}),F.jsx("div",{className:"mb-6",children:F.jsxs("p",{className:"text-lg",children:["Predicted Cost: $",t]})}),F.jsx("div",{children:F.jsxs("p",{className:"text-lg",children:["Risk Assessment: ",i]})})]})]})}function NX({footerRef:n}){const e=[{name:"Mail",icon:F.jsx(w$,{}),link:"ruas21etcs@gmail.com"}];return F.jsxs("div",{ref:n,className:"footer w-full flex flex-col text-muted-foreground items-center justify-center md:p-4 py-2 border-t",children:[F.jsx("p",{className:"sm:font-semibold sm:text-lg  bg-gradient-to-b from-primary/90 to-primary/60 bg-clip-text text-transparent",children:"Made by Group 22"}),F.jsx("div",{className:"logos flex items-center justify-center gap-5 w-full",children:e.map((t,r)=>F.jsx(ya,{to:t.link,target:"_blank",rel:"noopener noreferrer",children:t.icon},r))})]})}const RX=({trip:n})=>{var f;const[e,t]=S.useState([]),[r,i]=S.useState(""),[s,o]=S.useState(""),a=(f=n==null?void 0:n.tripData)==null?void 0:f.location,u=async()=>{await eN({textQuery:a}).then(h=>{t(h.data.places[0]),i(h.data.places[0].photos[0].name)}).catch(h=>console.log(h))};return S.useEffect(()=>{n&&u()},[n]),S.useEffect(()=>{const d=uy.replace("{replace}",r);o(d)},[r]),F.jsx(F.Fragment,{children:F.jsx("div",{className:"card-card border-foreground/20 p-1 h-full flex flex-col gap-3",children:F.jsxs("div",{className:"img relative h-full rounded-lg overflow-hidden duration-500 group",children:[F.jsx("img",{src:s||"/logo.png",className:"h-56 w-full object-cover group-hover:scale-110 duration-500 transition-all",alt:s||"/logo.png"}),F.jsxs("div",{className:"absolute inset-0 bg-background/90 flex flex-col items-center justify-center md:opacity-0 md:group-hover:opacity-100 transition-opacity duration-300",children:[F.jsx("span",{className:"bg-gradient-to-b text-lg from-primary/90 to-primary/60 bg-clip-text text-transparent font-bold",children:n.userSelection.location}),F.jsxs("span",{className:"bg-gradient-to-b text-lg from-primary/90 to-primary/60 bg-clip-text text-transparent font-bold",children:[n.userSelection.noOfDays," ",n.userSelection.noOfDays>1?"Days":"Day"]}),F.jsxs("span",{className:"bg-gradient-to-b text-lg from-primary/90 to-primary/60 bg-clip-text text-transparent font-bold",children:[n.userSelection.Budget," Budget"]})]})]})})})};function OX(){const{user:n}=S.useContext(Ho),[e,t]=S.useState([]),r=async()=>{const s=OY(_Y(Au,"Trips"),MY("userEmail","==",n==null?void 0:n.email)),o=await VY(s),a=[];o.forEach(f=>{a.push({id:f.id,...f.data()})});const u=a.reverse();t(u)},i=async s=>{if(window.confirm("Are you sure you want to delete this trip?"))try{const o=Mc(Au,"Trips",s);await GI(o),ni.success("Trip deleted successfully"),await r()}catch(o){console.error("Error deleting trip:",o),ni.error("Failed to delete trip")}};return S.useEffect(()=>{n&&r()},[n]),F.jsxs("div",{className:"mb-10",children:[F.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-center my-5 md:my-10 bg-gradient-to-b from-primary/90 to-primary/60 bg-clip-text text-transparent",children:"All Trips"}),F.jsx("div",{className:"flex gap-3 flex-wrap justify-evenly items-center",children:(e==null?void 0:e.length)>0?e==null?void 0:e.map((s,o)=>F.jsxs("div",{className:"w-full md:w-[48%] relative group",children:[F.jsx(ya,{to:"/my-trips/"+s.tripId,className:"block",children:F.jsx(RX,{trip:s})}),F.jsx("button",{onClick:()=>i(s.id),className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 hover:bg-red-600","aria-label":"Delete trip",children:F.jsx(OP,{size:20})})]},o)):[1,2,3,4].map((s,o)=>F.jsx("div",{className:"w-[48%] h-52 rounded-md border bg-card-foreground/50 animate-pulse"},o))})]})}function Eu(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function CN(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var $o={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Uh={duration:.5,overwrite:!1,delay:0},T_,Qi,Er,zl=1e8,xs=1/zl,Lw=Math.PI*2,MX=Lw/4,DX=0,AN=Math.sqrt,jX=Math.cos,FX=Math.sin,Mi=function(e){return typeof e=="string"},Vr=function(e){return typeof e=="function"},Mu=function(e){return typeof e=="number"},I_=function(e){return typeof e>"u"},Hl=function(e){return typeof e=="object"},ho=function(e){return e!==!1},N_=function(){return typeof window<"u"},ev=function(e){return Vr(e)||Mi(e)},LN=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Ss=Array.isArray,kw=/(?:-?\.?\d|\.)+/gi,kN=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,yh=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,a2=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,PN=/[+-]=-?[.\d]+/,TN=/[^,'"\[\]\s]+/gi,BX=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Pr,Tl,Pw,R_,qo={},g0={},IN,NN=function(e){return(g0=zh(e,qo))&&vo},O_=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Cm=function(e,t){return!t&&console.warn(e)},RN=function(e,t){return e&&(qo[e]=t)&&g0&&(g0[e]=t)||qo},Am=function(){return 0},VX={suppressEvents:!0,isStart:!0,kill:!1},xv={suppressEvents:!0,kill:!1},UX={suppressEvents:!0},M_={},Wc=[],Tw={},ON,Do={},l2={},GA=30,Sv=[],D_="",j_=function(e){var t=e[0],r,i;if(Hl(t)||Vr(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(i=Sv.length;i--&&!Sv[i].targetTest(t););r=Sv[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new iR(e[i],r)))||e.splice(i,1);return e},td=function(e){return e._gsap||j_(_a(e))[0]._gsap},MN=function(e,t,r){return(r=e[t])&&Vr(r)?e[t]():I_(r)&&e.getAttribute&&e.getAttribute(t)||r},po=function(e,t){return(e=e.split(",")).forEach(t)||e},Kr=function(e){return Math.round(e*1e5)/1e5||0},ii=function(e){return Math.round(e*1e7)/1e7||0},Th=function(e,t){var r=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},zX=function(e,t){for(var r=t.length,i=0;e.indexOf(t[i])<0&&++i<r;);return i<r},v0=function(){var e=Wc.length,t=Wc.slice(0),r,i;for(Tw={},Wc.length=0,r=0;r<e;r++)i=t[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},DN=function(e,t,r,i){Wc.length&&!Qi&&v0(),e.render(t,r,Qi&&t<0&&(e._initted||e._startAt)),Wc.length&&!Qi&&v0()},jN=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(TN).length<2?t:Mi(e)?e.trim():e},FN=function(e){return e},Wo=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},$X=function(e){return function(t,r){for(var i in r)i in t||i==="duration"&&e||i==="ease"||(t[i]=r[i])}},zh=function(e,t){for(var r in t)e[r]=t[r];return e},KA=function n(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=Hl(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},y0=function(e,t){var r={},i;for(i in e)i in t||(r[i]=e[i]);return r},em=function(e){var t=e.parent||Pr,r=e.keyframes?$X(Ss(e.keyframes)):Wo;if(ho(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},qX=function(e,t){for(var r=e.length,i=r===t.length;i&&r--&&e[r]===t[r];);return r<0},BN=function(e,t,r,i,s){var o=e[i],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[i]=t,t._prev=o,t.parent=t._dp=e,t},hy=function(e,t,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=t._prev,o=t._next;s?s._next=o:e[r]===t&&(e[r]=o),o?o._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},lf=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},nd=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},WX=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},Iw=function(e,t,r,i){return e._startAt&&(Qi?e._startAt.revert(xv):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},HX=function n(e){return!e||e._ts&&n(e.parent)},YA=function(e){return e._repeat?$h(e._tTime,e=e.duration()+e._rDelay)*e:0},$h=function(e,t){var r=Math.floor(e=ii(e/t));return e&&r===e?r-1:r},w0=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},py=function(e){return e._end=ii(e._start+(e._tDur/Math.abs(e._ts||e._rts||xs)||0))},my=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=ii(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),py(e),r._dirty||nd(r,e)),e},VN=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=w0(e.rawTime(),t),(!t._dur||Ym(0,t.totalDuration(),r)-t._tTime>xs)&&t.render(r,!0)),nd(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-1e-8}},Rl=function(e,t,r,i){return t.parent&&lf(t),t._start=ii((Mu(r)?r:r||e!==Pr?va(e,r,t):e._time)+t._delay),t._end=ii(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),BN(e,t,"_first","_last",e._sort?"_start":0),Nw(t)||(e._recent=t),i||VN(e,t),e._ts<0&&my(e,e._tTime),e},UN=function(e,t){return(qo.ScrollTrigger||O_("scrollTrigger",t))&&qo.ScrollTrigger.create(t,e)},zN=function(e,t,r,i,s){if(B_(e,t,s),!e._initted)return 1;if(!r&&e._pt&&!Qi&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&ON!==Bo.frame)return Wc.push(e),e._lazy=[s,i],1},GX=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},Nw=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},KX=function(e,t,r,i){var s=e.ratio,o=t<0||!t&&(!e._start&&GX(e)&&!(!e._initted&&Nw(e))||(e._ts<0||e._dp._ts<0)&&!Nw(e))?0:1,a=e._rDelay,u=0,f,d,h;if(a&&e._repeat&&(u=Ym(0,e._tDur,t),d=$h(u,a),e._yoyo&&d&1&&(o=1-o),d!==$h(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||Qi||i||e._zTime===xs||!t&&e._zTime){if(!e._initted&&zN(e,t,i,r,u))return;for(h=e._zTime,e._zTime=t||(r?xs:0),r||(r=t&&!h),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=u,f=e._pt;f;)f.r(o,f.d),f=f._next;t<0&&Iw(e,t,r,!0),e._onUpdate&&!r&&Uo(e,"onUpdate"),u&&e._repeat&&!r&&e.parent&&Uo(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&lf(e,1),!r&&!Qi&&(Uo(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},YX=function(e,t,r){var i;if(r>t)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},qh=function(e,t,r,i){var s=e._repeat,o=ii(t)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:ii(o*(s+1)+e._rDelay*s):o,a>0&&!i&&my(e,e._tTime=e._tDur*a),e.parent&&py(e),r||nd(e.parent,e),e},JA=function(e){return e instanceof Bs?nd(e):qh(e,e._dur)},JX={_start:0,endTime:Am,totalDuration:Am},va=function n(e,t,r){var i=e.labels,s=e._recent||JX,o=e.duration()>=zl?s.endTime(!1):e._dur,a,u,f;return Mi(t)&&(isNaN(t)||t in i)?(u=t.charAt(0),f=t.substr(-1)==="%",a=t.indexOf("="),u==="<"||u===">"?(a>=0&&(t=t.replace(/=/,"")),(u==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(f?(a<0?s:r).totalDuration()/100:1)):a<0?(t in i||(i[t]=o),i[t]):(u=parseFloat(t.charAt(a-1)+t.substr(a+1)),f&&r&&(u=u/100*(Ss(r)?r[0]:r).totalDuration()),a>1?n(e,t.substr(0,a-1),r)+u:o+u)):t==null?o:+t},tm=function(e,t,r){var i=Mu(t[1]),s=(i?2:1)+(e<2?0:1),o=t[s],a,u;if(i&&(o.duration=t[1]),o.parent=r,e){for(a=o,u=r;u&&!("immediateRender"in a);)a=u.vars.defaults||{},u=ho(u.vars.inherit)&&u.parent;o.immediateRender=ho(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new ri(t[0],o,t[s+1])},hf=function(e,t){return e||e===0?t(e):t},Ym=function(e,t,r){return r<e?e:r>t?t:r},bs=function(e,t){return!Mi(e)||!(t=BX.exec(e))?"":t[1]},XX=function(e,t,r){return hf(r,function(i){return Ym(e,t,i)})},Rw=[].slice,$N=function(e,t){return e&&Hl(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Hl(e[0]))&&!e.nodeType&&e!==Tl},QX=function(e,t,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return Mi(i)&&!t||$N(i,1)?(s=r).push.apply(s,_a(i)):r.push(i)})||r},_a=function(e,t,r){return Er&&!t&&Er.selector?Er.selector(e):Mi(e)&&!r&&(Pw||!Wh())?Rw.call((t||R_).querySelectorAll(e),0):Ss(e)?QX(e,r):$N(e)?Rw.call(e,0):e?[e]:[]},Ow=function(e){return e=_a(e)[0]||Cm("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return _a(t,r.querySelectorAll?r:r===e?Cm("Invalid scope")||R_.createElement("div"):e)}},qN=function(e){return e.sort(function(){return .5-Math.random()})},WN=function(e){if(Vr(e))return e;var t=Hl(e)?e:{each:e},r=rd(t.ease),i=t.from||0,s=parseFloat(t.base)||0,o={},a=i>0&&i<1,u=isNaN(i)||a,f=t.axis,d=i,h=i;return Mi(i)?d=h={center:.5,edges:.5,end:1}[i]||0:!a&&u&&(d=i[0],h=i[1]),function(m,g,w){var _=(w||t).length,x=o[_],C,L,j,D,$,H,R,I,N;if(!x){if(N=t.grid==="auto"?0:(t.grid||[1,zl])[1],!N){for(R=-1e8;R<(R=w[N++].getBoundingClientRect().left)&&N<_;);N<_&&N--}for(x=o[_]=[],C=u?Math.min(N,_)*d-.5:i%N,L=N===zl?0:u?_*h/N-.5:i/N|0,R=0,I=zl,H=0;H<_;H++)j=H%N-C,D=L-(H/N|0),x[H]=$=f?Math.abs(f==="y"?D:j):AN(j*j+D*D),$>R&&(R=$),$<I&&(I=$);i==="random"&&qN(x),x.max=R-I,x.min=I,x.v=_=(parseFloat(t.amount)||parseFloat(t.each)*(N>_?_-1:f?f==="y"?_/N:N:Math.max(N,_/N))||0)*(i==="edges"?-1:1),x.b=_<0?s-_:s,x.u=bs(t.amount||t.each)||0,r=r&&_<0?tR(r):r}return _=(x[m]-x.min)/x.max||0,ii(x.b+(r?r(_):_)*x.v)+x.u}},Mw=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=ii(Math.round(parseFloat(r)/e)*e*t);return(i-i%1)/t+(Mu(r)?0:bs(r))}},HN=function(e,t){var r=Ss(e),i,s;return!r&&Hl(e)&&(i=r=e.radius||zl,e.values?(e=_a(e.values),(s=!Mu(e[0]))&&(i*=i)):e=Mw(e.increment)),hf(t,r?Vr(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),u=parseFloat(s?o.y:0),f=zl,d=0,h=e.length,m,g;h--;)s?(m=e[h].x-a,g=e[h].y-u,m=m*m+g*g):m=Math.abs(e[h]-a),m<f&&(f=m,d=h);return d=!i||f<=i?e[d]:o,s||d===o||Mu(o)?d:d+bs(o)}:Mw(e))},GN=function(e,t,r,i){return hf(Ss(e)?!t:r===!0?!!(r=0):!i,function(){return Ss(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+r*.99))/r)*r*i)/i})},ZX=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.reduce(function(s,o){return o(s)},i)}},eQ=function(e,t){return function(r){return e(parseFloat(r))+(t||bs(r))}},tQ=function(e,t,r){return YN(e,t,0,1,r)},KN=function(e,t,r){return hf(r,function(i){return e[~~t(i)]})},nQ=function n(e,t,r){var i=t-e;return Ss(e)?KN(e,n(0,e.length),t):hf(r,function(s){return(i+(s-e)%i)%i+e})},rQ=function n(e,t,r){var i=t-e,s=i*2;return Ss(e)?KN(e,n(0,e.length-1),t):hf(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},Lm=function(e){for(var t=0,r="",i,s,o,a;~(i=e.indexOf("random(",t));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?TN:kw),r+=e.substr(t,i-t)+GN(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return r+e.substr(t,e.length-t)},YN=function(e,t,r,i,s){var o=t-e,a=i-r;return hf(s,function(u){return r+((u-e)/o*a||0)})},iQ=function n(e,t,r,i){var s=isNaN(e+t)?0:function(g){return(1-g)*e+g*t};if(!s){var o=Mi(e),a={},u,f,d,h,m;if(r===!0&&(i=1)&&(r=null),o)e={p:e},t={p:t};else if(Ss(e)&&!Ss(t)){for(d=[],h=e.length,m=h-2,f=1;f<h;f++)d.push(n(e[f-1],e[f]));h--,s=function(w){w*=h;var _=Math.min(m,~~w);return d[_](w-_)},r=t}else i||(e=zh(Ss(e)?[]:{},e));if(!d){for(u in t)F_.call(a,e,u,"get",t[u]);s=function(w){return z_(w,a)||(o?e.p:e)}}}return hf(r,s)},XA=function(e,t,r){var i=e.labels,s=zl,o,a,u;for(o in i)a=i[o]-t,a<0==!!r&&a&&s>(a=Math.abs(a))&&(u=o,s=a);return u},Uo=function(e,t,r){var i=e.vars,s=i[t],o=Er,a=e._ctx,u,f,d;if(s)return u=i[t+"Params"],f=i.callbackScope||e,r&&Wc.length&&v0(),a&&(Er=a),d=u?s.apply(f,u):s.call(f),Er=o,d},zp=function(e){return lf(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Qi),e.progress()<1&&Uo(e,"onInterrupt"),e},wh,JN=[],XN=function(e){if(e)if(e=!e.name&&e.default||e,N_()||e.headless){var t=e.name,r=Vr(e),i=t&&!r&&e.init?function(){this._props=[]}:e,s={init:Am,render:z_,add:F_,kill:_Q,modifier:wQ,rawVars:0},o={targetTest:0,get:0,getSetter:U_,aliases:{},register:0};if(Wh(),e!==i){if(Do[t])return;Wo(i,Wo(y0(e,s),o)),zh(i.prototype,zh(s,y0(e,o))),Do[i.prop=t]=i,e.targetTest&&(Sv.push(i),M_[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}RN(t,i),e.register&&e.register(vo,i,mo)}else JN.push(e)},lr=255,$p={aqua:[0,lr,lr],lime:[0,lr,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,lr],navy:[0,0,128],white:[lr,lr,lr],olive:[128,128,0],yellow:[lr,lr,0],orange:[lr,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[lr,0,0],pink:[lr,192,203],cyan:[0,lr,lr],transparent:[lr,lr,lr,0]},u2=function(e,t,r){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(r-t)*e*6:e<.5?r:e*3<2?t+(r-t)*(2/3-e)*6:t)*lr+.5|0},QN=function(e,t,r){var i=e?Mu(e)?[e>>16,e>>8&lr,e&lr]:0:$p.black,s,o,a,u,f,d,h,m,g,w;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),$p[e])i=$p[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&lr,i&lr,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&lr,e&lr]}else if(e.substr(0,3)==="hsl"){if(i=w=e.match(kw),!t)u=+i[0]%360/360,f=+i[1]/100,d=+i[2]/100,o=d<=.5?d*(f+1):d+f-d*f,s=d*2-o,i.length>3&&(i[3]*=1),i[0]=u2(u+1/3,s,o),i[1]=u2(u,s,o),i[2]=u2(u-1/3,s,o);else if(~e.indexOf("="))return i=e.match(kN),r&&i.length<4&&(i[3]=1),i}else i=e.match(kw)||$p.transparent;i=i.map(Number)}return t&&!w&&(s=i[0]/lr,o=i[1]/lr,a=i[2]/lr,h=Math.max(s,o,a),m=Math.min(s,o,a),d=(h+m)/2,h===m?u=f=0:(g=h-m,f=d>.5?g/(2-h-m):g/(h+m),u=h===s?(o-a)/g+(o<a?6:0):h===o?(a-s)/g+2:(s-o)/g+4,u*=60),i[0]=~~(u+.5),i[1]=~~(f*100+.5),i[2]=~~(d*100+.5)),r&&i.length<4&&(i[3]=1),i},ZN=function(e){var t=[],r=[],i=-1;return e.split(Hc).forEach(function(s){var o=s.match(yh)||[];t.push.apply(t,o),r.push(i+=o.length+1)}),t.c=r,t},QA=function(e,t,r){var i="",s=(e+i).match(Hc),o=t?"hsla(":"rgba(",a=0,u,f,d,h;if(!s)return e;if(s=s.map(function(m){return(m=QN(m,t,1))&&o+(t?m[0]+","+m[1]+"%,"+m[2]+"%,"+m[3]:m.join(","))+")"}),r&&(d=ZN(e),u=r.c,u.join(i)!==d.c.join(i)))for(f=e.replace(Hc,"1").split(yh),h=f.length-1;a<h;a++)i+=f[a]+(~u.indexOf(a)?s.shift()||o+"0,0,0,0)":(d.length?d:s.length?s:r).shift());if(!f)for(f=e.split(Hc),h=f.length-1;a<h;a++)i+=f[a]+s[a];return i+f[h]},Hc=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in $p)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),sQ=/hsl[a]?\(/,eR=function(e){var t=e.join(" "),r;if(Hc.lastIndex=0,Hc.test(t))return r=sQ.test(t),e[1]=QA(e[1],r),e[0]=QA(e[0],r,ZN(e[1])),!0},km,Bo=function(){var n=Date.now,e=500,t=33,r=n(),i=r,s=1e3/240,o=s,a=[],u,f,d,h,m,g,w=function _(x){var C=n()-i,L=x===!0,j,D,$,H;if((C>e||C<0)&&(r+=C-t),i+=C,$=i-r,j=$-o,(j>0||L)&&(H=++h.frame,m=$-h.time*1e3,h.time=$=$/1e3,o+=j+(j>=s?4:s-j),D=1),L||(u=f(_)),D)for(g=0;g<a.length;g++)a[g]($,m,H,x)};return h={time:0,frame:0,tick:function(){w(!0)},deltaRatio:function(x){return m/(1e3/(x||60))},wake:function(){IN&&(!Pw&&N_()&&(Tl=Pw=window,R_=Tl.document||{},qo.gsap=vo,(Tl.gsapVersions||(Tl.gsapVersions=[])).push(vo.version),NN(g0||Tl.GreenSockGlobals||!Tl.gsap&&Tl||{}),JN.forEach(XN)),d=typeof requestAnimationFrame<"u"&&requestAnimationFrame,u&&h.sleep(),f=d||function(x){return setTimeout(x,o-h.time*1e3+1|0)},km=1,w(2))},sleep:function(){(d?cancelAnimationFrame:clearTimeout)(u),km=0,f=Am},lagSmoothing:function(x,C){e=x||1/0,t=Math.min(C||33,e)},fps:function(x){s=1e3/(x||240),o=h.time*1e3+s},add:function(x,C,L){var j=C?function(D,$,H,R){x(D,$,H,R),h.remove(j)}:x;return h.remove(x),a[L?"unshift":"push"](j),Wh(),j},remove:function(x,C){~(C=a.indexOf(x))&&a.splice(C,1)&&g>=C&&g--},_listeners:a},h}(),Wh=function(){return!km&&Bo.wake()},xn={},oQ=/^[\d.\-M][\d.\-,\s]/,aQ=/["']/g,lQ=function(e){for(var t={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length,a,u,f;s<o;s++)u=r[s],a=s!==o-1?u.lastIndexOf(","):u.length,f=u.substr(0,a),t[i]=isNaN(f)?f.replace(aQ,"").trim():+f,i=u.substr(a+1).trim();return t},uQ=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<r?e.indexOf(")",r+1):r)},cQ=function(e){var t=(e+"").split("("),r=xn[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[lQ(t[1])]:uQ(e).split(",").map(jN)):xn._CE&&oQ.test(e)?xn._CE("",e):r},tR=function(e){return function(t){return 1-e(1-t)}},nR=function n(e,t){for(var r=e._first,i;r;)r instanceof Bs?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=t)),r=r._next},rd=function(e,t){return e&&(Vr(e)?e:xn[e]||cQ(e))||t},Td=function(e,t,r,i){r===void 0&&(r=function(u){return 1-t(1-u)}),i===void 0&&(i=function(u){return u<.5?t(u*2)/2:1-t((1-u)*2)/2});var s={easeIn:t,easeOut:r,easeInOut:i},o;return po(e,function(a){xn[a]=qo[a]=s,xn[o=a.toLowerCase()]=r;for(var u in s)xn[o+(u==="easeIn"?".in":u==="easeOut"?".out":".inOut")]=xn[a+"."+u]=s[u]}),s},rR=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},c2=function n(e,t,r){var i=t>=1?t:1,s=(r||(e?.3:.45))/(t<1?t:1),o=s/Lw*(Math.asin(1/i)||0),a=function(d){return d===1?1:i*Math.pow(2,-10*d)*FX((d-o)*s)+1},u=e==="out"?a:e==="in"?function(f){return 1-a(1-f)}:rR(a);return s=Lw/s,u.config=function(f,d){return n(e,f,d)},u},f2=function n(e,t){t===void 0&&(t=1.70158);var r=function(o){return o?--o*o*((t+1)*o+t)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:rR(r);return i.config=function(s){return n(e,s)},i};po("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;Td(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});xn.Linear.easeNone=xn.none=xn.Linear.easeIn;Td("Elastic",c2("in"),c2("out"),c2());(function(n,e){var t=1/e,r=2*t,i=2.5*t,s=function(a){return a<t?n*a*a:a<r?n*Math.pow(a-1.5/e,2)+.75:a<i?n*(a-=2.25/e)*a+.9375:n*Math.pow(a-2.625/e,2)+.984375};Td("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Td("Expo",function(n){return Math.pow(2,10*(n-1))*n+n*n*n*n*n*n*(1-n)});Td("Circ",function(n){return-(AN(1-n*n)-1)});Td("Sine",function(n){return n===1?1:-jX(n*MX)+1});Td("Back",f2("in"),f2("out"),f2());xn.SteppedEase=xn.steps=qo.SteppedEase={config:function(e,t){e===void 0&&(e=1);var r=1/e,i=e+(t?0:1),s=t?1:0,o=1-xs;return function(a){return((i*Ym(0,o,a)|0)+s)*r}}};Uh.ease=xn["quad.out"];po("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return D_+=n+","+n+"Params,"});var iR=function(e,t){this.id=DX++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:MN,this.set=t?t.getSetter:U_},Pm=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,qh(this,+t.duration,1,1),this.data=t.data,Er&&(this._ctx=Er,Er.data.push(this)),km||Bo.wake()}var e=n.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,qh(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(Wh(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(my(this,r),!s._dp||s.parent||VN(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Rl(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===xs||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),DN(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+YA(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+YA(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?$h(this._tTime,s)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-1e-8?0:this._rts;if(this._rts===r)return this;var s=this.parent&&this._ts?w0(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-1e-8?0:this._rts,this.totalTime(Ym(-Math.abs(this._delay),this._tDur,s),i!==!1),py(this),WX(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Wh(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==xs&&(this._tTime-=xs)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Rl(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(ho(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?w0(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=UX);var i=Qi;return Qi=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),Qi=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,JA(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,JA(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(va(this,r),ho(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,ho(i)),this._dur||(this._zTime=-1e-8),this},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-xs)},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this;return new Promise(function(s){var o=Vr(r)?r:FN,a=function(){var f=i.then;i.then=null,Vr(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=f),s(o),i.then=f};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){zp(this)},n}();Wo(Pm.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Bs=function(n){CN(e,n);function e(r,i){var s;return r===void 0&&(r={}),s=n.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=ho(r.sortChildren),Pr&&Rl(r.parent||Pr,Eu(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&UN(Eu(s),r.scrollTrigger),s}var t=e.prototype;return t.to=function(i,s,o){return tm(0,arguments,this),this},t.from=function(i,s,o){return tm(1,arguments,this),this},t.fromTo=function(i,s,o,a){return tm(2,arguments,this),this},t.set=function(i,s,o){return s.duration=0,s.parent=this,em(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new ri(i,s,va(this,o),1),this},t.call=function(i,s,o){return Rl(this,ri.delayedCall(0,i,s),o)},t.staggerTo=function(i,s,o,a,u,f,d){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=f,o.onCompleteParams=d,o.parent=this,new ri(i,o,va(this,u)),this},t.staggerFrom=function(i,s,o,a,u,f,d){return o.runBackwards=1,em(o).immediateRender=ho(o.immediateRender),this.staggerTo(i,s,o,a,u,f,d)},t.staggerFromTo=function(i,s,o,a,u,f,d,h){return a.startAt=o,em(a).immediateRender=ho(a.immediateRender),this.staggerTo(i,s,a,u,f,d,h)},t.render=function(i,s,o){var a=this._time,u=this._dirty?this.totalDuration():this._tDur,f=this._dur,d=i<=0?0:ii(i),h=this._zTime<0!=i<0&&(this._initted||!f),m,g,w,_,x,C,L,j,D,$,H,R;if(this!==Pr&&d>u&&i>=0&&(d=u),d!==this._tTime||o||h){if(a!==this._time&&f&&(d+=this._time-a,i+=this._time-a),m=d,D=this._start,j=this._ts,C=!j,h&&(f||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(H=this._yoyo,x=f+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(x*100+i,s,o);if(m=ii(d%x),d===u?(_=this._repeat,m=f):($=ii(d/x),_=~~$,_&&_===$&&(m=f,_--),m>f&&(m=f)),$=$h(this._tTime,x),!a&&this._tTime&&$!==_&&this._tTime-$*x-this._dur<=0&&($=_),H&&_&1&&(m=f-m,R=1),_!==$&&!this._lock){var I=H&&$&1,N=I===(H&&_&1);if(_<$&&(I=!I),a=I?0:d%f?f:d,this._lock=1,this.render(a||(R?0:ii(_*x)),s,!f)._lock=0,this._tTime=d,!s&&this.parent&&Uo(this,"onRepeat"),this.vars.repeatRefresh&&!R&&(this.invalidate()._lock=1),a&&a!==this._time||C!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(f=this._dur,u=this._tDur,N&&(this._lock=2,a=I?f:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!R&&this.invalidate()),this._lock=0,!this._ts&&!C)return this;nR(this,R)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(L=YX(this,ii(a),ii(m)),L&&(d-=m-(m=L._start))),this._tTime=d,this._time=m,this._act=!j,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&m&&!s&&!_&&(Uo(this,"onStart"),this._tTime!==d))return this;if(m>=a&&i>=0)for(g=this._first;g;){if(w=g._next,(g._act||m>=g._start)&&g._ts&&L!==g){if(g.parent!==this)return this.render(i,s,o);if(g.render(g._ts>0?(m-g._start)*g._ts:(g._dirty?g.totalDuration():g._tDur)+(m-g._start)*g._ts,s,o),m!==this._time||!this._ts&&!C){L=0,w&&(d+=this._zTime=-1e-8);break}}g=w}else{g=this._last;for(var W=i<0?i:m;g;){if(w=g._prev,(g._act||W<=g._end)&&g._ts&&L!==g){if(g.parent!==this)return this.render(i,s,o);if(g.render(g._ts>0?(W-g._start)*g._ts:(g._dirty?g.totalDuration():g._tDur)+(W-g._start)*g._ts,s,o||Qi&&(g._initted||g._startAt)),m!==this._time||!this._ts&&!C){L=0,w&&(d+=this._zTime=W?-1e-8:xs);break}}g=w}}if(L&&!s&&(this.pause(),L.render(m>=a?0:-1e-8)._zTime=m>=a?1:-1,this._ts))return this._start=D,py(this),this.render(i,s,o);this._onUpdate&&!s&&Uo(this,"onUpdate",!0),(d===u&&this._tTime>=this.totalDuration()||!d&&a)&&(D===this._start||Math.abs(j)!==Math.abs(this._ts))&&(this._lock||((i||!f)&&(d===u&&this._ts>0||!d&&this._ts<0)&&lf(this,1),!s&&!(i<0&&!a)&&(d||a||!u)&&(Uo(this,d===u&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(d<u&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var o=this;if(Mu(s)||(s=va(this,s,i)),!(i instanceof Pm)){if(Ss(i))return i.forEach(function(a){return o.add(a,s)}),this;if(Mi(i))return this.addLabel(i,s);if(Vr(i))i=ri.delayedCall(0,i);else return this}return this!==i?Rl(this,i,s):this},t.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-1e8);for(var u=[],f=this._first;f;)f._start>=a&&(f instanceof ri?s&&u.push(f):(o&&u.push(f),i&&u.push.apply(u,f.getChildren(!0,s,o)))),f=f._next;return u},t.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},t.remove=function(i){return Mi(i)?this.removeLabel(i):Vr(i)?this.killTweensOf(i):(i.parent===this&&hy(this,i),i===this._recent&&(this._recent=this._last),nd(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ii(Bo.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),n.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=va(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,o){var a=ri.delayedCall(0,s||Am,o);return a.data="isPause",this._hasPause=1,Rl(this,a,va(this,i))},t.removePause=function(i){var s=this._first;for(i=va(this,i);s;)s._start===i&&s.data==="isPause"&&lf(s),s=s._next},t.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),u=a.length;u--;)Dc!==a[u]&&a[u].kill(i,s);return this},t.getTweensOf=function(i,s){for(var o=[],a=_a(i),u=this._first,f=Mu(s),d;u;)u instanceof ri?zX(u._targets,a)&&(f?(!Dc||u._initted&&u._ts)&&u.globalTime(0)<=s&&u.globalTime(u.totalDuration())>s:!s||u.isActive())&&o.push(u):(d=u.getTweensOf(a,s)).length&&o.push.apply(o,d),u=u._next;return o},t.tweenTo=function(i,s){s=s||{};var o=this,a=va(o,i),u=s,f=u.startAt,d=u.onStart,h=u.onStartParams,m=u.immediateRender,g,w=ri.to(o,Wo({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(f&&"time"in f?f.time:o._time))/o.timeScale())||xs,onStart:function(){if(o.pause(),!g){var x=s.duration||Math.abs((a-(f&&"time"in f?f.time:o._time))/o.timeScale());w._dur!==x&&qh(w,x,0,1).render(w._time,!0,!0),g=1}d&&d.apply(w,h||[])}},s));return m?w.render(0):w},t.tweenFromTo=function(i,s,o){return this.tweenTo(s,Wo({startAt:{time:va(this,i)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),XA(this,va(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),XA(this,va(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+xs)},t.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,u=this.labels,f;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(f in u)u[f]>=o&&(u[f]+=i);return nd(this)},t.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return n.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),nd(this)},t.totalDuration=function(i){var s=0,o=this,a=o._last,u=zl,f,d,h;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(h=o.parent;a;)f=a._prev,a._dirty&&a.totalDuration(),d=a._start,d>u&&o._sort&&a._ts&&!o._lock?(o._lock=1,Rl(o,a,d-a._delay,1)._lock=0):u=d,d<0&&a._ts&&(s-=d,(!h&&!o._dp||h&&h.smoothChildTiming)&&(o._start+=d/o._ts,o._time-=d,o._tTime-=d),o.shiftChildren(-d,!1,-1/0),u=0),a._end>s&&a._ts&&(s=a._end),a=f;qh(o,o===Pr&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(Pr._ts&&(DN(Pr,w0(i,Pr)),ON=Bo.frame),Bo.frame>=GA){GA+=$o.autoSleep||120;var s=Pr._first;if((!s||!s._ts)&&$o.autoSleep&&Bo._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Bo.sleep()}}},e}(Pm);Wo(Bs.prototype,{_lock:0,_hasPause:0,_forcing:0});var fQ=function(e,t,r,i,s,o,a){var u=new mo(this._pt,e,t,0,1,cR,null,s),f=0,d=0,h,m,g,w,_,x,C,L;for(u.b=r,u.e=i,r+="",i+="",(C=~i.indexOf("random("))&&(i=Lm(i)),o&&(L=[r,i],o(L,e,t),r=L[0],i=L[1]),m=r.match(a2)||[];h=a2.exec(i);)w=h[0],_=i.substring(f,h.index),g?g=(g+1)%5:_.substr(-5)==="rgba("&&(g=1),w!==m[d++]&&(x=parseFloat(m[d-1])||0,u._pt={_next:u._pt,p:_||d===1?_:",",s:x,c:w.charAt(1)==="="?Th(x,w)-x:parseFloat(w)-x,m:g&&g<4?Math.round:0},f=a2.lastIndex);return u.c=f<i.length?i.substring(f,i.length):"",u.fp=a,(PN.test(i)||C)&&(u.e=0),this._pt=u,u},F_=function(e,t,r,i,s,o,a,u,f,d){Vr(i)&&(i=i(s||0,e,o));var h=e[t],m=r!=="get"?r:Vr(h)?f?e[t.indexOf("set")||!Vr(e["get"+t.substr(3)])?t:"get"+t.substr(3)](f):e[t]():h,g=Vr(h)?f?gQ:lR:V_,w;if(Mi(i)&&(~i.indexOf("random(")&&(i=Lm(i)),i.charAt(1)==="="&&(w=Th(m,i)+(bs(m)||0),(w||w===0)&&(i=w))),!d||m!==i||Dw)return!isNaN(m*i)&&i!==""?(w=new mo(this._pt,e,t,+m||0,i-(m||0),typeof h=="boolean"?yQ:uR,0,g),f&&(w.fp=f),a&&w.modifier(a,this,e),this._pt=w):(!h&&!(t in e)&&O_(t,i),fQ.call(this,e,t,m,i,g,u||$o.stringFilter,f))},dQ=function(e,t,r,i,s){if(Vr(e)&&(e=nm(e,s,t,r,i)),!Hl(e)||e.style&&e.nodeType||Ss(e)||LN(e))return Mi(e)?nm(e,s,t,r,i):e;var o={},a;for(a in e)o[a]=nm(e[a],s,t,r,i);return o},sR=function(e,t,r,i,s,o){var a,u,f,d;if(Do[e]&&(a=new Do[e]).init(s,a.rawVars?t[e]:dQ(t[e],i,s,o,r),r,i,o)!==!1&&(r._pt=u=new mo(r._pt,s,e,0,1,a.render,a,0,a.priority),r!==wh))for(f=r._ptLookup[r._targets.indexOf(s)],d=a._props.length;d--;)f[a._props[d]]=u;return a},Dc,Dw,B_=function n(e,t,r){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,u=i.lazy,f=i.onUpdate,d=i.runBackwards,h=i.yoyoEase,m=i.keyframes,g=i.autoRevert,w=e._dur,_=e._startAt,x=e._targets,C=e.parent,L=C&&C.data==="nested"?C.vars.targets:x,j=e._overwrite==="auto"&&!T_,D=e.timeline,$,H,R,I,N,W,O,P,B,Y,ue,ae,le;if(D&&(!m||!s)&&(s="none"),e._ease=rd(s,Uh.ease),e._yEase=h?tR(rd(h===!0?s:h,Uh.ease)):0,h&&e._yoyo&&!e._repeat&&(h=e._yEase,e._yEase=e._ease,e._ease=h),e._from=!D&&!!i.runBackwards,!D||m&&!i.stagger){if(P=x[0]?td(x[0]).harness:0,ae=P&&i[P.prop],$=y0(i,M_),_&&(_._zTime<0&&_.progress(1),t<0&&d&&a&&!g?_.render(-1,!0):_.revert(d&&w?xv:VX),_._lazy=0),o){if(lf(e._startAt=ri.set(x,Wo({data:"isStart",overwrite:!1,parent:C,immediateRender:!0,lazy:!_&&ho(u),startAt:null,delay:0,onUpdate:f&&function(){return Uo(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Qi||!a&&!g)&&e._startAt.revert(xv),a&&w&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(d&&w&&!_){if(t&&(a=!1),R=Wo({overwrite:!1,data:"isFromStart",lazy:a&&!_&&ho(u),immediateRender:a,stagger:0,parent:C},$),ae&&(R[P.prop]=ae),lf(e._startAt=ri.set(x,R)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Qi?e._startAt.revert(xv):e._startAt.render(-1,!0)),e._zTime=t,!a)n(e._startAt,xs,xs);else if(!t)return}for(e._pt=e._ptCache=0,u=w&&ho(u)||u&&!w,H=0;H<x.length;H++){if(N=x[H],O=N._gsap||j_(x)[H]._gsap,e._ptLookup[H]=Y={},Tw[O.id]&&Wc.length&&v0(),ue=L===x?H:L.indexOf(N),P&&(B=new P).init(N,ae||$,e,ue,L)!==!1&&(e._pt=I=new mo(e._pt,N,B.name,0,1,B.render,B,0,B.priority),B._props.forEach(function(te){Y[te]=I}),B.priority&&(W=1)),!P||ae)for(R in $)Do[R]&&(B=sR(R,$,e,ue,N,L))?B.priority&&(W=1):Y[R]=I=F_.call(e,N,R,"get",$[R],ue,L,0,i.stringFilter);e._op&&e._op[H]&&e.kill(N,e._op[H]),j&&e._pt&&(Dc=e,Pr.killTweensOf(N,Y,e.globalTime(t)),le=!e.parent,Dc=0),e._pt&&u&&(Tw[O.id]=1)}W&&fR(e),e._onInit&&e._onInit(e)}e._onUpdate=f,e._initted=(!e._op||e._pt)&&!le,m&&t<=0&&D.render(zl,!0,!0)},hQ=function(e,t,r,i,s,o,a,u){var f=(e._pt&&e._ptCache||(e._ptCache={}))[t],d,h,m,g;if(!f)for(f=e._ptCache[t]=[],m=e._ptLookup,g=e._targets.length;g--;){if(d=m[g][t],d&&d.d&&d.d._pt)for(d=d.d._pt;d&&d.p!==t&&d.fp!==t;)d=d._next;if(!d)return Dw=1,e.vars[t]="+=0",B_(e,a),Dw=0,u?Cm(t+" not eligible for reset"):1;f.push(d)}for(g=f.length;g--;)h=f[g],d=h._pt||h,d.s=(i||i===0)&&!s?i:d.s+(i||0)+o*d.c,d.c=r-d.s,h.e&&(h.e=Kr(r)+bs(h.e)),h.b&&(h.b=d.s+bs(h.b))},pQ=function(e,t){var r=e[0]?td(e[0]).harness:0,i=r&&r.aliases,s,o,a,u;if(!i)return t;s=zh({},t);for(o in i)if(o in s)for(u=i[o].split(","),a=u.length;a--;)s[u[a]]=s[o];return s},mQ=function(e,t,r,i){var s=t.ease||i||"power1.inOut",o,a;if(Ss(t))a=r[e]||(r[e]=[]),t.forEach(function(u,f){return a.push({t:f/(t.length-1)*100,v:u,e:s})});else for(o in t)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},nm=function(e,t,r,i,s){return Vr(e)?e.call(t,r,i,s):Mi(e)&&~e.indexOf("random(")?Lm(e):e},oR=D_+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",aR={};po(oR+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return aR[n]=1});var ri=function(n){CN(e,n);function e(r,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=n.call(this,o?i:em(i))||this;var u=a.vars,f=u.duration,d=u.delay,h=u.immediateRender,m=u.stagger,g=u.overwrite,w=u.keyframes,_=u.defaults,x=u.scrollTrigger,C=u.yoyoEase,L=i.parent||Pr,j=(Ss(r)||LN(r)?Mu(r[0]):"length"in i)?[r]:_a(r),D,$,H,R,I,N,W,O;if(a._targets=j.length?j_(j):Cm("GSAP target "+r+" not found. https://gsap.com",!$o.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=g,w||m||ev(f)||ev(d)){if(i=a.vars,D=a.timeline=new Bs({data:"nested",defaults:_||{},targets:L&&L.data==="nested"?L.vars.targets:j}),D.kill(),D.parent=D._dp=Eu(a),D._start=0,m||ev(f)||ev(d)){if(R=j.length,W=m&&WN(m),Hl(m))for(I in m)~oR.indexOf(I)&&(O||(O={}),O[I]=m[I]);for($=0;$<R;$++)H=y0(i,aR),H.stagger=0,C&&(H.yoyoEase=C),O&&zh(H,O),N=j[$],H.duration=+nm(f,Eu(a),$,N,j),H.delay=(+nm(d,Eu(a),$,N,j)||0)-a._delay,!m&&R===1&&H.delay&&(a._delay=d=H.delay,a._start+=d,H.delay=0),D.to(N,H,W?W($,N,j):0),D._ease=xn.none;D.duration()?f=d=0:a.timeline=0}else if(w){em(Wo(D.vars.defaults,{ease:"none"})),D._ease=rd(w.ease||i.ease||"none");var P=0,B,Y,ue;if(Ss(w))w.forEach(function(ae){return D.to(j,ae,">")}),D.duration();else{H={};for(I in w)I==="ease"||I==="easeEach"||mQ(I,w[I],H,w.easeEach);for(I in H)for(B=H[I].sort(function(ae,le){return ae.t-le.t}),P=0,$=0;$<B.length;$++)Y=B[$],ue={ease:Y.e,duration:(Y.t-($?B[$-1].t:0))/100*f},ue[I]=Y.v,D.to(j,ue,P),P+=ue.duration;D.duration()<f&&D.to({},{duration:f-D.duration()})}}f||a.duration(f=D.duration())}else a.timeline=0;return g===!0&&!T_&&(Dc=Eu(a),Pr.killTweensOf(j),Dc=0),Rl(L,Eu(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(h||!f&&!w&&a._start===ii(L._time)&&ho(h)&&HX(Eu(a))&&L.data!=="nested")&&(a._tTime=-1e-8,a.render(Math.max(0,-d)||0)),x&&UN(Eu(a),x),a}var t=e.prototype;return t.render=function(i,s,o){var a=this._time,u=this._tDur,f=this._dur,d=i<0,h=i>u-xs&&!d?u:i<xs?0:i,m,g,w,_,x,C,L,j,D;if(!f)KX(this,i,s,o);else if(h!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==d||this._lazy){if(m=h,j=this.timeline,this._repeat){if(_=f+this._rDelay,this._repeat<-1&&d)return this.totalTime(_*100+i,s,o);if(m=ii(h%_),h===u?(w=this._repeat,m=f):(x=ii(h/_),w=~~x,w&&w===x?(m=f,w--):m>f&&(m=f)),C=this._yoyo&&w&1,C&&(D=this._yEase,m=f-m),x=$h(this._tTime,_),m===a&&!o&&this._initted&&w===x)return this._tTime=h,this;w!==x&&(j&&this._yEase&&nR(j,C),this.vars.repeatRefresh&&!C&&!this._lock&&m!==_&&this._initted&&(this._lock=o=1,this.render(ii(_*w),!0).invalidate()._lock=0))}if(!this._initted){if(zN(this,d?i:m,o,s,h))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&w!==x))return this;if(f!==this._dur)return this.render(i,s,o)}if(this._tTime=h,this._time=m,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=L=(D||this._ease)(m/f),this._from&&(this.ratio=L=1-L),m&&!a&&!s&&!w&&(Uo(this,"onStart"),this._tTime!==h))return this;for(g=this._pt;g;)g.r(L,g.d),g=g._next;j&&j.render(i<0?i:j._dur*j._ease(m/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(d&&Iw(this,i,s,o),Uo(this,"onUpdate")),this._repeat&&w!==x&&this.vars.onRepeat&&!s&&this.parent&&Uo(this,"onRepeat"),(h===this._tDur||!h)&&this._tTime===h&&(d&&!this._onUpdate&&Iw(this,i,!0,!0),(i||!f)&&(h===this._tDur&&this._ts>0||!h&&this._ts<0)&&lf(this,1),!s&&!(d&&!a)&&(h||a||C)&&(Uo(this,h===u?"onComplete":"onReverseComplete",!0),this._prom&&!(h<u&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),n.prototype.invalidate.call(this,i)},t.resetTo=function(i,s,o,a,u){km||Bo.wake(),this._ts||this.play();var f=Math.min(this._dur,(this._dp._time-this._start)*this._ts),d;return this._initted||B_(this,f),d=this._ease(f/this._dur),hQ(this,i,s,o,a,d,f,u)?this.resetTo(i,s,o,a,1):(my(this,0),this.parent||BN(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?zp(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Qi),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,Dc&&Dc.vars.overwrite!==!0)._first||zp(this),this.parent&&o!==this.timeline.totalDuration()&&qh(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,u=i?_a(i):a,f=this._ptLookup,d=this._pt,h,m,g,w,_,x,C;if((!s||s==="all")&&qX(a,u))return s==="all"&&(this._pt=0),zp(this);for(h=this._op=this._op||[],s!=="all"&&(Mi(s)&&(_={},po(s,function(L){return _[L]=1}),s=_),s=pQ(a,s)),C=a.length;C--;)if(~u.indexOf(a[C])){m=f[C],s==="all"?(h[C]=s,w=m,g={}):(g=h[C]=h[C]||{},w=s);for(_ in w)x=m&&m[_],x&&((!("kill"in x.d)||x.d.kill(_)===!0)&&hy(this,x,"_pt"),delete m[_]),g!=="all"&&(g[_]=1)}return this._initted&&!this._pt&&d&&zp(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return tm(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return tm(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return Pr.killTweensOf(i,s,o)},e}(Pm);Wo(ri.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});po("staggerTo,staggerFrom,staggerFromTo",function(n){ri[n]=function(){var e=new Bs,t=Rw.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var V_=function(e,t,r){return e[t]=r},lR=function(e,t,r){return e[t](r)},gQ=function(e,t,r,i){return e[t](i.fp,r)},vQ=function(e,t,r){return e.setAttribute(t,r)},U_=function(e,t){return Vr(e[t])?lR:I_(e[t])&&e.setAttribute?vQ:V_},uR=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},yQ=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},cR=function(e,t){var r=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=t.c}t.set(t.t,t.p,i,t)},z_=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},wQ=function(e,t,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,t,r),s=o},_Q=function(e){for(var t=this._pt,r,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?hy(this,t,"_pt"):t.dep||(r=1),t=i;return!r},bQ=function(e,t,r,i){i.mSet(e,t,i.m.call(i.tween,r,i.mt),i)},fR=function(e){for(var t=e._pt,r,i,s,o;t;){for(r=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:o)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:o=t,t=r}e._pt=s},mo=function(){function n(t,r,i,s,o,a,u,f,d){this.t=r,this.s=s,this.c=o,this.p=i,this.r=a||uR,this.d=u||this,this.set=f||V_,this.pr=d||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=bQ,this.m=r,this.mt=s,this.tween=i},n}();po(D_+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return M_[n]=1});qo.TweenMax=qo.TweenLite=ri;qo.TimelineLite=qo.TimelineMax=Bs;Pr=new Bs({sortChildren:!1,defaults:Uh,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});$o.stringFilter=eR;var id=[],Ev={},xQ=[],ZA=0,SQ=0,d2=function(e){return(Ev[e]||xQ).map(function(t){return t()})},jw=function(){var e=Date.now(),t=[];e-ZA>2&&(d2("matchMediaInit"),id.forEach(function(r){var i=r.queries,s=r.conditions,o,a,u,f;for(a in i)o=Tl.matchMedia(i[a]).matches,o&&(u=1),o!==s[a]&&(s[a]=o,f=1);f&&(r.revert(),u&&t.push(r))}),d2("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),ZA=e,d2("matchMedia"))},dR=function(){function n(t,r){this.selector=r&&Ow(r),this.data=[],this._r=[],this.isReverted=!1,this.id=SQ++,t&&this.add(t)}var e=n.prototype;return e.add=function(r,i,s){Vr(r)&&(s=i,i=r,r=Vr);var o=this,a=function(){var f=Er,d=o.selector,h;return f&&f!==o&&f.data.push(o),s&&(o.selector=Ow(s)),Er=o,h=i.apply(o,arguments),Vr(h)&&o._r.push(h),Er=f,o.selector=d,o.isReverted=!1,h};return o.last=a,r===Vr?a(o,function(u){return o.add(null,u)}):r?o[r]=a:a},e.ignore=function(r){var i=Er;Er=null,r(this),Er=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof n?r.push.apply(r,i.getTweens()):i instanceof ri&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r?function(){for(var a=s.getTweens(),u=s.data.length,f;u--;)f=s.data[u],f.data==="isFlip"&&(f.revert(),f.getChildren(!0,!0,!1).forEach(function(d){return a.splice(a.indexOf(d),1)}));for(a.map(function(d){return{g:d._dur||d._delay||d._sat&&!d._sat.vars.immediateRender?d.globalTime(0):-1/0,t:d}}).sort(function(d,h){return h.g-d.g||-1/0}).forEach(function(d){return d.t.revert(r)}),u=s.data.length;u--;)f=s.data[u],f instanceof Bs?f.data!=="nested"&&(f.scrollTrigger&&f.scrollTrigger.revert(),f.kill()):!(f instanceof ri)&&f.revert&&f.revert(r);s._r.forEach(function(d){return d(r,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),i)for(var o=id.length;o--;)id[o].id===this.id&&id.splice(o,1)},e.revert=function(r){this.kill(r||{})},n}(),EQ=function(){function n(t){this.contexts=[],this.scope=t,Er&&Er.data.push(this)}var e=n.prototype;return e.add=function(r,i,s){Hl(r)||(r={matches:r});var o=new dR(0,s||this.scope),a=o.conditions={},u,f,d;Er&&!o.selector&&(o.selector=Er.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(f in r)f==="all"?d=1:(u=Tl.matchMedia(r[f]),u&&(id.indexOf(o)<0&&id.push(o),(a[f]=u.matches)&&(d=1),u.addListener?u.addListener(jw):u.addEventListener("change",jw)));return d&&i(o,function(h){return o.add(null,h)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},n}(),_0={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(i){return XN(i)})},timeline:function(e){return new Bs(e)},getTweensOf:function(e,t){return Pr.getTweensOf(e,t)},getProperty:function(e,t,r,i){Mi(e)&&(e=_a(e)[0]);var s=td(e||{}).get,o=r?FN:jN;return r==="native"&&(r=""),e&&(t?o((Do[t]&&Do[t].get||s)(e,t,r,i)):function(a,u,f){return o((Do[a]&&Do[a].get||s)(e,a,u,f))})},quickSetter:function(e,t,r){if(e=_a(e),e.length>1){var i=e.map(function(d){return vo.quickSetter(d,t,r)}),s=i.length;return function(d){for(var h=s;h--;)i[h](d)}}e=e[0]||{};var o=Do[t],a=td(e),u=a.harness&&(a.harness.aliases||{})[t]||t,f=o?function(d){var h=new o;wh._pt=0,h.init(e,r?d+r:d,wh,0,[e]),h.render(1,h),wh._pt&&z_(1,wh)}:a.set(e,u);return o?f:function(d){return f(e,u,r?d+r:d,a,1)}},quickTo:function(e,t,r){var i,s=vo.to(e,Wo((i={},i[t]="+=0.1",i.paused=!0,i.stagger=0,i),r||{})),o=function(u,f,d){return s.resetTo(t,u,f,d)};return o.tween=s,o},isTweening:function(e){return Pr.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=rd(e.ease,Uh.ease)),KA(Uh,e||{})},config:function(e){return KA($o,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!Do[a]&&!qo[a]&&Cm(t+" effect requires "+a+" plugin.")}),l2[t]=function(a,u,f){return r(_a(a),Wo(u||{},s),f)},o&&(Bs.prototype[t]=function(a,u,f){return this.add(l2[t](a,Hl(u)?u:(f=u)&&{},this),f)})},registerEase:function(e,t){xn[e]=rd(t)},parseEase:function(e,t){return arguments.length?rd(e,t):xn},getById:function(e){return Pr.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var r=new Bs(e),i,s;for(r.smoothChildTiming=ho(e.smoothChildTiming),Pr.remove(r),r._dp=0,r._time=r._tTime=Pr._time,i=Pr._first;i;)s=i._next,(t||!(!i._dur&&i instanceof ri&&i.vars.onComplete===i._targets[0]))&&Rl(r,i,i._start-i._delay),i=s;return Rl(Pr,r,0),r},context:function(e,t){return e?new dR(e,t):Er},matchMedia:function(e){return new EQ(e)},matchMediaRefresh:function(){return id.forEach(function(e){var t=e.conditions,r,i;for(i in t)t[i]&&(t[i]=!1,r=1);r&&e.revert()})||jw()},addEventListener:function(e,t){var r=Ev[e]||(Ev[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=Ev[e],i=r&&r.indexOf(t);i>=0&&r.splice(i,1)},utils:{wrap:nQ,wrapYoyo:rQ,distribute:WN,random:GN,snap:HN,normalize:tQ,getUnit:bs,clamp:XX,splitColor:QN,toArray:_a,selector:Ow,mapRange:YN,pipe:ZX,unitize:eQ,interpolate:iQ,shuffle:qN},install:NN,effects:l2,ticker:Bo,updateRoot:Bs.updateRoot,plugins:Do,globalTimeline:Pr,core:{PropTween:mo,globals:RN,Tween:ri,Timeline:Bs,Animation:Pm,getCache:td,_removeLinkedListItem:hy,reverting:function(){return Qi},context:function(e){return e&&Er&&(Er.data.push(e),e._ctx=Er),Er},suppressOverwrites:function(e){return T_=e}}};po("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return _0[n]=ri[n]});Bo.add(Bs.updateRoot);wh=_0.to({},{duration:0});var CQ=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},AQ=function(e,t){var r=e._targets,i,s,o;for(i in t)for(s=r.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=CQ(o,i)),o&&o.modifier&&o.modifier(t[i],e,r[s],i))},h2=function(e,t){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(a){var u,f;if(Mi(s)&&(u={},po(s,function(d){return u[d]=1}),s=u),t){u={};for(f in s)u[f]=t(s[f]);s=u}AQ(a,s)}}}},vo=_0.registerPlugin({name:"attr",init:function(e,t,r,i,s){var o,a,u;this.tween=r;for(o in t)u=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(u||0)+"",t[o],i,s,0,0,o),a.op=o,a.b=u,this._props.push(o)},render:function(e,t){for(var r=t._pt;r;)Qi?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},h2("roundProps",Mw),h2("modifiers"),h2("snap",HN))||_0;ri.version=Bs.version=vo.version="3.12.7";IN=1;N_()&&Wh();xn.Power0;xn.Power1;xn.Power2;xn.Power3;xn.Power4;xn.Linear;xn.Quad;xn.Cubic;xn.Quart;xn.Quint;xn.Strong;xn.Elastic;xn.Back;xn.SteppedEase;xn.Bounce;xn.Sine;xn.Expo;xn.Circ;/*!
 * CSSPlugin 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var eL,jc,Ih,$_,Xf,tL,q_,LQ=function(){return typeof window<"u"},Du={},Uf=180/Math.PI,Nh=Math.PI/180,ah=Math.atan2,nL=1e8,W_=/([A-Z])/g,kQ=/(left|right|width|margin|padding|x)/i,PQ=/[\s,\(]\S/,Ml={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Fw=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},TQ=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},IQ=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},NQ=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},hR=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},pR=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},RQ=function(e,t,r){return e.style[t]=r},OQ=function(e,t,r){return e.style.setProperty(t,r)},MQ=function(e,t,r){return e._gsap[t]=r},DQ=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},jQ=function(e,t,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},FQ=function(e,t,r,i,s){var o=e._gsap;o[t]=r,o.renderTransform(s,o)},Ir="transform",go=Ir+"Origin",BQ=function n(e,t){var r=this,i=this.target,s=i.style,o=i._gsap;if(e in Du&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Ml[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return r.tfm[a]=Cu(i,a)}):this.tfm[e]=o.x?o[e]:Cu(i,e),e===go&&(this.tfm.zOrigin=o.zOrigin);else return Ml.transform.split(",").forEach(function(a){return n.call(r,a,t)});if(this.props.indexOf(Ir)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(go,t,"")),e=Ir}(s||t)&&this.props.push(e,t,s[e])},mR=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},VQ=function(){var e=this.props,t=this.target,r=t.style,i=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?t[e[s]](e[s+2]):t[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(W_,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=q_(),(!s||!s.isStart)&&!r[Ir]&&(mR(r),i.zOrigin&&r[go]&&(r[go]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},gR=function(e,t){var r={target:e,props:[],revert:VQ,save:BQ};return e._gsap||vo.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(i){return r.save(i)}),r},vR,Bw=function(e,t){var r=jc.createElementNS?jc.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):jc.createElement(e);return r&&r.style?r:jc.createElement(e)},$l=function n(e,t,r){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(W_,"-$1").toLowerCase())||i.getPropertyValue(t)||!r&&n(e,Hh(t)||t,1)||""},rL="O,Moz,ms,Ms,Webkit".split(","),Hh=function(e,t,r){var i=t||Xf,s=i.style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(rL[o]+e in s););return o<0?null:(o===3?"ms":o>=0?rL[o]:"")+e},Vw=function(){LQ()&&window.document&&(eL=window,jc=eL.document,Ih=jc.documentElement,Xf=Bw("div")||{style:{}},Bw("div"),Ir=Hh(Ir),go=Ir+"Origin",Xf.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",vR=!!Hh("perspective"),q_=vo.core.reverting,$_=1)},iL=function(e){var t=e.ownerSVGElement,r=Bw("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),s;i.style.display="block",r.appendChild(i),Ih.appendChild(r);try{s=i.getBBox()}catch{}return r.removeChild(i),Ih.removeChild(r),s},sL=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},yR=function(e){var t,r;try{t=e.getBBox()}catch{t=iL(e),r=1}return t&&(t.width||t.height)||r||(t=iL(e)),t&&!t.width&&!t.x&&!t.y?{x:+sL(e,["x","cx","x1"])||0,y:+sL(e,["y","cy","y1"])||0,width:0,height:0}:t},wR=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&yR(e))},vd=function(e,t){if(t){var r=e.style,i;t in Du&&t!==go&&(t=Ir),r.removeProperty?(i=t.substr(0,2),(i==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),r.removeProperty(i==="--"?t:t.replace(W_,"-$1").toLowerCase())):r.removeAttribute(t)}},Fc=function(e,t,r,i,s,o){var a=new mo(e._pt,t,r,0,1,o?pR:hR);return e._pt=a,a.b=i,a.e=s,e._props.push(r),a},oL={deg:1,rad:1,turn:1},UQ={grid:1,flex:1},uf=function n(e,t,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",a=Xf.style,u=kQ.test(t),f=e.tagName.toLowerCase()==="svg",d=(f?"client":"offset")+(u?"Width":"Height"),h=100,m=i==="px",g=i==="%",w,_,x,C;if(i===o||!s||oL[i]||oL[o])return s;if(o!=="px"&&!m&&(s=n(e,t,r,"px")),C=e.getCTM&&wR(e),(g||o==="%")&&(Du[t]||~t.indexOf("adius")))return w=C?e.getBBox()[u?"width":"height"]:e[d],Kr(g?s/w*h:s/100*w);if(a[u?"width":"height"]=h+(m?o:i),_=i!=="rem"&&~t.indexOf("adius")||i==="em"&&e.appendChild&&!f?e:e.parentNode,C&&(_=(e.ownerSVGElement||{}).parentNode),(!_||_===jc||!_.appendChild)&&(_=jc.body),x=_._gsap,x&&g&&x.width&&u&&x.time===Bo.time&&!x.uncache)return Kr(s/x.width*h);if(g&&(t==="height"||t==="width")){var L=e.style[t];e.style[t]=h+i,w=e[d],L?e.style[t]=L:vd(e,t)}else(g||o==="%")&&!UQ[$l(_,"display")]&&(a.position=$l(e,"position")),_===e&&(a.position="static"),_.appendChild(Xf),w=Xf[d],_.removeChild(Xf),a.position="absolute";return u&&g&&(x=td(_),x.time=Bo.time,x.width=_[d]),Kr(m?w*s/h:w&&s?h/w*s:0)},Cu=function(e,t,r,i){var s;return $_||Vw(),t in Ml&&t!=="transform"&&(t=Ml[t],~t.indexOf(",")&&(t=t.split(",")[0])),Du[t]&&t!=="transform"?(s=Im(e,i),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:x0($l(e,go))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=b0[t]&&b0[t](e,t,r)||$l(e,t)||MN(e,t)||(t==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?uf(e,t,s,r)+r:s},zQ=function(e,t,r,i){if(!r||r==="none"){var s=Hh(t,e,1),o=s&&$l(e,s,1);o&&o!==r?(t=s,r=o):t==="borderColor"&&(r=$l(e,"borderTopColor"))}var a=new mo(this._pt,e.style,t,0,1,cR),u=0,f=0,d,h,m,g,w,_,x,C,L,j,D,$;if(a.b=r,a.e=i,r+="",i+="",i==="auto"&&(_=e.style[t],e.style[t]=i,i=$l(e,t)||i,_?e.style[t]=_:vd(e,t)),d=[r,i],eR(d),r=d[0],i=d[1],m=r.match(yh)||[],$=i.match(yh)||[],$.length){for(;h=yh.exec(i);)x=h[0],L=i.substring(u,h.index),w?w=(w+1)%5:(L.substr(-5)==="rgba("||L.substr(-5)==="hsla(")&&(w=1),x!==(_=m[f++]||"")&&(g=parseFloat(_)||0,D=_.substr((g+"").length),x.charAt(1)==="="&&(x=Th(g,x)+D),C=parseFloat(x),j=x.substr((C+"").length),u=yh.lastIndex-j.length,j||(j=j||$o.units[t]||D,u===i.length&&(i+=j,a.e+=j)),D!==j&&(g=uf(e,t,_,j)||0),a._pt={_next:a._pt,p:L||f===1?L:",",s:g,c:C-g,m:w&&w<4||t==="zIndex"?Math.round:0});a.c=u<i.length?i.substring(u,i.length):""}else a.r=t==="display"&&i==="none"?pR:hR;return PN.test(i)&&(a.e=0),this._pt=a,a},aL={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},$Q=function(e){var t=e.split(" "),r=t[0],i=t[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),t[0]=aL[r]||r,t[1]=aL[i]||i,t.join(" ")},qQ=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r=t.t,i=r.style,s=t.u,o=r._gsap,a,u,f;if(s==="all"||s===!0)i.cssText="",u=1;else for(s=s.split(","),f=s.length;--f>-1;)a=s[f],Du[a]&&(u=1,a=a==="transformOrigin"?go:Ir),vd(r,a);u&&(vd(r,Ir),o&&(o.svg&&r.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",Im(r,1),o.uncache=1,mR(i)))}},b0={clearProps:function(e,t,r,i,s){if(s.data!=="isFromStart"){var o=e._pt=new mo(e._pt,t,r,0,0,qQ);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},Tm=[1,0,0,1,0,0],_R={},bR=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},lL=function(e){var t=$l(e,Ir);return bR(t)?Tm:t.substr(7).match(kN).map(Kr)},H_=function(e,t){var r=e._gsap||td(e),i=e.style,s=lL(e),o,a,u,f;return r.svg&&e.getAttribute("transform")?(u=e.transform.baseVal.consolidate().matrix,s=[u.a,u.b,u.c,u.d,u.e,u.f],s.join(",")==="1,0,0,1,0,0"?Tm:s):(s===Tm&&!e.offsetParent&&e!==Ih&&!r.svg&&(u=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(f=1,a=e.nextElementSibling,Ih.appendChild(e)),s=lL(e),u?i.display=u:vd(e,"display"),f&&(a?o.insertBefore(e,a):o?o.appendChild(e):Ih.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},Uw=function(e,t,r,i,s,o){var a=e._gsap,u=s||H_(e,!0),f=a.xOrigin||0,d=a.yOrigin||0,h=a.xOffset||0,m=a.yOffset||0,g=u[0],w=u[1],_=u[2],x=u[3],C=u[4],L=u[5],j=t.split(" "),D=parseFloat(j[0])||0,$=parseFloat(j[1])||0,H,R,I,N;r?u!==Tm&&(R=g*x-w*_)&&(I=D*(x/R)+$*(-_/R)+(_*L-x*C)/R,N=D*(-w/R)+$*(g/R)-(g*L-w*C)/R,D=I,$=N):(H=yR(e),D=H.x+(~j[0].indexOf("%")?D/100*H.width:D),$=H.y+(~(j[1]||j[0]).indexOf("%")?$/100*H.height:$)),i||i!==!1&&a.smooth?(C=D-f,L=$-d,a.xOffset=h+(C*g+L*_)-C,a.yOffset=m+(C*w+L*x)-L):a.xOffset=a.yOffset=0,a.xOrigin=D,a.yOrigin=$,a.smooth=!!i,a.origin=t,a.originIsAbsolute=!!r,e.style[go]="0px 0px",o&&(Fc(o,a,"xOrigin",f,D),Fc(o,a,"yOrigin",d,$),Fc(o,a,"xOffset",h,a.xOffset),Fc(o,a,"yOffset",m,a.yOffset)),e.setAttribute("data-svg-origin",D+" "+$)},Im=function(e,t){var r=e._gsap||new iR(e);if("x"in r&&!t&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,o="px",a="deg",u=getComputedStyle(e),f=$l(e,go)||"0",d,h,m,g,w,_,x,C,L,j,D,$,H,R,I,N,W,O,P,B,Y,ue,ae,le,te,ce,fe,ne,z,J,se,Z;return d=h=m=_=x=C=L=j=D=0,g=w=1,r.svg=!!(e.getCTM&&wR(e)),u.translate&&((u.translate!=="none"||u.scale!=="none"||u.rotate!=="none")&&(i[Ir]=(u.translate!=="none"?"translate3d("+(u.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(u.rotate!=="none"?"rotate("+u.rotate+") ":"")+(u.scale!=="none"?"scale("+u.scale.split(" ").join(",")+") ":"")+(u[Ir]!=="none"?u[Ir]:"")),i.scale=i.rotate=i.translate="none"),R=H_(e,r.svg),r.svg&&(r.uncache?(te=e.getBBox(),f=r.xOrigin-te.x+"px "+(r.yOrigin-te.y)+"px",le=""):le=!t&&e.getAttribute("data-svg-origin"),Uw(e,le||f,!!le||r.originIsAbsolute,r.smooth!==!1,R)),$=r.xOrigin||0,H=r.yOrigin||0,R!==Tm&&(O=R[0],P=R[1],B=R[2],Y=R[3],d=ue=R[4],h=ae=R[5],R.length===6?(g=Math.sqrt(O*O+P*P),w=Math.sqrt(Y*Y+B*B),_=O||P?ah(P,O)*Uf:0,L=B||Y?ah(B,Y)*Uf+_:0,L&&(w*=Math.abs(Math.cos(L*Nh))),r.svg&&(d-=$-($*O+H*B),h-=H-($*P+H*Y))):(Z=R[6],J=R[7],fe=R[8],ne=R[9],z=R[10],se=R[11],d=R[12],h=R[13],m=R[14],I=ah(Z,z),x=I*Uf,I&&(N=Math.cos(-I),W=Math.sin(-I),le=ue*N+fe*W,te=ae*N+ne*W,ce=Z*N+z*W,fe=ue*-W+fe*N,ne=ae*-W+ne*N,z=Z*-W+z*N,se=J*-W+se*N,ue=le,ae=te,Z=ce),I=ah(-B,z),C=I*Uf,I&&(N=Math.cos(-I),W=Math.sin(-I),le=O*N-fe*W,te=P*N-ne*W,ce=B*N-z*W,se=Y*W+se*N,O=le,P=te,B=ce),I=ah(P,O),_=I*Uf,I&&(N=Math.cos(I),W=Math.sin(I),le=O*N+P*W,te=ue*N+ae*W,P=P*N-O*W,ae=ae*N-ue*W,O=le,ue=te),x&&Math.abs(x)+Math.abs(_)>359.9&&(x=_=0,C=180-C),g=Kr(Math.sqrt(O*O+P*P+B*B)),w=Kr(Math.sqrt(ae*ae+Z*Z)),I=ah(ue,ae),L=Math.abs(I)>2e-4?I*Uf:0,D=se?1/(se<0?-se:se):0),r.svg&&(le=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!bR($l(e,Ir)),le&&e.setAttribute("transform",le))),Math.abs(L)>90&&Math.abs(L)<270&&(s?(g*=-1,L+=_<=0?180:-180,_+=_<=0?180:-180):(w*=-1,L+=L<=0?180:-180)),t=t||r.uncache,r.x=d-((r.xPercent=d&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-d)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=h-((r.yPercent=h&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-h)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=m+o,r.scaleX=Kr(g),r.scaleY=Kr(w),r.rotation=Kr(_)+a,r.rotationX=Kr(x)+a,r.rotationY=Kr(C)+a,r.skewX=L+a,r.skewY=j+a,r.transformPerspective=D+o,(r.zOrigin=parseFloat(f.split(" ")[2])||!t&&r.zOrigin||0)&&(i[go]=x0(f)),r.xOffset=r.yOffset=0,r.force3D=$o.force3D,r.renderTransform=r.svg?HQ:vR?xR:WQ,r.uncache=0,r},x0=function(e){return(e=e.split(" "))[0]+" "+e[1]},p2=function(e,t,r){var i=bs(t);return Kr(parseFloat(t)+parseFloat(uf(e,"x",r+"px",i)))+i},WQ=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,xR(e,t)},Df="0deg",Op="0px",jf=") ",xR=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,u=r.z,f=r.rotation,d=r.rotationY,h=r.rotationX,m=r.skewX,g=r.skewY,w=r.scaleX,_=r.scaleY,x=r.transformPerspective,C=r.force3D,L=r.target,j=r.zOrigin,D="",$=C==="auto"&&e&&e!==1||C===!0;if(j&&(h!==Df||d!==Df)){var H=parseFloat(d)*Nh,R=Math.sin(H),I=Math.cos(H),N;H=parseFloat(h)*Nh,N=Math.cos(H),o=p2(L,o,R*N*-j),a=p2(L,a,-Math.sin(H)*-j),u=p2(L,u,I*N*-j+j)}x!==Op&&(D+="perspective("+x+jf),(i||s)&&(D+="translate("+i+"%, "+s+"%) "),($||o!==Op||a!==Op||u!==Op)&&(D+=u!==Op||$?"translate3d("+o+", "+a+", "+u+") ":"translate("+o+", "+a+jf),f!==Df&&(D+="rotate("+f+jf),d!==Df&&(D+="rotateY("+d+jf),h!==Df&&(D+="rotateX("+h+jf),(m!==Df||g!==Df)&&(D+="skew("+m+", "+g+jf),(w!==1||_!==1)&&(D+="scale("+w+", "+_+jf),L.style[Ir]=D||"translate(0, 0)"},HQ=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,u=r.rotation,f=r.skewX,d=r.skewY,h=r.scaleX,m=r.scaleY,g=r.target,w=r.xOrigin,_=r.yOrigin,x=r.xOffset,C=r.yOffset,L=r.forceCSS,j=parseFloat(o),D=parseFloat(a),$,H,R,I,N;u=parseFloat(u),f=parseFloat(f),d=parseFloat(d),d&&(d=parseFloat(d),f+=d,u+=d),u||f?(u*=Nh,f*=Nh,$=Math.cos(u)*h,H=Math.sin(u)*h,R=Math.sin(u-f)*-m,I=Math.cos(u-f)*m,f&&(d*=Nh,N=Math.tan(f-d),N=Math.sqrt(1+N*N),R*=N,I*=N,d&&(N=Math.tan(d),N=Math.sqrt(1+N*N),$*=N,H*=N)),$=Kr($),H=Kr(H),R=Kr(R),I=Kr(I)):($=h,I=m,H=R=0),(j&&!~(o+"").indexOf("px")||D&&!~(a+"").indexOf("px"))&&(j=uf(g,"x",o,"px"),D=uf(g,"y",a,"px")),(w||_||x||C)&&(j=Kr(j+w-(w*$+_*R)+x),D=Kr(D+_-(w*H+_*I)+C)),(i||s)&&(N=g.getBBox(),j=Kr(j+i/100*N.width),D=Kr(D+s/100*N.height)),N="matrix("+$+","+H+","+R+","+I+","+j+","+D+")",g.setAttribute("transform",N),L&&(g.style[Ir]=N)},GQ=function(e,t,r,i,s){var o=360,a=Mi(s),u=parseFloat(s)*(a&&~s.indexOf("rad")?Uf:1),f=u-i,d=i+f+"deg",h,m;return a&&(h=s.split("_")[1],h==="short"&&(f%=o,f!==f%(o/2)&&(f+=f<0?o:-360)),h==="cw"&&f<0?f=(f+o*nL)%o-~~(f/o)*o:h==="ccw"&&f>0&&(f=(f-o*nL)%o-~~(f/o)*o)),e._pt=m=new mo(e._pt,t,r,i,f,TQ),m.e=d,m.u="deg",e._props.push(r),m},uL=function(e,t){for(var r in t)e[r]=t[r];return e},KQ=function(e,t,r){var i=uL({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,u,f,d,h,m,g,w;i.svg?(f=r.getAttribute("transform"),r.setAttribute("transform",""),o[Ir]=t,a=Im(r,1),vd(r,Ir),r.setAttribute("transform",f)):(f=getComputedStyle(r)[Ir],o[Ir]=t,a=Im(r,1),o[Ir]=f);for(u in Du)f=i[u],d=a[u],f!==d&&s.indexOf(u)<0&&(g=bs(f),w=bs(d),h=g!==w?uf(r,u,f,w):parseFloat(f),m=parseFloat(d),e._pt=new mo(e._pt,a,u,h,m-h,Fw),e._pt.u=w||0,e._props.push(u));uL(a,i)};po("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",i="Bottom",s="Left",o=(e<3?[t,r,i,s]:[t+s,t+r,i+r,i+s]).map(function(a){return e<2?n+a:"border"+a+n});b0[e>1?"border"+n:n]=function(a,u,f,d,h){var m,g;if(arguments.length<4)return m=o.map(function(w){return Cu(a,w,f)}),g=m.join(" "),g.split(m[0]).length===5?m[0]:g;m=(d+"").split(" "),g={},o.forEach(function(w,_){return g[w]=m[_]=m[_]||m[(_-1)/2|0]}),a.init(u,g,h)}});var SR={name:"css",register:Vw,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,i,s){var o=this._props,a=e.style,u=r.vars.startAt,f,d,h,m,g,w,_,x,C,L,j,D,$,H,R,I;$_||Vw(),this.styles=this.styles||gR(e),I=this.styles.props,this.tween=r;for(_ in t)if(_!=="autoRound"&&(d=t[_],!(Do[_]&&sR(_,t,r,i,e,s)))){if(g=typeof d,w=b0[_],g==="function"&&(d=d.call(r,i,e,s),g=typeof d),g==="string"&&~d.indexOf("random(")&&(d=Lm(d)),w)w(this,e,_,d,r)&&(R=1);else if(_.substr(0,2)==="--")f=(getComputedStyle(e).getPropertyValue(_)+"").trim(),d+="",Hc.lastIndex=0,Hc.test(f)||(x=bs(f),C=bs(d)),C?x!==C&&(f=uf(e,_,f,C)+C):x&&(d+=x),this.add(a,"setProperty",f,d,i,s,0,0,_),o.push(_),I.push(_,0,a[_]);else if(g!=="undefined"){if(u&&_ in u?(f=typeof u[_]=="function"?u[_].call(r,i,e,s):u[_],Mi(f)&&~f.indexOf("random(")&&(f=Lm(f)),bs(f+"")||f==="auto"||(f+=$o.units[_]||bs(Cu(e,_))||""),(f+"").charAt(1)==="="&&(f=Cu(e,_))):f=Cu(e,_),m=parseFloat(f),L=g==="string"&&d.charAt(1)==="="&&d.substr(0,2),L&&(d=d.substr(2)),h=parseFloat(d),_ in Ml&&(_==="autoAlpha"&&(m===1&&Cu(e,"visibility")==="hidden"&&h&&(m=0),I.push("visibility",0,a.visibility),Fc(this,a,"visibility",m?"inherit":"hidden",h?"inherit":"hidden",!h)),_!=="scale"&&_!=="transform"&&(_=Ml[_],~_.indexOf(",")&&(_=_.split(",")[0]))),j=_ in Du,j){if(this.styles.save(_),D||($=e._gsap,$.renderTransform&&!t.parseTransform||Im(e,t.parseTransform),H=t.smoothOrigin!==!1&&$.smooth,D=this._pt=new mo(this._pt,a,Ir,0,1,$.renderTransform,$,0,-1),D.dep=1),_==="scale")this._pt=new mo(this._pt,$,"scaleY",$.scaleY,(L?Th($.scaleY,L+h):h)-$.scaleY||0,Fw),this._pt.u=0,o.push("scaleY",_),_+="X";else if(_==="transformOrigin"){I.push(go,0,a[go]),d=$Q(d),$.svg?Uw(e,d,0,H,0,this):(C=parseFloat(d.split(" ")[2])||0,C!==$.zOrigin&&Fc(this,$,"zOrigin",$.zOrigin,C),Fc(this,a,_,x0(f),x0(d)));continue}else if(_==="svgOrigin"){Uw(e,d,1,H,0,this);continue}else if(_ in _R){GQ(this,$,_,m,L?Th(m,L+d):d);continue}else if(_==="smoothOrigin"){Fc(this,$,"smooth",$.smooth,d);continue}else if(_==="force3D"){$[_]=d;continue}else if(_==="transform"){KQ(this,d,e);continue}}else _ in a||(_=Hh(_)||_);if(j||(h||h===0)&&(m||m===0)&&!PQ.test(d)&&_ in a)x=(f+"").substr((m+"").length),h||(h=0),C=bs(d)||(_ in $o.units?$o.units[_]:x),x!==C&&(m=uf(e,_,f,C)),this._pt=new mo(this._pt,j?$:a,_,m,(L?Th(m,L+h):h)-m,!j&&(C==="px"||_==="zIndex")&&t.autoRound!==!1?NQ:Fw),this._pt.u=C||0,x!==C&&C!=="%"&&(this._pt.b=f,this._pt.r=IQ);else if(_ in a)zQ.call(this,e,_,f,L?L+d:d);else if(_ in e)this.add(e,_,f||e[_],L?L+d:d,i,s);else if(_!=="parseTransform"){O_(_,d);continue}j||(_ in a?I.push(_,0,a[_]):typeof e[_]=="function"?I.push(_,2,e[_]()):I.push(_,1,f||e[_])),o.push(_)}}R&&fR(this)},render:function(e,t){if(t.tween._time||!q_())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:Cu,aliases:Ml,getSetter:function(e,t,r){var i=Ml[t];return i&&i.indexOf(",")<0&&(t=i),t in Du&&t!==go&&(e._gsap.x||Cu(e,"x"))?r&&tL===r?t==="scale"?DQ:MQ:(tL=r||{})&&(t==="scale"?jQ:FQ):e.style&&!I_(e.style[t])?RQ:~t.indexOf("-")?OQ:U_(e,t)},core:{_removeProperty:vd,_getMatrix:H_}};vo.utils.checkPrefix=Hh;vo.core.getStyleSaver=gR;(function(n,e,t,r){var i=po(n+","+e+","+t,function(s){Du[s]=1});po(e,function(s){$o.units[s]="deg",_R[s]=1}),Ml[i[13]]=n+","+e,po(r,function(s){var o=s.split(":");Ml[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");po("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){$o.units[n]="px"});vo.registerPlugin(SR);var ER=vo.registerPlugin(SR)||vo;ER.core.Tween;var Cv={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */var YQ=Cv.exports,cL;function JQ(){return cL||(cL=1,function(n,e){(function(t,r){n.exports=r()})(YQ,function(){var t={};t.version="0.2.0";var r=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};t.configure=function(w){var _,x;for(_ in w)x=w[_],x!==void 0&&w.hasOwnProperty(_)&&(r[_]=x);return this},t.status=null,t.set=function(w){var _=t.isStarted();w=i(w,r.minimum,1),t.status=w===1?null:w;var x=t.render(!_),C=x.querySelector(r.barSelector),L=r.speed,j=r.easing;return x.offsetWidth,a(function(D){r.positionUsing===""&&(r.positionUsing=t.getPositioningCSS()),u(C,o(w,L,j)),w===1?(u(x,{transition:"none",opacity:1}),x.offsetWidth,setTimeout(function(){u(x,{transition:"all "+L+"ms linear",opacity:0}),setTimeout(function(){t.remove(),D()},L)},L)):setTimeout(D,L)}),this},t.isStarted=function(){return typeof t.status=="number"},t.start=function(){t.status||t.set(0);var w=function(){setTimeout(function(){t.status&&(t.trickle(),w())},r.trickleSpeed)};return r.trickle&&w(),this},t.done=function(w){return!w&&!t.status?this:t.inc(.3+.5*Math.random()).set(1)},t.inc=function(w){var _=t.status;return _?(typeof w!="number"&&(w=(1-_)*i(Math.random()*_,.1,.95)),_=i(_+w,0,.994),t.set(_)):t.start()},t.trickle=function(){return t.inc(Math.random()*r.trickleRate)},function(){var w=0,_=0;t.promise=function(x){return!x||x.state()==="resolved"?this:(_===0&&t.start(),w++,_++,x.always(function(){_--,_===0?(w=0,t.done()):t.set((w-_)/w)}),this)}}(),t.render=function(w){if(t.isRendered())return document.getElementById("nprogress");d(document.documentElement,"nprogress-busy");var _=document.createElement("div");_.id="nprogress",_.innerHTML=r.template;var x=_.querySelector(r.barSelector),C=w?"-100":s(t.status||0),L=document.querySelector(r.parent),j;return u(x,{transition:"all 0 linear",transform:"translate3d("+C+"%,0,0)"}),r.showSpinner||(j=_.querySelector(r.spinnerSelector),j&&g(j)),L!=document.body&&d(L,"nprogress-custom-parent"),L.appendChild(_),_},t.remove=function(){h(document.documentElement,"nprogress-busy"),h(document.querySelector(r.parent),"nprogress-custom-parent");var w=document.getElementById("nprogress");w&&g(w)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var w=document.body.style,_="WebkitTransform"in w?"Webkit":"MozTransform"in w?"Moz":"msTransform"in w?"ms":"OTransform"in w?"O":"";return _+"Perspective"in w?"translate3d":_+"Transform"in w?"translate":"margin"};function i(w,_,x){return w<_?_:w>x?x:w}function s(w){return(-1+w)*100}function o(w,_,x){var C;return r.positionUsing==="translate3d"?C={transform:"translate3d("+s(w)+"%,0,0)"}:r.positionUsing==="translate"?C={transform:"translate("+s(w)+"%,0)"}:C={"margin-left":s(w)+"%"},C.transition="all "+_+"ms "+x,C}var a=function(){var w=[];function _(){var x=w.shift();x&&x(_)}return function(x){w.push(x),w.length==1&&_()}}(),u=function(){var w=["Webkit","O","Moz","ms"],_={};function x(D){return D.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function($,H){return H.toUpperCase()})}function C(D){var $=document.body.style;if(D in $)return D;for(var H=w.length,R=D.charAt(0).toUpperCase()+D.slice(1),I;H--;)if(I=w[H]+R,I in $)return I;return D}function L(D){return D=x(D),_[D]||(_[D]=C(D))}function j(D,$,H){$=L($),D.style[$]=H}return function(D,$){var H=arguments,R,I;if(H.length==2)for(R in $)I=$[R],I!==void 0&&$.hasOwnProperty(R)&&j(D,R,I);else j(D,H[1],H[2])}}();function f(w,_){var x=typeof w=="string"?w:m(w);return x.indexOf(" "+_+" ")>=0}function d(w,_){var x=m(w),C=x+_;f(x,_)||(w.className=C.substring(1))}function h(w,_){var x=m(w),C;f(w,_)&&(C=x.replace(" "+_+" "," "),w.className=C.substring(1,C.length-1))}function m(w){return(" "+(w.className||"")+" ").replace(/\s+/gi," ")}function g(w){w&&w.parentNode&&w.parentNode.removeChild(w)}return t})}(Cv)),Cv.exports}var XQ=JQ();const tv=yd(XQ),QQ=()=>{const n=bd();return S.useEffect(()=>{tv.configure({showSpinner:!1}),tv.start();const t=setTimeout(()=>{tv.done()},500);return()=>{clearTimeout(t),tv.done()}},[n]),null};function ZQ(){const{user:n,isAuthenticated:e}=S.useContext(Ho),[t,r]=S.useState(!1),i=bd(),s=S.useRef(null),o=S.useRef(null),a=S.useRef(null),u=S.useRef(null),{locationInfoRef:f}=cy();return S.useEffect(()=>{!t&&e&&(r(!0),ni.success("Logged In Successfully"))},[n]),S.useEffect(()=>{var I,N,W,O,P,B,Y,ue,ae,le,te,ce,fe;const d=ER.timeline({defaults:{ease:"elastic.out(1,1)"}});d.from(s.current,{delay:.5,opacity:0,y:-100});const h=(I=o.current)==null?void 0:I.querySelector(".heading"),m=(N=o.current)==null?void 0:N.querySelector(".desc"),g=(W=o.current)==null?void 0:W.querySelector(".buttons"),w=(O=o.current)==null?void 0:O.querySelector(".marquee");h&&m&&g&&w&&d.from(h,{opacity:0,y:100}).from(m,{opacity:0,y:100},"-=0.3").from(g,{opacity:0,y:100},"-=0.3").from(w,{y:100,opacity:0},"-=0.3");const _=(P=a.current)==null?void 0:P.querySelector(".text"),x=(B=a.current)==null?void 0:B.querySelector(".place"),C=(Y=a.current)==null?void 0:Y.querySelector(".day"),L=(ue=a.current)==null?void 0:ue.querySelector(".budget"),j=(ae=a.current)==null?void 0:ae.querySelector(".people"),D=(le=a.current)==null?void 0:le.querySelector(".create-trip-btn");_&&x&&C&&L&&j&&D&&d.from(_,{opacity:0,y:100}).from(x,{opacity:0,y:100},"-=0.3").from(C,{opacity:0,y:100},"-=0.3").from(L,{opacity:0,y:100},"-=0.3").from(j,{opacity:0,y:100},"-=0.3").from(D,{opacity:0,y:100},"-=0.3");const $=(te=f==null?void 0:f.current)==null?void 0:te.querySelector(".location"),H=(ce=f==null?void 0:f.current)==null?void 0:ce.querySelectorAll(".carousel"),R=(fe=f==null?void 0:f.current)==null?void 0:fe.querySelector(".location-info");return $&&H&&R&&d.from($,{opacity:0,y:100}).from(H,{opacity:0,y:100}).from(R,{opacity:0,y:100}),d.from(u.current,{opacity:0,y:100}),()=>{d.kill()}},[i.pathname]),F.jsxs(F.Fragment,{children:[F.jsx(QQ,{}),F.jsxs("div",{className:"app tracking-tighter min-w-[320px]",children:[F.jsx(HF,{headerRef:s}),F.jsx("div",{className:"container max-w-[1024px] w-full min-w-[320px] h-auto",children:F.jsxs(IM,{children:[F.jsx(Su,{path:"/",element:F.jsx(Of,{heroRef:o})}),F.jsx(Su,{path:"/plan-a-trip",element:F.jsx(qY,{createTripPageRef:a})}),F.jsx(Su,{path:"/my-trips/:tripId",element:e?F.jsx(oX,{}):F.jsx(Of,{})}),F.jsx(Su,{path:"/all-trips",element:e?F.jsx(OX,{}):F.jsx(Of,{})}),F.jsx(Su,{path:"/checklist",element:e?F.jsx(LX,{}):F.jsx(Of,{})}),F.jsx(Su,{path:"/joey",element:e?F.jsx(TT,{}):F.jsx(Of,{})}),F.jsx(Su,{path:"/transportation",element:e?F.jsx(TX,{}):F.jsx(Of,{})}),F.jsx(Su,{path:"/cost-risk",element:e?F.jsx(IX,{}):F.jsx(Of,{})})]})}),F.jsx(NX,{footerRef:u})]})]})}class eZ extends Yi.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error",e,t)}render(){return this.state.hasError?F.jsx("div",{className:"flex items-center justify-center min-h-screen",children:F.jsx("h1",{className:"text-2xl font-bold",children:"Something went wrong."})}):this.props.children}}KO.createRoot(document.getElementById("root")).render(F.jsx(FM,{children:F.jsx(UF,{defaultTheme:"dark",storageKey:"vite-ui-theme",children:F.jsx(UO,{domain:"dev-w8utp8ajyc6prxcf.us.auth0.com",clientId:"vJ7cfbl8RqXJSqHKy9upHINnmR29IfTX",authorizationParams:{redirect_uri:window.location.origin,audience:"https://dev-w8utp8ajyc6prxcf.us.auth0.com/api/v2/"},children:F.jsx(wJ,{children:F.jsx(HM,{children:F.jsxs(eZ,{children:[F.jsx(F6,{}),F.jsx(ZQ,{})]})})})})})}));export{ir as _,tZ as c,yd as g};
